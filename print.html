<!DOCTYPE HTML>
<html lang="en" class="dark" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Malda</title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "ayu" : "dark";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('dark')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">README</a></li><li class="chapter-item expanded "><a href="src/Operator/index.html"><strong aria-hidden="true">1.</strong> Operator</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/Operator/Operator.sol/contract.Operator.html"><strong aria-hidden="true">1.1.</strong> Operator</a></li><li class="chapter-item expanded "><a href="src/Operator/OperatorStorage.sol/abstract.OperatorStorage.html"><strong aria-hidden="true">1.2.</strong> OperatorStorage</a></li></ol></li><li class="chapter-item expanded "><a href="src/interest/index.html"><strong aria-hidden="true">2.</strong> interest</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interest/JumpRateModelV4.sol/contract.JumpRateModelV4.html"><strong aria-hidden="true">2.1.</strong> JumpRateModelV4</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/index.html"><strong aria-hidden="true">3.</strong> interfaces</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/index.html"><strong aria-hidden="true">3.1.</strong> external</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/across/index.html"><strong aria-hidden="true">3.1.1.</strong> across</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/across/IAcrossReceiverV3.sol/interface.IAcrossReceiverV3.html"><strong aria-hidden="true">3.1.1.1.</strong> IAcrossReceiverV3</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/across/IAcrossSpokePoolV3.sol/interface.IAcrossSpokePoolV3.html"><strong aria-hidden="true">3.1.1.2.</strong> IAcrossSpokePoolV3</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/chainlink/index.html"><strong aria-hidden="true">3.1.2.</strong> chainlink</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/chainlink/IAggregatorV3.sol/interface.IAggregatorV3.html"><strong aria-hidden="true">3.1.2.1.</strong> IAggregatorV3</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/connext/index.html"><strong aria-hidden="true">3.1.3.</strong> connext</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/connext/IConnext.sol/interface.IConnext.html"><strong aria-hidden="true">3.1.3.1.</strong> IConnext</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/everclear/index.html"><strong aria-hidden="true">3.1.4.</strong> everclear</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/everclear/IEverclearSpoke.sol/interface.IEverclearSpoke.html"><strong aria-hidden="true">3.1.4.1.</strong> IEverclearSpoke</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/index.html"><strong aria-hidden="true">3.1.5.</strong> layerzero</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/index.html"><strong aria-hidden="true">3.1.5.1.</strong> v2</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingParams.html"><strong aria-hidden="true">3.1.5.1.1.</strong> MessagingParams</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingReceipt.html"><strong aria-hidden="true">3.1.5.1.2.</strong> MessagingReceipt</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingFee.html"><strong aria-hidden="true">3.1.5.1.3.</strong> MessagingFee</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.Origin.html"><strong aria-hidden="true">3.1.5.1.4.</strong> Origin</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/interface.ILayerZeroEndpointV2.html"><strong aria-hidden="true">3.1.5.1.5.</strong> ILayerZeroEndpointV2</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.SendParam.html"><strong aria-hidden="true">3.1.5.1.6.</strong> SendParam</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTLimit.html"><strong aria-hidden="true">3.1.5.1.7.</strong> OFTLimit</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTReceipt.html"><strong aria-hidden="true">3.1.5.1.8.</strong> OFTReceipt</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTFeeDetail.html"><strong aria-hidden="true">3.1.5.1.9.</strong> OFTFeeDetail</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/interface.ILayerZeroOFT.html"><strong aria-hidden="true">3.1.5.1.10.</strong> ILayerZeroOFT</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/ILayerZeroReceiverV2.sol/interface.ILayerZeroReceiverV2.html"><strong aria-hidden="true">3.1.5.1.11.</strong> ILayerZeroReceiverV2</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessageLib.sol/enum.MessageLibType.html"><strong aria-hidden="true">3.1.5.1.12.</strong> MessageLibType</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessageLib.sol/interface.IMessageLib.html"><strong aria-hidden="true">3.1.5.1.13.</strong> IMessageLib</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessageLibManager.sol/struct.SetConfigParam.html"><strong aria-hidden="true">3.1.5.1.14.</strong> SetConfigParam</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessageLibManager.sol/interface.IMessageLibManager.html"><strong aria-hidden="true">3.1.5.1.15.</strong> IMessageLibManager</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessagingChannel.sol/interface.IMessagingChannel.html"><strong aria-hidden="true">3.1.5.1.16.</strong> IMessagingChannel</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessagingComposer.sol/interface.IMessagingComposer.html"><strong aria-hidden="true">3.1.5.1.17.</strong> IMessagingComposer</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/v2/IMessagingContext.sol/interface.IMessagingContext.html"><strong aria-hidden="true">3.1.5.1.18.</strong> IMessagingContext</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/ILayerZeroEndpoint.sol/interface.ILayerZeroEndpoint.html"><strong aria-hidden="true">3.1.5.2.</strong> ILayerZeroEndpoint</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/ILayerZeroReceiver.sol/interface.ILayerZeroReceiver.html"><strong aria-hidden="true">3.1.5.3.</strong> ILayerZeroReceiver</a></li><li class="chapter-item expanded "><a href="src/interfaces/external/layerzero/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html"><strong aria-hidden="true">3.1.5.4.</strong> ILayerZeroUserApplicationConfig</a></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/external/poh/index.html"><strong aria-hidden="true">3.1.6.</strong> poh</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/interfaces/external/poh/IPohVerifier.sol/interface.IPohVerifier.html"><strong aria-hidden="true">3.1.6.1.</strong> IPohVerifier</a></li></ol></li></ol></li><li class="chapter-item expanded "><a href="src/interfaces/IBridge.sol/interface.IBridge.html"><strong aria-hidden="true">3.2.</strong> IBridge</a></li><li class="chapter-item expanded "><a href="src/interfaces/IDefaultAdapter.sol/interface.IDefaultAdapter.html"><strong aria-hidden="true">3.3.</strong> IDefaultAdapter</a></li><li class="chapter-item expanded "><a href="src/interfaces/IInterestRateModel.sol/interface.IInterestRateModel.html"><strong aria-hidden="true">3.4.</strong> IInterestRateModel</a></li><li class="chapter-item expanded "><a href="src/interfaces/IOperator.sol/interface.IOperatorData.html"><strong aria-hidden="true">3.5.</strong> IOperatorData</a></li><li class="chapter-item expanded "><a href="src/interfaces/IOperator.sol/interface.IOperatorDefender.html"><strong aria-hidden="true">3.6.</strong> IOperatorDefender</a></li><li class="chapter-item expanded "><a href="src/interfaces/IOperator.sol/interface.IOperator.html"><strong aria-hidden="true">3.7.</strong> IOperator</a></li><li class="chapter-item expanded "><a href="src/interfaces/IOracleOperator.sol/interface.IOracleOperator.html"><strong aria-hidden="true">3.8.</strong> IOracleOperator</a></li><li class="chapter-item expanded "><a href="src/interfaces/IOwnable.sol/interface.IOwnable.html"><strong aria-hidden="true">3.9.</strong> IOwnable</a></li><li class="chapter-item expanded "><a href="src/interfaces/IPauser.sol/interface.IPauser.html"><strong aria-hidden="true">3.10.</strong> IPauser</a></li><li class="chapter-item expanded "><a href="src/interfaces/IRebalancer.sol/interface.IRebalanceMarket.html"><strong aria-hidden="true">3.11.</strong> IRebalanceMarket</a></li><li class="chapter-item expanded "><a href="src/interfaces/IRebalancer.sol/interface.IRebalancer.html"><strong aria-hidden="true">3.12.</strong> IRebalancer</a></li><li class="chapter-item expanded "><a href="src/interfaces/IRewardDistributor.sol/interface.IRewardDistributorData.html"><strong aria-hidden="true">3.13.</strong> IRewardDistributorData</a></li><li class="chapter-item expanded "><a href="src/interfaces/IRewardDistributor.sol/interface.IRewardDistributor.html"><strong aria-hidden="true">3.14.</strong> IRewardDistributor</a></li><li class="chapter-item expanded "><a href="src/interfaces/IRoles.sol/interface.IRoles.html"><strong aria-hidden="true">3.15.</strong> IRoles</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImErc20.sol/interface.ImErc20.html"><strong aria-hidden="true">3.16.</strong> ImErc20</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImErc20Host.sol/interface.ImErc20Host.html"><strong aria-hidden="true">3.17.</strong> ImErc20Host</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html"><strong aria-hidden="true">3.18.</strong> ImTokenOperationTypes</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImToken.sol/interface.ImTokenDelegator.html"><strong aria-hidden="true">3.19.</strong> ImTokenDelegator</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImToken.sol/interface.ImTokenMinimal.html"><strong aria-hidden="true">3.20.</strong> ImTokenMinimal</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImToken.sol/interface.ImToken.html"><strong aria-hidden="true">3.21.</strong> ImToken</a></li><li class="chapter-item expanded "><a href="src/interfaces/ImTokenGateway.sol/interface.ImTokenGateway.html"><strong aria-hidden="true">3.22.</strong> ImTokenGateway</a></li></ol></li><li class="chapter-item expanded "><a href="src/libraries/index.html"><strong aria-hidden="true">4.</strong> libraries</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/libraries/Bytes32AddressLib.sol/library.Bytes32AddressLib.html"><strong aria-hidden="true">4.1.</strong> Bytes32AddressLib</a></li><li class="chapter-item expanded "><a href="src/libraries/BytesLib.sol/library.BytesLib.html"><strong aria-hidden="true">4.2.</strong> BytesLib</a></li><li class="chapter-item expanded "><a href="src/libraries/CREATE3.sol/library.CREATE3.html"><strong aria-hidden="true">4.3.</strong> CREATE3</a></li><li class="chapter-item expanded "><a href="src/libraries/SafeApprove.sol/interface.IToken.html"><strong aria-hidden="true">4.4.</strong> IToken</a></li><li class="chapter-item expanded "><a href="src/libraries/SafeApprove.sol/library.SafeApprove.html"><strong aria-hidden="true">4.5.</strong> SafeApprove</a></li><li class="chapter-item expanded "><a href="src/libraries/mTokenProofDecoderLib.sol/library.mTokenProofDecoderLib.html"><strong aria-hidden="true">4.6.</strong> mTokenProofDecoderLib</a></li></ol></li><li class="chapter-item expanded "><a href="src/mToken/index.html"><strong aria-hidden="true">5.</strong> mToken</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/mToken/extension/index.html"><strong aria-hidden="true">5.1.</strong> extension</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/mToken/extension/mTokenGateway.sol/contract.mTokenGateway.html"><strong aria-hidden="true">5.1.1.</strong> mTokenGateway</a></li></ol></li><li class="chapter-item expanded "><a href="src/mToken/host/index.html"><strong aria-hidden="true">5.2.</strong> host</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/mToken/host/mErc20Host.sol/contract.mErc20Host.html"><strong aria-hidden="true">5.2.1.</strong> mErc20Host</a></li></ol></li><li class="chapter-item expanded "><a href="src/mToken/BatchSubmitter.sol/contract.BatchSubmitter.html"><strong aria-hidden="true">5.3.</strong> BatchSubmitter</a></li><li class="chapter-item expanded "><a href="src/mToken/mErc20.sol/abstract.mErc20.html"><strong aria-hidden="true">5.4.</strong> mErc20</a></li><li class="chapter-item expanded "><a href="src/mToken/mErc20Immutable.sol/contract.mErc20Immutable.html"><strong aria-hidden="true">5.5.</strong> mErc20Immutable</a></li><li class="chapter-item expanded "><a href="src/mToken/mErc20Upgradable.sol/abstract.mErc20Upgradable.html"><strong aria-hidden="true">5.6.</strong> mErc20Upgradable</a></li><li class="chapter-item expanded "><a href="src/mToken/mToken.sol/abstract.mToken.html"><strong aria-hidden="true">5.7.</strong> mToken</a></li><li class="chapter-item expanded "><a href="src/mToken/mTokenConfiguration.sol/abstract.mTokenConfiguration.html"><strong aria-hidden="true">5.8.</strong> mTokenConfiguration</a></li><li class="chapter-item expanded "><a href="src/mToken/mTokenStorage.sol/abstract.mTokenStorage.html"><strong aria-hidden="true">5.9.</strong> mTokenStorage</a></li></ol></li><li class="chapter-item expanded "><a href="src/migration/index.html"><strong aria-hidden="true">6.</strong> migration</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/migration/IMigrator.sol/interface.IMendiMarket.html"><strong aria-hidden="true">6.1.</strong> IMendiMarket</a></li><li class="chapter-item expanded "><a href="src/migration/IMigrator.sol/interface.IMendiComptroller.html"><strong aria-hidden="true">6.2.</strong> IMendiComptroller</a></li><li class="chapter-item expanded "><a href="src/migration/Migrator.sol/contract.Migrator.html"><strong aria-hidden="true">6.3.</strong> Migrator</a></li></ol></li><li class="chapter-item expanded "><a href="src/nft/index.html"><strong aria-hidden="true">7.</strong> nft</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/nft/MaldaNft.sol/contract.MaldaNft.html"><strong aria-hidden="true">7.1.</strong> MaldaNft</a></li></ol></li><li class="chapter-item expanded "><a href="src/oracles/index.html"><strong aria-hidden="true">8.</strong> oracles</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/oracles/ChainlinkOracle.sol/contract.ChainlinkOracle.html"><strong aria-hidden="true">8.1.</strong> ChainlinkOracle</a></li><li class="chapter-item expanded "><a href="src/oracles/MixedPriceOracleV3.sol/contract.MixedPriceOracleV3.html"><strong aria-hidden="true">8.2.</strong> MixedPriceOracleV3</a></li><li class="chapter-item expanded "><a href="src/oracles/MixedPriceOracleV4.sol/contract.MixedPriceOracleV4.html"><strong aria-hidden="true">8.3.</strong> MixedPriceOracleV4</a></li></ol></li><li class="chapter-item expanded "><a href="src/pauser/index.html"><strong aria-hidden="true">9.</strong> pauser</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/pauser/Pauser.sol/contract.Pauser.html"><strong aria-hidden="true">9.1.</strong> Pauser</a></li></ol></li><li class="chapter-item expanded "><a href="src/rebalancer/index.html"><strong aria-hidden="true">10.</strong> rebalancer</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/rebalancer/bridges/index.html"><strong aria-hidden="true">10.1.</strong> bridges</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/rebalancer/bridges/AcrossBridge.sol/contract.AccrossBridge.html"><strong aria-hidden="true">10.1.1.</strong> AccrossBridge</a></li><li class="chapter-item expanded "><a href="src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html"><strong aria-hidden="true">10.1.2.</strong> BaseBridge</a></li><li class="chapter-item expanded "><a href="src/rebalancer/bridges/ConnextBridge.sol/contract.ConnextBridge.html"><strong aria-hidden="true">10.1.3.</strong> ConnextBridge</a></li><li class="chapter-item expanded "><a href="src/rebalancer/bridges/EverclearBridge.sol/contract.EverclearBridge.html"><strong aria-hidden="true">10.1.4.</strong> EverclearBridge</a></li><li class="chapter-item expanded "><a href="src/rebalancer/bridges/LZBridge.sol/contract.LZBridge.html"><strong aria-hidden="true">10.1.5.</strong> LZBridge</a></li></ol></li><li class="chapter-item expanded "><a href="src/rebalancer/Rebalancer.sol/contract.Rebalancer.html"><strong aria-hidden="true">10.2.</strong> Rebalancer</a></li></ol></li><li class="chapter-item expanded "><a href="src/referral/index.html"><strong aria-hidden="true">11.</strong> referral</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/referral/ReferralSigning.sol/contract.ReferralSigning.html"><strong aria-hidden="true">11.1.</strong> ReferralSigning</a></li></ol></li><li class="chapter-item expanded "><a href="src/rewards/index.html"><strong aria-hidden="true">12.</strong> rewards</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/rewards/RewardDistributor.sol/contract.RewardDistributor.html"><strong aria-hidden="true">12.1.</strong> RewardDistributor</a></li></ol></li><li class="chapter-item expanded "><a href="src/utils/index.html"><strong aria-hidden="true">13.</strong> utils</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/utils/Deployer.sol/contract.Deployer.html"><strong aria-hidden="true">13.1.</strong> Deployer</a></li><li class="chapter-item expanded "><a href="src/utils/ExponentialNoError.sol/abstract.ExponentialNoError.html"><strong aria-hidden="true">13.2.</strong> ExponentialNoError</a></li><li class="chapter-item expanded "><a href="src/utils/LiquidationHelper.sol/contract.LiquidationHelper.html"><strong aria-hidden="true">13.3.</strong> LiquidationHelper</a></li><li class="chapter-item expanded "><a href="src/utils/WrapAndSupply.sol/interface.IWrappedNative.html"><strong aria-hidden="true">13.4.</strong> IWrappedNative</a></li><li class="chapter-item expanded "><a href="src/utils/WrapAndSupply.sol/contract.WrapAndSupply.html"><strong aria-hidden="true">13.5.</strong> WrapAndSupply</a></li></ol></li><li class="chapter-item expanded "><a href="src/verifier/index.html"><strong aria-hidden="true">14.</strong> verifier</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="src/verifier/ZkVerifier.sol/interface.IZkVerifier.html"><strong aria-hidden="true">14.1.</strong> IZkVerifier</a></li><li class="chapter-item expanded "><a href="src/verifier/ZkVerifier.sol/contract.ZkVerifier.html"><strong aria-hidden="true">14.2.</strong> ZkVerifier</a></li></ol></li><li class="chapter-item expanded "><a href="src/Counter.sol/contract.Counter.html"><strong aria-hidden="true">15.</strong> Counter</a></li><li class="chapter-item expanded "><a href="src/Roles.sol/contract.Roles.html"><strong aria-hidden="true">16.</strong> Roles</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Malda</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/malda-protocol/malda-lending" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="about-malda-protocol"><a class="header" href="#about-malda-protocol">About Malda Protocol</a></h1>
<p>Malda Protocol solves the fragmentation problem in DeFi by creating a unified lending experience across multiple EVM networks. The protocol enables users to:</p>
<ul>
<li>Access lending markets across different L2s as if they were a single network</li>
<li>Unified liquidity and interest rates across all chains</li>
<li>Execute lending operations across chains without bridging or wrapping assets</li>
<li>Maintain full control of their funds in a self-custodial manner</li>
</ul>
<h1 id="about-this-repository"><a class="header" href="#about-this-repository">About this repository</a></h1>
<p>This repository contains the source for the onchain Solidity components required to run Malda, the first DeFi protocol built in the Risc Zero zkVM. 
These critical components serve multiple function within the Malda application: </p>
<ul>
<li>Secure protocol ledger onchain</li>
<li>Execute UserOps leveraging proofs generated mwith the malda-zk-coprocessor component</li>
<li>Provides an entry point for users from multiple underlying chains leveraging mTokenGateway contract</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src/Operator/Operator.sol/contract.Operator.html">Operator</a></li>
<li><a href="src/Operator/OperatorStorage.sol/abstract.OperatorStorage.html">OperatorStorage</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator"><a class="header" href="#operator">Operator</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/Operator/Operator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/Operator/Operator.sol//src/Operator/OperatorStorage.sol/abstract.OperatorStorage.html">OperatorStorage</a>, <a href="src/Operator/Operator.sol//src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html">ImTokenOperationTypes</a>, OwnableUpgradeable</p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<p><strong>Note:</strong>
oz-upgrades-unsafe-allow: constructor</p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _rolesOperator, address _rewardDistributor, address _admin) public initializer;
</code></pre>
<h3 id="onlyalloweduser"><a class="header" href="#onlyalloweduser">onlyAllowedUser</a></h3>
<pre><code class="language-solidity">modifier onlyAllowedUser(address user);
</code></pre>
<h3 id="setwhitelisteduser"><a class="header" href="#setwhitelisteduser">setWhitelistedUser</a></h3>
<p>Sets user whitelist status</p>
<pre><code class="language-solidity">function setWhitelistedUser(address user, bool state) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The new staate</td></tr>
</tbody></table>
</div>
<h3 id="enablewhitelist"><a class="header" href="#enablewhitelist">enableWhitelist</a></h3>
<p>Enable user whitelist</p>
<pre><code class="language-solidity">function enableWhitelist() external onlyOwner;
</code></pre>
<h3 id="disablewhitelist"><a class="header" href="#disablewhitelist">disableWhitelist</a></h3>
<p>Disable user whitelist</p>
<pre><code class="language-solidity">function disableWhitelist() external onlyOwner;
</code></pre>
<h3 id="setrolesoperator"><a class="header" href="#setrolesoperator">setRolesOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setRolesOperator(address _roles) external onlyOwner;
</code></pre>
<h3 id="setpriceoracle"><a class="header" href="#setpriceoracle">setPriceOracle</a></h3>
<p>Sets a new price oracle</p>
<p><em>Admin function to set a new price oracle</em></p>
<pre><code class="language-solidity">function setPriceOracle(address newOracle) external onlyOwner;
</code></pre>
<h3 id="setclosefactor"><a class="header" href="#setclosefactor">setCloseFactor</a></h3>
<p>Sets the closeFactor used when liquidating borrows</p>
<p><em>Admin function to set closeFactor</em></p>
<pre><code class="language-solidity">function setCloseFactor(uint256 newCloseFactorMantissa) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newCloseFactorMantissa</code></td><td><code>uint256</code></td><td>New close factor, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="setcollateralfactor"><a class="header" href="#setcollateralfactor">setCollateralFactor</a></h3>
<p>Sets the collateralFactor for a market</p>
<p><em>Admin function to set per-market collateralFactor</em></p>
<pre><code class="language-solidity">function setCollateralFactor(address mToken, uint256 newCollateralFactorMantissa) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to set the factor on</td></tr>
<tr><td><code>newCollateralFactorMantissa</code></td><td><code>uint256</code></td><td>The new collateral factor, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="setliquidationincentive"><a class="header" href="#setliquidationincentive">setLiquidationIncentive</a></h3>
<p>Sets liquidationIncentive</p>
<p><em>Admin function to set liquidationIncentive</em></p>
<pre><code class="language-solidity">function setLiquidationIncentive(address market, uint256 newLiquidationIncentiveMantissa) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>market</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>newLiquidationIncentiveMantissa</code></td><td><code>uint256</code></td><td>New liquidationIncentive scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supportmarket"><a class="header" href="#supportmarket">supportMarket</a></h3>
<p>Add the market to the markets mapping and set it as listed</p>
<p><em>Admin function to set isListed and add support for the market</em></p>
<pre><code class="language-solidity">function supportMarket(address mToken) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The address of the market (token) to list</td></tr>
</tbody></table>
</div>
<h3 id="setoutflowvolumetimewindow"><a class="header" href="#setoutflowvolumetimewindow">setOutflowVolumeTimeWindow</a></h3>
<p>Sets outflow volume time window</p>
<pre><code class="language-solidity">function setOutflowVolumeTimeWindow(uint256 newTimeWindow) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newTimeWindow</code></td><td><code>uint256</code></td><td>The new reset time window</td></tr>
</tbody></table>
</div>
<h3 id="setoutflowtimelimitinusd"><a class="header" href="#setoutflowtimelimitinusd">setOutflowTimeLimitInUSD</a></h3>
<p>Sets outflow volume limit</p>
<p><em>when 0, it means there's no limit</em></p>
<pre><code class="language-solidity">function setOutflowTimeLimitInUSD(uint256 amount) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The new limit</td></tr>
</tbody></table>
</div>
<h3 id="resetoutflowvolume"><a class="header" href="#resetoutflowvolume">resetOutflowVolume</a></h3>
<p>Resets outflow volume</p>
<pre><code class="language-solidity">function resetOutflowVolume() external onlyOwner;
</code></pre>
<h3 id="checkoutflowvolumelimit"><a class="header" href="#checkoutflowvolumelimit">checkOutflowVolumeLimit</a></h3>
<p>Verifies outflow volule limit</p>
<pre><code class="language-solidity">function checkOutflowVolumeLimit(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The new limit</td></tr>
</tbody></table>
</div>
<h3 id="setmarketborrowcaps"><a class="header" href="#setmarketborrowcaps">setMarketBorrowCaps</a></h3>
<p>Set the given borrow caps for the given mToken markets. Borrowing that brings total borrows to or above borrow cap will revert.</p>
<pre><code class="language-solidity">function setMarketBorrowCaps(address[] calldata mTokens, uint256[] calldata newBorrowCaps) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The addresses of the markets (tokens) to change the borrow caps for</td></tr>
<tr><td><code>newBorrowCaps</code></td><td><code>uint256[]</code></td><td>The new borrow cap values in underlying to be set. A value of 0 corresponds to unlimited borrowing.</td></tr>
</tbody></table>
</div>
<h3 id="setmarketsupplycaps"><a class="header" href="#setmarketsupplycaps">setMarketSupplyCaps</a></h3>
<p>Set the given supply caps for the given mToken markets. Supplying that brings total supply to or above supply cap will revert.</p>
<pre><code class="language-solidity">function setMarketSupplyCaps(address[] calldata mTokens, uint256[] calldata newSupplyCaps) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The addresses of the markets (tokens) to change the supply caps for</td></tr>
<tr><td><code>newSupplyCaps</code></td><td><code>uint256[]</code></td><td>The new supply cap values in underlying to be set. A value of 0 corresponds to unlimited supplying.</td></tr>
</tbody></table>
</div>
<h3 id="setpaused"><a class="header" href="#setpaused">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(address mToken, ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market token address</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="setrewarddistributor"><a class="header" href="#setrewarddistributor">setRewardDistributor</a></h3>
<p>Admin function to change the Reward Distributor</p>
<pre><code class="language-solidity">function setRewardDistributor(address newRewardDistributor) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newRewardDistributor</code></td><td><code>address</code></td><td>The address of the new Reward Distributor</td></tr>
</tbody></table>
</div>
<h3 id="isoperator"><a class="header" href="#isoperator">isOperator</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isOperator() external pure override returns (bool);
</code></pre>
<h3 id="ispaused"><a class="header" href="#ispaused">isPaused</a></h3>
<p>Returns if operation is paused</p>
<pre><code class="language-solidity">function isPaused(address mToken, ImTokenOperationTypes.OperationType _type) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="getassetsin"><a class="header" href="#getassetsin">getAssetsIn</a></h3>
<p>Returns the assets an account has entered</p>
<pre><code class="language-solidity">function getAssetsIn(address _user) external view override returns (address[] memory mTokens);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>The address of the account to pull assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>A dynamic list with the assets the account has entered</td></tr>
</tbody></table>
</div>
<h3 id="checkmembership"><a class="header" href="#checkmembership">checkMembership</a></h3>
<p>Returns whether the given account is entered in the given asset</p>
<pre><code class="language-solidity">function checkMembership(address account, address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account to check</td></tr>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the account is in the asset, otherwise false.</td></tr>
</tbody></table>
</div>
<h3 id="getallmarkets"><a class="header" href="#getallmarkets">getAllMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">function getAllMarkets() external view returns (address[] memory mTokens);
</code></pre>
<h3 id="isdeprecated"><a class="header" href="#isdeprecated">isDeprecated</a></h3>
<p>Returns true if the given mToken market has been deprecated</p>
<p><em>All borrows in a deprecated mToken market can be immediately liquidated</em></p>
<pre><code class="language-solidity">function isDeprecated(address mToken) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to check if deprecated</td></tr>
</tbody></table>
</div>
<h3 id="ismarketlisted"><a class="header" href="#ismarketlisted">isMarketListed</a></h3>
<p>Returns true/false</p>
<pre><code class="language-solidity">function isMarketListed(address mToken) external view override returns (bool);
</code></pre>
<h3 id="getaccountliquidity"><a class="header" href="#getaccountliquidity">getAccountLiquidity</a></h3>
<p>Determine the current account liquidity wrt collateral requirements</p>
<pre><code class="language-solidity">function getAccountLiquidity(address account) public view returns (uint256, uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>account liquidity in excess of collateral requirements, account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="gethypotheticalaccountliquidity"><a class="header" href="#gethypotheticalaccountliquidity">getHypotheticalAccountLiquidity</a></h3>
<p>Determine what the account liquidity would be if the given amounts were redeemed/borrowed</p>
<pre><code class="language-solidity">function getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to determine liquidity for</td></tr>
<tr><td><code>mTokenModify</code></td><td><code>address</code></td><td>The market to hypothetically redeem/borrow in</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of tokens to hypothetically redeem</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to hypothetically borrow</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>hypothetical account liquidity in excess of collateral requirements, hypothetical account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="liquidatecalculateseizetokens"><a class="header" href="#liquidatecalculateseizetokens">liquidateCalculateSeizeTokens</a></h3>
<p>Calculate number of tokens of collateral asset to seize given an underlying amount</p>
<p><em>Used in liquidation (called in mTokenBorrowed.liquidate)</em></p>
<pre><code class="language-solidity">function liquidateCalculateSeizeTokens(address mTokenBorrowed, address mTokenCollateral, uint256 actualRepayAmount)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>The address of the borrowed mToken</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The address of the collateral mToken</td></tr>
<tr><td><code>actualRepayAmount</code></td><td><code>uint256</code></td><td>The amount of mTokenBorrowed underlying to convert into mTokenCollateral tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>number of mTokenCollateral tokens to be seized in a liquidation</td></tr>
</tbody></table>
</div>
<h3 id="entermarkets"><a class="header" href="#entermarkets">enterMarkets</a></h3>
<p>Add assets to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarkets(address[] calldata _mTokens) external override onlyAllowedUser(msg.sender);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mTokens</code></td><td><code>address[]</code></td><td>The list of addresses of the mToken markets to be enabled</td></tr>
</tbody></table>
</div>
<h3 id="entermarketswithsender"><a class="header" href="#entermarketswithsender">enterMarketsWithSender</a></h3>
<p>Add asset (msg.sender) to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarketsWithSender(address _account) external override onlyAllowedUser(_account);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to add for</td></tr>
</tbody></table>
</div>
<h3 id="exitmarket"><a class="header" href="#exitmarket">exitMarket</a></h3>
<p>Removes asset from sender's account liquidity calculation</p>
<p><em>Sender must not have an outstanding borrow balance in the asset,
or be providing necessary collateral for an outstanding borrow.</em></p>
<pre><code class="language-solidity">function exitMarket(address _mToken) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mToken</code></td><td><code>address</code></td><td>The address of the asset to be removed</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda"><a class="header" href="#claimmalda">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in all markets</p>
<pre><code class="language-solidity">function claimMalda(address holder) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-1"><a class="header" href="#claimmalda-1">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in the specified markets</p>
<pre><code class="language-solidity">function claimMalda(address holder, address[] memory mTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-2"><a class="header" href="#claimmalda-2">claimMalda</a></h3>
<p>Claim all MALDA accrued by the holders</p>
<pre><code class="language-solidity">function claimMalda(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers)
    external
    override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>The addresses to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
<tr><td><code>borrowers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by borrowing</td></tr>
<tr><td><code>suppliers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by supplying</td></tr>
</tbody></table>
</div>
<h3 id="getusdvalueforallmarkets"><a class="header" href="#getusdvalueforallmarkets">getUSDValueForAllMarkets</a></h3>
<p>Returns USD value for all markets</p>
<pre><code class="language-solidity">function getUSDValueForAllMarkets() external view returns (uint256);
</code></pre>
<h3 id="beforewithdrawonextension"><a class="header" href="#beforewithdrawonextension">beforeWithdrawOnExtension</a></h3>
<p>Checks whitelist status on withdrawOnExtension</p>
<pre><code class="language-solidity">function beforeWithdrawOnExtension(address user) external view onlyAllowedUser(user);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user to check</td></tr>
</tbody></table>
</div>
<h3 id="beforeborrowonextension"><a class="header" href="#beforeborrowonextension">beforeBorrowOnExtension</a></h3>
<p>Checks whitelist status on borrowOnExtension</p>
<pre><code class="language-solidity">function beforeBorrowOnExtension(address user) external view onlyAllowedUser(user);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user to check</td></tr>
</tbody></table>
</div>
<h3 id="beforerebalancing"><a class="header" href="#beforerebalancing">beforeRebalancing</a></h3>
<p>Checks if the account should be allowed to rebalance tokens</p>
<pre><code class="language-solidity">function beforeRebalancing(address mToken) external view override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokentransfer"><a class="header" href="#beforemtokentransfer">beforeMTokenTransfer</a></h3>
<p>Checks if the account should be allowed to transfer tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenTransfer(address mToken, address src, address dst, uint256 transferTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The account which sources the tokens</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The account which receives the tokens</td></tr>
<tr><td><code>transferTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to transfer</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenmint"><a class="header" href="#beforemtokenmint">beforeMTokenMint</a></h3>
<p>Checks if the account should be allowed to mint tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenMint(address mToken, address minter) external override onlyAllowedUser(minter);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the mint against</td></tr>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The account which would get the minted tokens</td></tr>
</tbody></table>
</div>
<h3 id="aftermtokenmint"><a class="header" href="#aftermtokenmint">afterMTokenMint</a></h3>
<p>Validates mint and reverts on rejection. May emit logs.</p>
<pre><code class="language-solidity">function afterMTokenMint(address mToken) external view override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>Asset being minted</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenredeem"><a class="header" href="#beforemtokenredeem">beforeMTokenRedeem</a></h3>
<p>Checks if the account should be allowed to redeem tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRedeem(address mToken, address redeemer, uint256 redeemTokens)
    external
    override
    onlyAllowedUser(redeemer);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the redeem against</td></tr>
<tr><td><code>redeemer</code></td><td><code>address</code></td><td>The account which would redeem the tokens</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to exchange for the underlying asset in the market</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenborrow"><a class="header" href="#beforemtokenborrow">beforeMTokenBorrow</a></h3>
<p>Checks if the account should be allowed to borrow the underlying asset of the given market</p>
<pre><code class="language-solidity">function beforeMTokenBorrow(address mToken, address borrower, uint256 borrowAmount)
    external
    override
    onlyAllowedUser(borrower);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the borrow against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrow the asset</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying the account would borrow</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenrepay"><a class="header" href="#beforemtokenrepay">beforeMTokenRepay</a></h3>
<p>Checks if the account should be allowed to repay a borrow in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRepay(address mToken, address borrower) external onlyAllowedUser(borrower);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the repay against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrowed the asset</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenliquidate"><a class="header" href="#beforemtokenliquidate">beforeMTokenLiquidate</a></h3>
<p>Checks if the liquidation should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenLiquidate(address mTokenBorrowed, address mTokenCollateral, address borrower, uint256 repayAmount)
    external
    view
    override
    onlyAllowedUser(borrower);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of underlying being repaid</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenseize"><a class="header" href="#beforemtokenseize">beforeMTokenSeize</a></h3>
<p>Checks if the seizing of assets should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenSeize(address mTokenCollateral, address mTokenBorrowed, address liquidator, address borrower)
    external
    override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing the collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
</tbody></table>
</div>
<h3 id="_convertmarketamounttousdvalue"><a class="header" href="#_convertmarketamounttousdvalue">_convertMarketAmountToUSDValue</a></h3>
<pre><code class="language-solidity">function _convertMarketAmountToUSDValue(uint256 amount, address mToken) internal view returns (uint256);
</code></pre>
<h3 id="_activatemarket"><a class="header" href="#_activatemarket">_activateMarket</a></h3>
<pre><code class="language-solidity">function _activateMarket(address _mToken, address borrower) private;
</code></pre>
<h3 id="_beforeredeem"><a class="header" href="#_beforeredeem">_beforeRedeem</a></h3>
<pre><code class="language-solidity">function _beforeRedeem(address mToken, address redeemer, uint256 redeemTokens) private view;
</code></pre>
<h3 id="_gethypotheticalaccountliquidity"><a class="header" href="#_gethypotheticalaccountliquidity">_getHypotheticalAccountLiquidity</a></h3>
<pre><code class="language-solidity">function _getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) private view returns (uint256, uint256);
</code></pre>
<h3 id="_updatemaldasupplyindex"><a class="header" href="#_updatemaldasupplyindex">_updateMaldaSupplyIndex</a></h3>
<p>Notify reward distributor for supply index update</p>
<pre><code class="language-solidity">function _updateMaldaSupplyIndex(address mToken) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market whose supply index to update</td></tr>
</tbody></table>
</div>
<h3 id="_updatemaldaborrowindex"><a class="header" href="#_updatemaldaborrowindex">_updateMaldaBorrowIndex</a></h3>
<p>Notify reward distributor for borrow index update</p>
<pre><code class="language-solidity">function _updateMaldaBorrowIndex(address mToken) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market whose borrow index to update</td></tr>
</tbody></table>
</div>
<h3 id="_distributesuppliermalda"><a class="header" href="#_distributesuppliermalda">_distributeSupplierMalda</a></h3>
<p>Notify reward distributor for supplier update</p>
<pre><code class="language-solidity">function _distributeSupplierMalda(address mToken, address supplier) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market in which the supplier is interacting</td></tr>
<tr><td><code>supplier</code></td><td><code>address</code></td><td>The address of the supplier to distribute MALDA to</td></tr>
</tbody></table>
</div>
<h3 id="_distributeborrowermalda"><a class="header" href="#_distributeborrowermalda">_distributeBorrowerMalda</a></h3>
<p>Notify reward distributor for borrower update</p>
<p><em>Borrowers will not begin to accrue until after the first interaction with the protocol.</em></p>
<pre><code class="language-solidity">function _distributeBorrowerMalda(address mToken, address borrower) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market in which the borrower is interacting</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower to distribute MALDA to</td></tr>
</tbody></table>
</div>
<h3 id="_claim"><a class="header" href="#_claim">_claim</a></h3>
<pre><code class="language-solidity">function _claim(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers) private;
</code></pre>
<h3 id="_isdeprecated"><a class="header" href="#_isdeprecated">_isDeprecated</a></h3>
<pre><code class="language-solidity">function _isDeprecated(address mToken) private view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operatorstorage"><a class="header" href="#operatorstorage">OperatorStorage</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/Operator/OperatorStorage.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/Operator/OperatorStorage.sol//src/interfaces/IOperator.sol/interface.IOperator.html">IOperator</a>, <a href="src/Operator/OperatorStorage.sol//src/interfaces/IOperator.sol/interface.IOperatorDefender.html">IOperatorDefender</a>, <a href="src/Operator/OperatorStorage.sol//src/utils/ExponentialNoError.sol/abstract.ExponentialNoError.html">ExponentialNoError</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="rolesoperator"><a class="header" href="#rolesoperator">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="oracleoperator"><a class="header" href="#oracleoperator">oracleOperator</a></h3>
<p>Oracle which gives the price of any given asset</p>
<pre><code class="language-solidity">address public oracleOperator;
</code></pre>
<h3 id="closefactormantissa"><a class="header" href="#closefactormantissa">closeFactorMantissa</a></h3>
<p>Multiplier used to calculate the maximum repayAmount when liquidating a borrow</p>
<pre><code class="language-solidity">uint256 public closeFactorMantissa;
</code></pre>
<h3 id="liquidationincentivemantissa"><a class="header" href="#liquidationincentivemantissa">liquidationIncentiveMantissa</a></h3>
<p>Multiplier representing the discount on collateral that a liquidator receives</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public liquidationIncentiveMantissa;
</code></pre>
<h3 id="accountassets"><a class="header" href="#accountassets">accountAssets</a></h3>
<p>Per-account mapping of &quot;assets you are in&quot;, capped by maxAssets</p>
<pre><code class="language-solidity">mapping(address =&gt; address[]) public accountAssets;
</code></pre>
<h3 id="markets"><a class="header" href="#markets">markets</a></h3>
<p>Official mapping of mTokens -&gt; Market metadata</p>
<p><em>Used e.g. to determine if a market is supported</em></p>
<pre><code class="language-solidity">mapping(address =&gt; IOperatorData.Market) public markets;
</code></pre>
<h3 id="allmarkets"><a class="header" href="#allmarkets">allMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">address[] public allMarkets;
</code></pre>
<h3 id="borrowcaps"><a class="header" href="#borrowcaps">borrowCaps</a></h3>
<p>Borrow caps enforced by borrowAllowed for each mToken address. Defaults to zero which corresponds to unlimited borrowing.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public borrowCaps;
</code></pre>
<h3 id="supplycaps"><a class="header" href="#supplycaps">supplyCaps</a></h3>
<p>Supply caps enforced by supplyAllowed for each mToken address. Defaults to zero which corresponds to unlimited supplying.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public supplyCaps;
</code></pre>
<h3 id="rewarddistributor"><a class="header" href="#rewarddistributor">rewardDistributor</a></h3>
<p>Reward Distributor to markets supply and borrow (including protocol token)</p>
<pre><code class="language-solidity">address public rewardDistributor;
</code></pre>
<h3 id="limitpertimeperiod"><a class="header" href="#limitpertimeperiod">limitPerTimePeriod</a></h3>
<p>Should return outflow limit</p>
<pre><code class="language-solidity">uint256 public limitPerTimePeriod;
</code></pre>
<h3 id="cumulativeoutflowvolume"><a class="header" href="#cumulativeoutflowvolume">cumulativeOutflowVolume</a></h3>
<p>Should return outflow volume</p>
<pre><code class="language-solidity">uint256 public cumulativeOutflowVolume;
</code></pre>
<h3 id="lastoutflowresettimestamp"><a class="header" href="#lastoutflowresettimestamp">lastOutflowResetTimestamp</a></h3>
<p>Should return last reset time for outflow check</p>
<pre><code class="language-solidity">uint256 public lastOutflowResetTimestamp;
</code></pre>
<h3 id="outflowresettimewindow"><a class="header" href="#outflowresettimewindow">outflowResetTimeWindow</a></h3>
<p>Should return the outflow volume time window</p>
<pre><code class="language-solidity">uint256 public outflowResetTimeWindow;
</code></pre>
<h3 id="userwhitelisted"><a class="header" href="#userwhitelisted">userWhitelisted</a></h3>
<p>Returns true/false for user</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public userWhitelisted;
</code></pre>
<h3 id="whitelistenabled"><a class="header" href="#whitelistenabled">whitelistEnabled</a></h3>
<pre><code class="language-solidity">bool public whitelistEnabled;
</code></pre>
<h3 id="_paused"><a class="header" href="#_paused">_paused</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(ImTokenOperationTypes.OperationType =&gt; bool)) internal _paused;
</code></pre>
<h3 id="close_factor_min_mantissa"><a class="header" href="#close_factor_min_mantissa">CLOSE_FACTOR_MIN_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant CLOSE_FACTOR_MIN_MANTISSA = 0.05e18;
</code></pre>
<h3 id="close_factor_max_mantissa"><a class="header" href="#close_factor_max_mantissa">CLOSE_FACTOR_MAX_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant CLOSE_FACTOR_MAX_MANTISSA = 0.9e18;
</code></pre>
<h3 id="collateral_factor_max_mantissa"><a class="header" href="#collateral_factor_max_mantissa">COLLATERAL_FACTOR_MAX_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant COLLATERAL_FACTOR_MAX_MANTISSA = 0.9e18;
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="userwhitelisted-1"><a class="header" href="#userwhitelisted-1">UserWhitelisted</a></h3>
<p>Emitted when user whitelist status is changed</p>
<pre><code class="language-solidity">event UserWhitelisted(address indexed user, bool state);
</code></pre>
<h3 id="whitelistenabled-1"><a class="header" href="#whitelistenabled-1">WhitelistEnabled</a></h3>
<pre><code class="language-solidity">event WhitelistEnabled();
</code></pre>
<h3 id="whitelistdisabled"><a class="header" href="#whitelistdisabled">WhitelistDisabled</a></h3>
<pre><code class="language-solidity">event WhitelistDisabled();
</code></pre>
<h3 id="actionpaused"><a class="header" href="#actionpaused">ActionPaused</a></h3>
<p>Emitted when pause status is changed</p>
<pre><code class="language-solidity">event ActionPaused(address indexed mToken, ImTokenOperationTypes.OperationType _type, bool state);
</code></pre>
<h3 id="newrewarddistributor"><a class="header" href="#newrewarddistributor">NewRewardDistributor</a></h3>
<p>Emitted when reward distributor is changed</p>
<pre><code class="language-solidity">event NewRewardDistributor(address indexed oldRewardDistributor, address indexed newRewardDistributor);
</code></pre>
<h3 id="newborrowcap"><a class="header" href="#newborrowcap">NewBorrowCap</a></h3>
<p>Emitted when borrow cap for a mToken is changed</p>
<pre><code class="language-solidity">event NewBorrowCap(address indexed mToken, uint256 newBorrowCap);
</code></pre>
<h3 id="newsupplycap"><a class="header" href="#newsupplycap">NewSupplyCap</a></h3>
<p>Emitted when supply cap for a mToken is changed</p>
<pre><code class="language-solidity">event NewSupplyCap(address indexed mToken, uint256 newBorrowCap);
</code></pre>
<h3 id="marketlisted"><a class="header" href="#marketlisted">MarketListed</a></h3>
<p>Emitted when an admin supports a market</p>
<pre><code class="language-solidity">event MarketListed(address mToken);
</code></pre>
<h3 id="marketentered"><a class="header" href="#marketentered">MarketEntered</a></h3>
<p>Emitted when an account enters a market</p>
<pre><code class="language-solidity">event MarketEntered(address indexed mToken, address indexed account);
</code></pre>
<h3 id="marketexited"><a class="header" href="#marketexited">MarketExited</a></h3>
<p>Emitted when an account exits a market</p>
<pre><code class="language-solidity">event MarketExited(address indexed mToken, address indexed account);
</code></pre>
<h3 id="newclosefactor"><a class="header" href="#newclosefactor">NewCloseFactor</a></h3>
<p>Emitted Emitted when close factor is changed by admin</p>
<pre><code class="language-solidity">event NewCloseFactor(uint256 oldCloseFactorMantissa, uint256 newCloseFactorMantissa);
</code></pre>
<h3 id="newcollateralfactor"><a class="header" href="#newcollateralfactor">NewCollateralFactor</a></h3>
<p>Emitted when a collateral factor is changed by admin</p>
<pre><code class="language-solidity">event NewCollateralFactor(
    address indexed mToken, uint256 oldCollateralFactorMantissa, uint256 newCollateralFactorMantissa
);
</code></pre>
<h3 id="newliquidationincentive"><a class="header" href="#newliquidationincentive">NewLiquidationIncentive</a></h3>
<p>Emitted when liquidation incentive is changed by admin</p>
<pre><code class="language-solidity">event NewLiquidationIncentive(
    address market, uint256 oldLiquidationIncentiveMantissa, uint256 newLiquidationIncentiveMantissa
);
</code></pre>
<h3 id="newpriceoracle"><a class="header" href="#newpriceoracle">NewPriceOracle</a></h3>
<p>Emitted when price oracle is changed</p>
<pre><code class="language-solidity">event NewPriceOracle(address indexed oldPriceOracle, address indexed newPriceOracle);
</code></pre>
<h3 id="newrolesoperator"><a class="header" href="#newrolesoperator">NewRolesOperator</a></h3>
<p>Event emitted when rolesOperator is changed</p>
<pre><code class="language-solidity">event NewRolesOperator(address indexed oldRoles, address indexed newRoles);
</code></pre>
<h3 id="outflowlimitupdated"><a class="header" href="#outflowlimitupdated">OutflowLimitUpdated</a></h3>
<p>Event emitted when outflow limit is updated</p>
<pre><code class="language-solidity">event OutflowLimitUpdated(address indexed sender, uint256 oldLimit, uint256 newLimit);
</code></pre>
<h3 id="outflowtimewindowupdated"><a class="header" href="#outflowtimewindowupdated">OutflowTimeWindowUpdated</a></h3>
<p>Event emitted when outflow reset time window is updated</p>
<pre><code class="language-solidity">event OutflowTimeWindowUpdated(uint256 oldWindow, uint256 newWindow);
</code></pre>
<h3 id="outflowvolumereset"><a class="header" href="#outflowvolumereset">OutflowVolumeReset</a></h3>
<p>Event emitted when outflow volume has been reset</p>
<pre><code class="language-solidity">event OutflowVolumeReset();
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="operator_paused"><a class="header" href="#operator_paused">Operator_Paused</a></h3>
<pre><code class="language-solidity">error Operator_Paused();
</code></pre>
<h3 id="operator_mismatch"><a class="header" href="#operator_mismatch">Operator_Mismatch</a></h3>
<pre><code class="language-solidity">error Operator_Mismatch();
</code></pre>
<h3 id="operator_onlyadmin"><a class="header" href="#operator_onlyadmin">Operator_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error Operator_OnlyAdmin();
</code></pre>
<h3 id="operator_emptyprice"><a class="header" href="#operator_emptyprice">Operator_EmptyPrice</a></h3>
<pre><code class="language-solidity">error Operator_EmptyPrice();
</code></pre>
<h3 id="operator_wrongmarket"><a class="header" href="#operator_wrongmarket">Operator_WrongMarket</a></h3>
<pre><code class="language-solidity">error Operator_WrongMarket();
</code></pre>
<h3 id="operator_invalidinput"><a class="header" href="#operator_invalidinput">Operator_InvalidInput</a></h3>
<pre><code class="language-solidity">error Operator_InvalidInput();
</code></pre>
<h3 id="operator_assetnotfound"><a class="header" href="#operator_assetnotfound">Operator_AssetNotFound</a></h3>
<pre><code class="language-solidity">error Operator_AssetNotFound();
</code></pre>
<h3 id="operator_repayingtoomuch"><a class="header" href="#operator_repayingtoomuch">Operator_RepayingTooMuch</a></h3>
<pre><code class="language-solidity">error Operator_RepayingTooMuch();
</code></pre>
<h3 id="operator_onlyadminorrole"><a class="header" href="#operator_onlyadminorrole">Operator_OnlyAdminOrRole</a></h3>
<pre><code class="language-solidity">error Operator_OnlyAdminOrRole();
</code></pre>
<h3 id="operator_marketnotlisted"><a class="header" href="#operator_marketnotlisted">Operator_MarketNotListed</a></h3>
<pre><code class="language-solidity">error Operator_MarketNotListed();
</code></pre>
<h3 id="operator_pricefetchfailed"><a class="header" href="#operator_pricefetchfailed">Operator_PriceFetchFailed</a></h3>
<pre><code class="language-solidity">error Operator_PriceFetchFailed();
</code></pre>
<h3 id="operator_sendermustbetoken"><a class="header" href="#operator_sendermustbetoken">Operator_SenderMustBeToken</a></h3>
<pre><code class="language-solidity">error Operator_SenderMustBeToken();
</code></pre>
<h3 id="operator_usernotwhitelisted"><a class="header" href="#operator_usernotwhitelisted">Operator_UserNotWhitelisted</a></h3>
<pre><code class="language-solidity">error Operator_UserNotWhitelisted();
</code></pre>
<h3 id="operator_marketsupplyreached"><a class="header" href="#operator_marketsupplyreached">Operator_MarketSupplyReached</a></h3>
<pre><code class="language-solidity">error Operator_MarketSupplyReached();
</code></pre>
<h3 id="operator_repayamountnotvalid"><a class="header" href="#operator_repayamountnotvalid">Operator_RepayAmountNotValid</a></h3>
<pre><code class="language-solidity">error Operator_RepayAmountNotValid();
</code></pre>
<h3 id="operator_marketalreadylisted"><a class="header" href="#operator_marketalreadylisted">Operator_MarketAlreadyListed</a></h3>
<pre><code class="language-solidity">error Operator_MarketAlreadyListed();
</code></pre>
<h3 id="operator_outflowvolumereached"><a class="header" href="#operator_outflowvolumereached">Operator_OutflowVolumeReached</a></h3>
<pre><code class="language-solidity">error Operator_OutflowVolumeReached();
</code></pre>
<h3 id="operator_invalidrolesoperator"><a class="header" href="#operator_invalidrolesoperator">Operator_InvalidRolesOperator</a></h3>
<pre><code class="language-solidity">error Operator_InvalidRolesOperator();
</code></pre>
<h3 id="operator_insufficientliquidity"><a class="header" href="#operator_insufficientliquidity">Operator_InsufficientLiquidity</a></h3>
<pre><code class="language-solidity">error Operator_InsufficientLiquidity();
</code></pre>
<h3 id="operator_marketborrowcapreached"><a class="header" href="#operator_marketborrowcapreached">Operator_MarketBorrowCapReached</a></h3>
<pre><code class="language-solidity">error Operator_MarketBorrowCapReached();
</code></pre>
<h3 id="operator_invalidcollateralfactor"><a class="header" href="#operator_invalidcollateralfactor">Operator_InvalidCollateralFactor</a></h3>
<pre><code class="language-solidity">error Operator_InvalidCollateralFactor();
</code></pre>
<h3 id="operator_invalidrewarddistributor"><a class="header" href="#operator_invalidrewarddistributor">Operator_InvalidRewardDistributor</a></h3>
<pre><code class="language-solidity">error Operator_InvalidRewardDistributor();
</code></pre>
<h3 id="operator_oracleunderlyingfetcherror"><a class="header" href="#operator_oracleunderlyingfetcherror">Operator_OracleUnderlyingFetchError</a></h3>
<pre><code class="language-solidity">error Operator_OracleUnderlyingFetchError();
</code></pre>
<h3 id="operator_deactivate_marketbalanceowed"><a class="header" href="#operator_deactivate_marketbalanceowed">Operator_Deactivate_MarketBalanceOwed</a></h3>
<pre><code class="language-solidity">error Operator_Deactivate_MarketBalanceOwed();
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="accountliquiditylocalvars"><a class="header" href="#accountliquiditylocalvars">AccountLiquidityLocalVars</a></h3>
<p><em>Local vars for avoiding stack-depth limits in calculating account liquidity.
Note that <code>mTokenBalance</code> is the number of mTokens the account owns in the market,
whereas <code>borrowBalance</code> is the amount of underlying that the account has borrowed.</em></p>
<pre><code class="language-solidity">struct AccountLiquidityLocalVars {
    uint256 sumCollateral;
    uint256 sumBorrowPlusEffects;
    uint256 mTokenBalance;
    uint256 borrowBalance;
    uint256 exchangeRateMantissa;
    uint256 oraclePriceMantissa;
    Exp collateralFactor;
    Exp exchangeRate;
    Exp oraclePrice;
    Exp tokensToDenom;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src/interest/JumpRateModelV4.sol/contract.JumpRateModelV4.html">JumpRateModelV4</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jumpratemodelv4"><a class="header" href="#jumpratemodelv4">JumpRateModelV4</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interest/JumpRateModelV4.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interest/JumpRateModelV4.sol//src/interfaces/IInterestRateModel.sol/interface.IInterestRateModel.html">IInterestRateModel</a>, Ownable</p>
<p>Implementation of the IInterestRateModel interface for calculating interest rates</p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="blocksperyear"><a class="header" href="#blocksperyear">blocksPerYear</a></h3>
<p>The approximate number of blocks per year that is assumed by the interest rate model</p>
<pre><code class="language-solidity">uint256 public override blocksPerYear;
</code></pre>
<h3 id="multiplierperblock"><a class="header" href="#multiplierperblock">multiplierPerBlock</a></h3>
<p>The multiplier of utilization rate that gives the slope of the interest rate</p>
<pre><code class="language-solidity">uint256 public override multiplierPerBlock;
</code></pre>
<h3 id="baserateperblock"><a class="header" href="#baserateperblock">baseRatePerBlock</a></h3>
<p>The base interest rate which is the y-intercept when utilization rate is 0</p>
<pre><code class="language-solidity">uint256 public override baseRatePerBlock;
</code></pre>
<h3 id="jumpmultiplierperblock"><a class="header" href="#jumpmultiplierperblock">jumpMultiplierPerBlock</a></h3>
<p>The multiplierPerBlock after hitting a specified utilization point</p>
<pre><code class="language-solidity">uint256 public override jumpMultiplierPerBlock;
</code></pre>
<h3 id="kink"><a class="header" href="#kink">kink</a></h3>
<p>The utilization point at which the jump multiplier is applied</p>
<pre><code class="language-solidity">uint256 public override kink;
</code></pre>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>A name for user-friendliness, e.g. WBTC</p>
<pre><code class="language-solidity">string public override name;
</code></pre>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<p>Construct an interest rate model</p>
<pre><code class="language-solidity">constructor(
    uint256 blocksPerYear_,
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_,
    address owner_,
    string memory name_
) Ownable(owner_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>blocksPerYear_</code></td><td><code>uint256</code></td><td>The estimated number of blocks per year</td></tr>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The base APR, scaled by 1e18</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate increase in interest wrt utilization, scaled by 1e18</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplier per block after utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier applies</td></tr>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The owner of the contract</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>A user-friendly name for the contract</td></tr>
</tbody></table>
</div>
<h3 id="updatejumpratemodel"><a class="header" href="#updatejumpratemodel">updateJumpRateModel</a></h3>
<p>Update the parameters of the interest rate model (only callable by owner, i.e. Timelock)</p>
<pre><code class="language-solidity">function updateJumpRateModel(
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_
) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The approximate target base APR, as a mantissa (scaled by 1e18)</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate of increase in interest rate wrt utilization (scaled by 1e18)</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplierPerBlock after hitting a specified utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point at which the jump multiplier is applied</td></tr>
</tbody></table>
</div>
<h3 id="updateblocksperyear"><a class="header" href="#updateblocksperyear">updateBlocksPerYear</a></h3>
<p>Updates the blocksPerYear in order to make interest calculations simpler</p>
<pre><code class="language-solidity">function updateBlocksPerYear(uint256 blocksPerYear_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>blocksPerYear_</code></td><td><code>uint256</code></td><td>The new estimated eth blocks per year.</td></tr>
</tbody></table>
</div>
<h3 id="isinterestratemodel"><a class="header" href="#isinterestratemodel">isInterestRateModel</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isInterestRateModel() external pure override returns (bool);
</code></pre>
<h3 id="utilizationrate"><a class="header" href="#utilizationrate">utilizationRate</a></h3>
<p>Calculates the utilization rate of the market</p>
<pre><code class="language-solidity">function utilizationRate(uint256 cash, uint256 borrows, uint256 reserves) public pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization rate as a mantissa between [0, 1e18]</td></tr>
</tbody></table>
</div>
<h3 id="getborrowrate"><a class="header" href="#getborrowrate">getBorrowRate</a></h3>
<p>Returns the current borrow rate per block for the market</p>
<pre><code class="language-solidity">function getBorrowRate(uint256 cash, uint256 borrows, uint256 reserves) public view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="getsupplyrate"><a class="header" href="#getsupplyrate">getSupplyRate</a></h3>
<p>Returns the current supply rate per block for the market</p>
<pre><code class="language-solidity">function getSupplyRate(uint256 cash, uint256 borrows, uint256 reserves, uint256 reserveFactorMantissa)
    external
    view
    override
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
<tr><td><code>reserveFactorMantissa</code></td><td><code>uint256</code></td><td>The current reserve factor for the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="_updatejumpratemodel"><a class="header" href="#_updatejumpratemodel">_updateJumpRateModel</a></h3>
<p>Internal function to update the parameters of the interest rate model</p>
<pre><code class="language-solidity">function _updateJumpRateModel(
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_
) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The base APR, scaled by 1e18</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate increase wrt utilization, scaled by 1e18</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplier per block after utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier applies</td></tr>
</tbody></table>
</div>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="jumpratemodelv4_multipliernotvalid"><a class="header" href="#jumpratemodelv4_multipliernotvalid">JumpRateModelV4_MultiplierNotValid</a></h3>
<pre><code class="language-solidity">error JumpRateModelV4_MultiplierNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src/interfaces//src/interfaces/external">external</a></li>
<li><a href="src/interfaces/IBridge.sol/interface.IBridge.html">IBridge</a></li>
<li><a href="src/interfaces/IDefaultAdapter.sol/interface.IDefaultAdapter.html">IDefaultAdapter</a></li>
<li><a href="src/interfaces/IInterestRateModel.sol/interface.IInterestRateModel.html">IInterestRateModel</a></li>
<li><a href="src/interfaces/IOperator.sol/interface.IOperatorData.html">IOperatorData</a></li>
<li><a href="src/interfaces/IOperator.sol/interface.IOperatorDefender.html">IOperatorDefender</a></li>
<li><a href="src/interfaces/IOperator.sol/interface.IOperator.html">IOperator</a></li>
<li><a href="src/interfaces/IOracleOperator.sol/interface.IOracleOperator.html">IOracleOperator</a></li>
<li><a href="src/interfaces/IOwnable.sol/interface.IOwnable.html">IOwnable</a></li>
<li><a href="src/interfaces/IPauser.sol/interface.IPauser.html">IPauser</a></li>
<li><a href="src/interfaces/IRebalancer.sol/interface.IRebalanceMarket.html">IRebalanceMarket</a></li>
<li><a href="src/interfaces/IRebalancer.sol/interface.IRebalancer.html">IRebalancer</a></li>
<li><a href="src/interfaces/IRewardDistributor.sol/interface.IRewardDistributorData.html">IRewardDistributorData</a></li>
<li><a href="src/interfaces/IRewardDistributor.sol/interface.IRewardDistributor.html">IRewardDistributor</a></li>
<li><a href="src/interfaces/IRoles.sol/interface.IRoles.html">IRoles</a></li>
<li><a href="src/interfaces/ImErc20.sol/interface.ImErc20.html">ImErc20</a></li>
<li><a href="src/interfaces/ImErc20Host.sol/interface.ImErc20Host.html">ImErc20Host</a></li>
<li><a href="src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></li>
<li><a href="src/interfaces/ImToken.sol/interface.ImTokenDelegator.html">ImTokenDelegator</a></li>
<li><a href="src/interfaces/ImToken.sol/interface.ImTokenMinimal.html">ImTokenMinimal</a></li>
<li><a href="src/interfaces/ImToken.sol/interface.ImToken.html">ImToken</a></li>
<li><a href="src/interfaces/ImTokenGateway.sol/interface.ImTokenGateway.html">ImTokenGateway</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external//src/interfaces/external/across">across</a></li>
<li><a href="src/interfaces/external//src/interfaces/external/chainlink">chainlink</a></li>
<li><a href="src/interfaces/external//src/interfaces/external/connext">connext</a></li>
<li><a href="src/interfaces/external//src/interfaces/external/everclear">everclear</a></li>
<li><a href="src/interfaces/external//src/interfaces/external/layerzero">layerzero</a></li>
<li><a href="src/interfaces/external//src/interfaces/external/poh">poh</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/across/IAcrossReceiverV3.sol/interface.IAcrossReceiverV3.html">IAcrossReceiverV3</a></li>
<li><a href="src/interfaces/external/across/IAcrossSpokePoolV3.sol/interface.IAcrossSpokePoolV3.html">IAcrossSpokePoolV3</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iacrossreceiverv3"><a class="header" href="#iacrossreceiverv3">IAcrossReceiverV3</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/across/IAcrossReceiverV3.sol">Git Source</a></p>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="handlev3acrossmessage"><a class="header" href="#handlev3acrossmessage">handleV3AcrossMessage</a></h3>
<pre><code class="language-solidity">function handleV3AcrossMessage(address tokenSent, uint256 amount, address relayer, bytes memory message) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iacrossspokepoolv3"><a class="header" href="#iacrossspokepoolv3">IAcrossSpokePoolV3</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/across/IAcrossSpokePoolV3.sol">Git Source</a></p>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="depositv3"><a class="header" href="#depositv3">depositV3</a></h3>
<p>FUNCTIONS             *</p>
<pre><code class="language-solidity">function depositV3(
    address depositor,
    address recipient,
    address inputToken,
    address outputToken,
    uint256 inputAmount,
    uint256 outputAmount,
    uint256 destinationChainId,
    address exclusiveRelayer,
    uint32 quoteTimestamp,
    uint32 fillDeadline,
    uint32 exclusivityDeadline,
    bytes calldata message
) external payable;
</code></pre>
<h3 id="depositv3now"><a class="header" href="#depositv3now">depositV3Now</a></h3>
<pre><code class="language-solidity">function depositV3Now(
    address depositor,
    address recipient,
    address inputToken,
    address outputToken,
    uint256 inputAmount,
    uint256 outputAmount,
    uint256 destinationChainId,
    address exclusiveRelayer,
    uint32 fillDeadlineOffset,
    uint32 exclusivityDeadline,
    bytes calldata message
) external payable;
</code></pre>
<h3 id="speedupv3deposit"><a class="header" href="#speedupv3deposit">speedUpV3Deposit</a></h3>
<pre><code class="language-solidity">function speedUpV3Deposit(
    address depositor,
    uint32 depositId,
    uint256 updatedOutputAmount,
    address updatedRecipient,
    bytes calldata updatedMessage,
    bytes calldata depositorSignature
) external;
</code></pre>
<h3 id="fillv3relay"><a class="header" href="#fillv3relay">fillV3Relay</a></h3>
<pre><code class="language-solidity">function fillV3Relay(V3RelayData calldata relayData, uint256 repaymentChainId) external;
</code></pre>
<h3 id="fillv3relaywithupdateddeposit"><a class="header" href="#fillv3relaywithupdateddeposit">fillV3RelayWithUpdatedDeposit</a></h3>
<pre><code class="language-solidity">function fillV3RelayWithUpdatedDeposit(
    V3RelayData calldata relayData,
    uint256 repaymentChainId,
    uint256 updatedOutputAmount,
    address updatedRecipient,
    bytes calldata updatedMessage,
    bytes calldata depositorSignature
) external;
</code></pre>
<h3 id="requestv3slowfill"><a class="header" href="#requestv3slowfill">requestV3SlowFill</a></h3>
<pre><code class="language-solidity">function requestV3SlowFill(V3RelayData calldata relayData) external;
</code></pre>
<h3 id="executev3slowrelayleaf"><a class="header" href="#executev3slowrelayleaf">executeV3SlowRelayLeaf</a></h3>
<pre><code class="language-solidity">function executeV3SlowRelayLeaf(V3SlowFill calldata slowFillLeaf, uint32 rootBundleId, bytes32[] calldata proof)
    external;
</code></pre>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="v3fundsdeposited"><a class="header" href="#v3fundsdeposited">V3FundsDeposited</a></h3>
<p>EVENTS                *</p>
<pre><code class="language-solidity">event V3FundsDeposited(
    address inputToken,
    address outputToken,
    uint256 inputAmount,
    uint256 outputAmount,
    uint256 indexed destinationChainId,
    uint32 indexed depositId,
    uint32 quoteTimestamp,
    uint32 fillDeadline,
    uint32 exclusivityDeadline,
    address indexed depositor,
    address recipient,
    address exclusiveRelayer,
    bytes message
);
</code></pre>
<h3 id="requestedspeedupv3deposit"><a class="header" href="#requestedspeedupv3deposit">RequestedSpeedUpV3Deposit</a></h3>
<pre><code class="language-solidity">event RequestedSpeedUpV3Deposit(
    uint256 updatedOutputAmount,
    uint32 indexed depositId,
    address indexed depositor,
    address updatedRecipient,
    bytes updatedMessage,
    bytes depositorSignature
);
</code></pre>
<h3 id="filledv3relay"><a class="header" href="#filledv3relay">FilledV3Relay</a></h3>
<pre><code class="language-solidity">event FilledV3Relay(
    address inputToken,
    address outputToken,
    uint256 inputAmount,
    uint256 outputAmount,
    uint256 repaymentChainId,
    uint256 indexed originChainId,
    uint32 indexed depositId,
    uint32 fillDeadline,
    uint32 exclusivityDeadline,
    address exclusiveRelayer,
    address indexed relayer,
    address depositor,
    address recipient,
    bytes message,
    V3RelayExecutionEventInfo relayExecutionInfo
);
</code></pre>
<h3 id="requestedv3slowfill"><a class="header" href="#requestedv3slowfill">RequestedV3SlowFill</a></h3>
<pre><code class="language-solidity">event RequestedV3SlowFill(
    address inputToken,
    address outputToken,
    uint256 inputAmount,
    uint256 outputAmount,
    uint256 indexed originChainId,
    uint32 indexed depositId,
    uint32 fillDeadline,
    uint32 exclusivityDeadline,
    address exclusiveRelayer,
    address depositor,
    address recipient,
    bytes message
);
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="disabledroute"><a class="header" href="#disabledroute">DisabledRoute</a></h3>
<p>ERRORS                *</p>
<pre><code class="language-solidity">error DisabledRoute();
</code></pre>
<h3 id="invalidquotetimestamp"><a class="header" href="#invalidquotetimestamp">InvalidQuoteTimestamp</a></h3>
<pre><code class="language-solidity">error InvalidQuoteTimestamp();
</code></pre>
<h3 id="invalidfilldeadline"><a class="header" href="#invalidfilldeadline">InvalidFillDeadline</a></h3>
<pre><code class="language-solidity">error InvalidFillDeadline();
</code></pre>
<h3 id="invalidexclusiverelayer"><a class="header" href="#invalidexclusiverelayer">InvalidExclusiveRelayer</a></h3>
<pre><code class="language-solidity">error InvalidExclusiveRelayer();
</code></pre>
<h3 id="msgvaluedoesnotmatchinputamount"><a class="header" href="#msgvaluedoesnotmatchinputamount">MsgValueDoesNotMatchInputAmount</a></h3>
<pre><code class="language-solidity">error MsgValueDoesNotMatchInputAmount();
</code></pre>
<h3 id="notexclusiverelayer"><a class="header" href="#notexclusiverelayer">NotExclusiveRelayer</a></h3>
<pre><code class="language-solidity">error NotExclusiveRelayer();
</code></pre>
<h3 id="noslowfillsinexclusivitywindow"><a class="header" href="#noslowfillsinexclusivitywindow">NoSlowFillsInExclusivityWindow</a></h3>
<pre><code class="language-solidity">error NoSlowFillsInExclusivityWindow();
</code></pre>
<h3 id="relayfilled"><a class="header" href="#relayfilled">RelayFilled</a></h3>
<pre><code class="language-solidity">error RelayFilled();
</code></pre>
<h3 id="invalidslowfillrequest"><a class="header" href="#invalidslowfillrequest">InvalidSlowFillRequest</a></h3>
<pre><code class="language-solidity">error InvalidSlowFillRequest();
</code></pre>
<h3 id="expiredfilldeadline"><a class="header" href="#expiredfilldeadline">ExpiredFillDeadline</a></h3>
<pre><code class="language-solidity">error ExpiredFillDeadline();
</code></pre>
<h3 id="invalidmerkleproof"><a class="header" href="#invalidmerkleproof">InvalidMerkleProof</a></h3>
<pre><code class="language-solidity">error InvalidMerkleProof();
</code></pre>
<h3 id="invalidchainid"><a class="header" href="#invalidchainid">InvalidChainId</a></h3>
<pre><code class="language-solidity">error InvalidChainId();
</code></pre>
<h3 id="invalidmerkleleaf"><a class="header" href="#invalidmerkleleaf">InvalidMerkleLeaf</a></h3>
<pre><code class="language-solidity">error InvalidMerkleLeaf();
</code></pre>
<h3 id="claimedmerkleleaf"><a class="header" href="#claimedmerkleleaf">ClaimedMerkleLeaf</a></h3>
<pre><code class="language-solidity">error ClaimedMerkleLeaf();
</code></pre>
<h3 id="invalidpayoutadjustmentpct"><a class="header" href="#invalidpayoutadjustmentpct">InvalidPayoutAdjustmentPct</a></h3>
<pre><code class="language-solidity">error InvalidPayoutAdjustmentPct();
</code></pre>
<h3 id="wrongerc7683orderid"><a class="header" href="#wrongerc7683orderid">WrongERC7683OrderId</a></h3>
<pre><code class="language-solidity">error WrongERC7683OrderId();
</code></pre>
<h3 id="lowlevelcallfailed"><a class="header" href="#lowlevelcallfailed">LowLevelCallFailed</a></h3>
<pre><code class="language-solidity">error LowLevelCallFailed(bytes data);
</code></pre>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="v3relaydata"><a class="header" href="#v3relaydata">V3RelayData</a></h3>
<p>STRUCTS               *</p>
<pre><code class="language-solidity">struct V3RelayData {
    address depositor;
    address recipient;
    address exclusiveRelayer;
    address inputToken;
    address outputToken;
    uint256 inputAmount;
    uint256 outputAmount;
    uint256 originChainId;
    uint32 depositId;
    uint32 fillDeadline;
    uint32 exclusivityDeadline;
    bytes message;
}
</code></pre>
<h3 id="v3slowfill"><a class="header" href="#v3slowfill">V3SlowFill</a></h3>
<pre><code class="language-solidity">struct V3SlowFill {
    V3RelayData relayData;
    uint256 chainId;
    uint256 updatedOutputAmount;
}
</code></pre>
<h3 id="v3relayexecutionparams"><a class="header" href="#v3relayexecutionparams">V3RelayExecutionParams</a></h3>
<pre><code class="language-solidity">struct V3RelayExecutionParams {
    V3RelayData relay;
    bytes32 relayHash;
    uint256 updatedOutputAmount;
    address updatedRecipient;
    bytes updatedMessage;
    uint256 repaymentChainId;
}
</code></pre>
<h3 id="v3relayexecutioneventinfo"><a class="header" href="#v3relayexecutioneventinfo">V3RelayExecutionEventInfo</a></h3>
<pre><code class="language-solidity">struct V3RelayExecutionEventInfo {
    address updatedRecipient;
    bytes updatedMessage;
    uint256 updatedOutputAmount;
    FillType fillType;
}
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="fillstatus"><a class="header" href="#fillstatus">FillStatus</a></h3>
<p>ENUMS                 *</p>
<pre><code class="language-solidity">enum FillStatus {
    Unfilled,
    RequestedSlowFill,
    Filled
}
</code></pre>
<h3 id="filltype"><a class="header" href="#filltype">FillType</a></h3>
<pre><code class="language-solidity">enum FillType {
    FastFill,
    ReplacedSlowFill,
    SlowFill
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/chainlink/IAggregatorV3.sol/interface.IAggregatorV3.html">IAggregatorV3</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iaggregatorv3"><a class="header" href="#iaggregatorv3">IAggregatorV3</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/chainlink/IAggregatorV3.sol">Git Source</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="latestrounddata"><a class="header" href="#latestrounddata">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/connext/IConnext.sol/interface.IConnext.html">IConnext</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iconnext"><a class="header" href="#iconnext">IConnext</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/connext/IConnext.sol">Git Source</a></p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="xcall"><a class="header" href="#xcall">xcall</a></h3>
<pre><code class="language-solidity">function xcall(
    uint32 _destination,
    address _to,
    address _asset,
    address _delegate,
    uint256 _amount,
    uint256 _slippage,
    bytes calldata _callData
) external payable returns (bytes32);
</code></pre>
<h3 id="xcall-1"><a class="header" href="#xcall-1">xcall</a></h3>
<pre><code class="language-solidity">function xcall(
    uint32 _destination,
    address _to,
    address _asset,
    address _delegate,
    uint256 _amount,
    uint256 _slippage,
    bytes calldata _callData,
    uint256 _relayerFee
) external returns (bytes32);
</code></pre>
<h3 id="xcallintolocal"><a class="header" href="#xcallintolocal">xcallIntoLocal</a></h3>
<pre><code class="language-solidity">function xcallIntoLocal(
    uint32 _destination,
    address _to,
    address _asset,
    address _delegate,
    uint256 _amount,
    uint256 _slippage,
    bytes calldata _callData
) external payable returns (bytes32);
</code></pre>
<h3 id="domain"><a class="header" href="#domain">domain</a></h3>
<pre><code class="language-solidity">function domain() external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/everclear/IEverclearSpoke.sol/interface.IEverclearSpoke.html">IEverclearSpoke</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ieverclearspoke"><a class="header" href="#ieverclearspoke">IEverclearSpoke</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/everclear/IEverclearSpoke.sol">Git Source</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="newintent"><a class="header" href="#newintent">newIntent</a></h3>
<p>Creates a new intent</p>
<pre><code class="language-solidity">function newIntent(
    uint32[] memory _destinations,
    address _receiver,
    address _inputAsset,
    address _outputAsset,
    uint256 _amount,
    uint24 _maxFee,
    uint48 _ttl,
    bytes calldata _data
) external returns (bytes32 _intentId, Intent memory _intent);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_destinations</code></td><td><code>uint32[]</code></td><td>The possible destination chains of the intent</td></tr>
<tr><td><code>_receiver</code></td><td><code>address</code></td><td>The destinantion address of the intent</td></tr>
<tr><td><code>_inputAsset</code></td><td><code>address</code></td><td>The asset address on origin</td></tr>
<tr><td><code>_outputAsset</code></td><td><code>address</code></td><td>The asset address on destination</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>The amount of the asset</td></tr>
<tr><td><code>_maxFee</code></td><td><code>uint24</code></td><td>The maximum fee that can be taken by solvers</td></tr>
<tr><td><code>_ttl</code></td><td><code>uint48</code></td><td>The time to live of the intent</td></tr>
<tr><td><code>_data</code></td><td><code>bytes</code></td><td>The data of the intent</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_intentId</code></td><td><code>bytes32</code></td><td>The ID of the intent</td></tr>
<tr><td><code>_intent</code></td><td><code>Intent</code></td><td>The intent object</td></tr>
</tbody></table>
</div>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="intent"><a class="header" href="#intent">Intent</a></h3>
<pre><code class="language-solidity">struct Intent {
    uint256 val;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/layerzero//src/interfaces/external/layerzero/v2">v2</a></li>
<li><a href="src/interfaces/external/layerzero/ILayerZeroEndpoint.sol/interface.ILayerZeroEndpoint.html">ILayerZeroEndpoint</a></li>
<li><a href="src/interfaces/external/layerzero/ILayerZeroReceiver.sol/interface.ILayerZeroReceiver.html">ILayerZeroReceiver</a></li>
<li><a href="src/interfaces/external/layerzero/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html">ILayerZeroUserApplicationConfig</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingParams.html">MessagingParams</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingReceipt.html">MessagingReceipt</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.MessagingFee.html">MessagingFee</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/struct.Origin.html">Origin</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol/interface.ILayerZeroEndpointV2.html">ILayerZeroEndpointV2</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.SendParam.html">SendParam</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTLimit.html">OFTLimit</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTReceipt.html">OFTReceipt</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/struct.OFTFeeDetail.html">OFTFeeDetail</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol/interface.ILayerZeroOFT.html">ILayerZeroOFT</a></li>
<li><a href="src/interfaces/external/layerzero/v2/ILayerZeroReceiverV2.sol/interface.ILayerZeroReceiverV2.html">ILayerZeroReceiverV2</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessageLib.sol/enum.MessageLibType.html">MessageLibType</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessageLib.sol/interface.IMessageLib.html">IMessageLib</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessageLibManager.sol/struct.SetConfigParam.html">SetConfigParam</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessageLibManager.sol/interface.IMessageLibManager.html">IMessageLibManager</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessagingChannel.sol/interface.IMessagingChannel.html">IMessagingChannel</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessagingComposer.sol/interface.IMessagingComposer.html">IMessagingComposer</a></li>
<li><a href="src/interfaces/external/layerzero/v2/IMessagingContext.sol/interface.IMessagingContext.html">IMessagingContext</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="messagingparams"><a class="header" href="#messagingparams">MessagingParams</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MessagingParams {
    uint32 dstEid;
    bytes32 receiver;
    bytes message;
    bytes options;
    bool payInLzToken;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="messagingreceipt"><a class="header" href="#messagingreceipt">MessagingReceipt</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MessagingReceipt {
    bytes32 guid;
    uint64 nonce;
    MessagingFee fee;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="messagingfee"><a class="header" href="#messagingfee">MessagingFee</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol">Git Source</a></p>
<pre><code class="language-solidity">struct MessagingFee {
    uint256 nativeFee;
    uint256 lzTokenFee;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="origin"><a class="header" href="#origin">Origin</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol">Git Source</a></p>
<pre><code class="language-solidity">struct Origin {
    uint32 srcEid;
    bytes32 sender;
    uint64 nonce;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroendpointv2"><a class="header" href="#ilayerzeroendpointv2">ILayerZeroEndpointV2</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol//src/interfaces/external/layerzero/v2/IMessageLibManager.sol/interface.IMessageLibManager.html">IMessageLibManager</a>, <a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol//src/interfaces/external/layerzero/v2/IMessagingComposer.sol/interface.IMessagingComposer.html">IMessagingComposer</a>, <a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol//src/interfaces/external/layerzero/v2/IMessagingChannel.sol/interface.IMessagingChannel.html">IMessagingChannel</a>, <a href="src/interfaces/external/layerzero/v2/ILayerZeroEndpointV2.sol//src/interfaces/external/layerzero/v2/IMessagingContext.sol/interface.IMessagingContext.html">IMessagingContext</a></p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="quote"><a class="header" href="#quote">quote</a></h3>
<pre><code class="language-solidity">function quote(MessagingParams calldata _params, address _sender) external view returns (MessagingFee memory);
</code></pre>
<h3 id="send"><a class="header" href="#send">send</a></h3>
<pre><code class="language-solidity">function send(MessagingParams calldata _params, address _refundAddress)
    external
    payable
    returns (MessagingReceipt memory);
</code></pre>
<h3 id="verify"><a class="header" href="#verify">verify</a></h3>
<pre><code class="language-solidity">function verify(Origin calldata _origin, address _receiver, bytes32 _payloadHash) external;
</code></pre>
<h3 id="verifiable"><a class="header" href="#verifiable">verifiable</a></h3>
<pre><code class="language-solidity">function verifiable(Origin calldata _origin, address _receiver) external view returns (bool);
</code></pre>
<h3 id="initializable"><a class="header" href="#initializable">initializable</a></h3>
<pre><code class="language-solidity">function initializable(Origin calldata _origin, address _receiver) external view returns (bool);
</code></pre>
<h3 id="lzreceive"><a class="header" href="#lzreceive">lzReceive</a></h3>
<pre><code class="language-solidity">function lzReceive(
    Origin calldata _origin,
    address _receiver,
    bytes32 _guid,
    bytes calldata _message,
    bytes calldata _extraData
) external payable;
</code></pre>
<h3 id="clear"><a class="header" href="#clear">clear</a></h3>
<pre><code class="language-solidity">function clear(address _oapp, Origin calldata _origin, bytes32 _guid, bytes calldata _message) external;
</code></pre>
<h3 id="setlztoken"><a class="header" href="#setlztoken">setLzToken</a></h3>
<pre><code class="language-solidity">function setLzToken(address _lzToken) external;
</code></pre>
<h3 id="lztoken"><a class="header" href="#lztoken">lzToken</a></h3>
<pre><code class="language-solidity">function lzToken() external view returns (address);
</code></pre>
<h3 id="nativetoken"><a class="header" href="#nativetoken">nativeToken</a></h3>
<pre><code class="language-solidity">function nativeToken() external view returns (address);
</code></pre>
<h3 id="setdelegate"><a class="header" href="#setdelegate">setDelegate</a></h3>
<pre><code class="language-solidity">function setDelegate(address _delegate) external;
</code></pre>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="packetsent"><a class="header" href="#packetsent">PacketSent</a></h3>
<pre><code class="language-solidity">event PacketSent(bytes encodedPayload, bytes options, address sendLibrary);
</code></pre>
<h3 id="packetverified"><a class="header" href="#packetverified">PacketVerified</a></h3>
<pre><code class="language-solidity">event PacketVerified(Origin origin, address receiver, bytes32 payloadHash);
</code></pre>
<h3 id="packetdelivered"><a class="header" href="#packetdelivered">PacketDelivered</a></h3>
<pre><code class="language-solidity">event PacketDelivered(Origin origin, address receiver);
</code></pre>
<h3 id="lzreceivealert"><a class="header" href="#lzreceivealert">LzReceiveAlert</a></h3>
<pre><code class="language-solidity">event LzReceiveAlert(
    address indexed receiver,
    address indexed executor,
    Origin origin,
    bytes32 guid,
    uint256 gas,
    uint256 value,
    bytes message,
    bytes extraData,
    bytes reason
);
</code></pre>
<h3 id="lztokenset"><a class="header" href="#lztokenset">LzTokenSet</a></h3>
<pre><code class="language-solidity">event LzTokenSet(address token);
</code></pre>
<h3 id="delegateset"><a class="header" href="#delegateset">DelegateSet</a></h3>
<pre><code class="language-solidity">event DelegateSet(address sender, address delegate);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sendparam"><a class="header" href="#sendparam">SendParam</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol">Git Source</a></p>
<p><em>Struct representing token parameters for the OFT send() operation.</em></p>
<pre><code class="language-solidity">struct SendParam {
    uint32 dstEid;
    bytes32 to;
    uint256 amountLD;
    uint256 minAmountLD;
    bytes extraOptions;
    bytes composeMsg;
    bytes oftCmd;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oftlimit"><a class="header" href="#oftlimit">OFTLimit</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol">Git Source</a></p>
<p><em>Struct representing OFT limit information.</em></p>
<p><em>These amounts can change dynamically and are up the the specific oft implementation.</em></p>
<pre><code class="language-solidity">struct OFTLimit {
    uint256 minAmountLD;
    uint256 maxAmountLD;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oftreceipt"><a class="header" href="#oftreceipt">OFTReceipt</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol">Git Source</a></p>
<p><em>Struct representing OFT receipt information.</em></p>
<pre><code class="language-solidity">struct OFTReceipt {
    uint256 amountSentLD;
    uint256 amountReceivedLD;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="oftfeedetail"><a class="header" href="#oftfeedetail">OFTFeeDetail</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol">Git Source</a></p>
<p><em>Struct representing OFT fee details.</em></p>
<p><em>Future proof mechanism to provide a standardized way to communicate fees to things like a UI.</em></p>
<pre><code class="language-solidity">struct OFTFeeDetail {
    int256 feeAmountLD;
    string description;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzerooft"><a class="header" href="#ilayerzerooft">ILayerZeroOFT</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroOFT.sol">Git Source</a></p>
<p><em>Interface for the OftChain (OFT) token.</em></p>
<p><em>Does not inherit ERC20 to accommodate usage by OFTAdapter as well.</em></p>
<p><em>This specific interface ID is '0x02e49c2c'.</em></p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="oftversion"><a class="header" href="#oftversion">oftVersion</a></h3>
<p>Retrieves interfaceID and the version of the OFT.</p>
<p><em>interfaceId: This specific interface ID is '0x02e49c2c'.</em></p>
<p><em>version: Indicates a cross-chain compatible msg encoding with other OFTs.</em></p>
<p><em>If a new feature is added to the OFT cross-chain msg encoding, the version will be incremented.
ie. localOFT version(x,1) CAN send messages to remoteOFT version(x,1)</em></p>
<pre><code class="language-solidity">function oftVersion() external view returns (bytes4 interfaceId, uint64 version);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>interfaceId</code></td><td><code>bytes4</code></td><td>The interface ID.</td></tr>
<tr><td><code>version</code></td><td><code>uint64</code></td><td>The version.</td></tr>
</tbody></table>
</div>
<h3 id="token"><a class="header" href="#token">token</a></h3>
<p>Retrieves the address of the token associated with the OFT.</p>
<pre><code class="language-solidity">function token() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>token The address of the ERC20 token implementation.</td></tr>
</tbody></table>
</div>
<h3 id="approvalrequired"><a class="header" href="#approvalrequired">approvalRequired</a></h3>
<p>Indicates whether the OFT contract requires approval of the 'token()' to send.</p>
<p><em>Allows things like wallet implementers to determine integration requirements,
without understanding the underlying token implementation.</em></p>
<pre><code class="language-solidity">function approvalRequired() external view returns (bool);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>requiresApproval Needs approval of the underlying token implementation.</td></tr>
</tbody></table>
</div>
<h3 id="shareddecimals"><a class="header" href="#shareddecimals">sharedDecimals</a></h3>
<p>Retrieves the shared decimals of the OFT.</p>
<pre><code class="language-solidity">function sharedDecimals() external view returns (uint8);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint8</code></td><td>sharedDecimals The shared decimals of the OFT.</td></tr>
</tbody></table>
</div>
<h3 id="quoteoft"><a class="header" href="#quoteoft">quoteOFT</a></h3>
<p>Provides a quote for OFT-related operations.</p>
<pre><code class="language-solidity">function quoteOFT(SendParam calldata _sendParam)
    external
    view
    returns (OFTLimit memory, OFTFeeDetail[] memory oftFeeDetails, OFTReceipt memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sendParam</code></td><td><code>SendParam</code></td><td>The parameters for the send operation.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>OFTLimit</code></td><td>limit The OFT limit information.</td></tr>
<tr><td><code>oftFeeDetails</code></td><td><code>OFTFeeDetail[]</code></td><td>The details of OFT fees.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>OFTReceipt</code></td><td>receipt The OFT receipt information.</td></tr>
</tbody></table>
</div>
<h3 id="quotesend"><a class="header" href="#quotesend">quoteSend</a></h3>
<p>Provides a quote for the send() operation.</p>
<p>*MessagingFee: LayerZero msg fee</p>
<ul>
<li>nativeFee: The native fee.</li>
<li>lzTokenFee: The lzToken fee.*</li>
</ul>
<pre><code class="language-solidity">function quoteSend(SendParam calldata _sendParam, bool _payInLzToken) external view returns (MessagingFee memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sendParam</code></td><td><code>SendParam</code></td><td>The parameters for the send() operation.</td></tr>
<tr><td><code>_payInLzToken</code></td><td><code>bool</code></td><td>Flag indicating whether the caller is paying in the LZ token.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MessagingFee</code></td><td>fee The calculated LayerZero messaging fee from the send() operation.</td></tr>
</tbody></table>
</div>
<h3 id="send-1"><a class="header" href="#send-1">send</a></h3>
<p>Executes the send() operation.</p>
<p>*MessagingReceipt: LayerZero msg receipt</p>
<ul>
<li>guid: The unique identifier for the sent message.</li>
<li>nonce: The nonce of the sent message.</li>
<li>fee: The LayerZero fee incurred for the message.*</li>
</ul>
<pre><code class="language-solidity">function send(SendParam calldata _sendParam, MessagingFee calldata _fee, address _refundAddress)
    external
    payable
    returns (MessagingReceipt memory, OFTReceipt memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_sendParam</code></td><td><code>SendParam</code></td><td>The parameters for the send operation.</td></tr>
<tr><td><code>_fee</code></td><td><code>MessagingFee</code></td><td>The fee information supplied by the caller. - nativeFee: The native fee. - lzTokenFee: The lzToken fee.</td></tr>
<tr><td><code>_refundAddress</code></td><td><code>address</code></td><td>The address to receive any excess funds from fees etc. on the src.</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>MessagingReceipt</code></td><td>receipt The LayerZero messaging receipt from the send() operation.</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>OFTReceipt</code></td><td>oftReceipt The OFT receipt information.</td></tr>
</tbody></table>
</div>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="oftsent"><a class="header" href="#oftsent">OFTSent</a></h3>
<pre><code class="language-solidity">event OFTSent(
    bytes32 indexed guid, uint32 dstEid, address indexed fromAddress, uint256 amountSentLD, uint256 amountReceivedLD
);
</code></pre>
<h3 id="oftreceived"><a class="header" href="#oftreceived">OFTReceived</a></h3>
<pre><code class="language-solidity">event OFTReceived(bytes32 indexed guid, uint32 srcEid, address indexed toAddress, uint256 amountReceivedLD);
</code></pre>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<h3 id="invalidlocaldecimals"><a class="header" href="#invalidlocaldecimals">InvalidLocalDecimals</a></h3>
<pre><code class="language-solidity">error InvalidLocalDecimals();
</code></pre>
<h3 id="slippageexceeded"><a class="header" href="#slippageexceeded">SlippageExceeded</a></h3>
<pre><code class="language-solidity">error SlippageExceeded(uint256 amountLD, uint256 minAmountLD);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroreceiverv2"><a class="header" href="#ilayerzeroreceiverv2">ILayerZeroReceiverV2</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/ILayerZeroReceiverV2.sol">Git Source</a></p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="allowinitializepath"><a class="header" href="#allowinitializepath">allowInitializePath</a></h3>
<pre><code class="language-solidity">function allowInitializePath(Origin calldata _origin) external view returns (bool);
</code></pre>
<h3 id="nextnonce"><a class="header" href="#nextnonce">nextNonce</a></h3>
<pre><code class="language-solidity">function nextNonce(uint32 _eid, bytes32 _sender) external view returns (uint64);
</code></pre>
<h3 id="lzreceive-1"><a class="header" href="#lzreceive-1">lzReceive</a></h3>
<pre><code class="language-solidity">function lzReceive(
    Origin calldata _origin,
    bytes32 _guid,
    bytes calldata _message,
    address _executor,
    bytes calldata _extraData
) external payable;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="messagelibtype"><a class="header" href="#messagelibtype">MessageLibType</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessageLib.sol">Git Source</a></p>
<pre><code class="language-solidity">enum MessageLibType {
    Send,
    Receive,
    SendAndReceive
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imessagelib"><a class="header" href="#imessagelib">IMessageLib</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessageLib.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
IERC165</p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="setconfig"><a class="header" href="#setconfig">setConfig</a></h3>
<pre><code class="language-solidity">function setConfig(address _oapp, SetConfigParam[] calldata _config) external;
</code></pre>
<h3 id="getconfig"><a class="header" href="#getconfig">getConfig</a></h3>
<pre><code class="language-solidity">function getConfig(uint32 _eid, address _oapp, uint32 _configType) external view returns (bytes memory config);
</code></pre>
<h3 id="issupportedeid"><a class="header" href="#issupportedeid">isSupportedEid</a></h3>
<pre><code class="language-solidity">function isSupportedEid(uint32 _eid) external view returns (bool);
</code></pre>
<h3 id="version"><a class="header" href="#version">version</a></h3>
<pre><code class="language-solidity">function version() external view returns (uint64 major, uint8 minor, uint8 endpointVersion);
</code></pre>
<h3 id="messagelibtype-1"><a class="header" href="#messagelibtype-1">messageLibType</a></h3>
<pre><code class="language-solidity">function messageLibType() external view returns (MessageLibType);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="setconfigparam"><a class="header" href="#setconfigparam">SetConfigParam</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessageLibManager.sol">Git Source</a></p>
<pre><code class="language-solidity">struct SetConfigParam {
    uint32 eid;
    uint32 configType;
    bytes config;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imessagelibmanager"><a class="header" href="#imessagelibmanager">IMessageLibManager</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessageLibManager.sol">Git Source</a></p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="registerlibrary"><a class="header" href="#registerlibrary">registerLibrary</a></h3>
<pre><code class="language-solidity">function registerLibrary(address _lib) external;
</code></pre>
<h3 id="isregisteredlibrary"><a class="header" href="#isregisteredlibrary">isRegisteredLibrary</a></h3>
<pre><code class="language-solidity">function isRegisteredLibrary(address _lib) external view returns (bool);
</code></pre>
<h3 id="getregisteredlibraries"><a class="header" href="#getregisteredlibraries">getRegisteredLibraries</a></h3>
<pre><code class="language-solidity">function getRegisteredLibraries() external view returns (address[] memory);
</code></pre>
<h3 id="setdefaultsendlibrary"><a class="header" href="#setdefaultsendlibrary">setDefaultSendLibrary</a></h3>
<pre><code class="language-solidity">function setDefaultSendLibrary(uint32 _eid, address _newLib) external;
</code></pre>
<h3 id="defaultsendlibrary"><a class="header" href="#defaultsendlibrary">defaultSendLibrary</a></h3>
<pre><code class="language-solidity">function defaultSendLibrary(uint32 _eid) external view returns (address);
</code></pre>
<h3 id="setdefaultreceivelibrary"><a class="header" href="#setdefaultreceivelibrary">setDefaultReceiveLibrary</a></h3>
<pre><code class="language-solidity">function setDefaultReceiveLibrary(uint32 _eid, address _newLib, uint256 _gracePeriod) external;
</code></pre>
<h3 id="defaultreceivelibrary"><a class="header" href="#defaultreceivelibrary">defaultReceiveLibrary</a></h3>
<pre><code class="language-solidity">function defaultReceiveLibrary(uint32 _eid) external view returns (address);
</code></pre>
<h3 id="setdefaultreceivelibrarytimeout"><a class="header" href="#setdefaultreceivelibrarytimeout">setDefaultReceiveLibraryTimeout</a></h3>
<pre><code class="language-solidity">function setDefaultReceiveLibraryTimeout(uint32 _eid, address _lib, uint256 _expiry) external;
</code></pre>
<h3 id="defaultreceivelibrarytimeout"><a class="header" href="#defaultreceivelibrarytimeout">defaultReceiveLibraryTimeout</a></h3>
<pre><code class="language-solidity">function defaultReceiveLibraryTimeout(uint32 _eid) external view returns (address lib, uint256 expiry);
</code></pre>
<h3 id="issupportedeid-1"><a class="header" href="#issupportedeid-1">isSupportedEid</a></h3>
<pre><code class="language-solidity">function isSupportedEid(uint32 _eid) external view returns (bool);
</code></pre>
<h3 id="isvalidreceivelibrary"><a class="header" href="#isvalidreceivelibrary">isValidReceiveLibrary</a></h3>
<pre><code class="language-solidity">function isValidReceiveLibrary(address _receiver, uint32 _eid, address _lib) external view returns (bool);
</code></pre>
<h3 id="setsendlibrary"><a class="header" href="#setsendlibrary">setSendLibrary</a></h3>
<p>------------------- OApp interfaces -------------------</p>
<pre><code class="language-solidity">function setSendLibrary(address _oapp, uint32 _eid, address _newLib) external;
</code></pre>
<h3 id="getsendlibrary"><a class="header" href="#getsendlibrary">getSendLibrary</a></h3>
<pre><code class="language-solidity">function getSendLibrary(address _sender, uint32 _eid) external view returns (address lib);
</code></pre>
<h3 id="isdefaultsendlibrary"><a class="header" href="#isdefaultsendlibrary">isDefaultSendLibrary</a></h3>
<pre><code class="language-solidity">function isDefaultSendLibrary(address _sender, uint32 _eid) external view returns (bool);
</code></pre>
<h3 id="setreceivelibrary"><a class="header" href="#setreceivelibrary">setReceiveLibrary</a></h3>
<pre><code class="language-solidity">function setReceiveLibrary(address _oapp, uint32 _eid, address _newLib, uint256 _gracePeriod) external;
</code></pre>
<h3 id="getreceivelibrary"><a class="header" href="#getreceivelibrary">getReceiveLibrary</a></h3>
<pre><code class="language-solidity">function getReceiveLibrary(address _receiver, uint32 _eid) external view returns (address lib, bool isDefault);
</code></pre>
<h3 id="setreceivelibrarytimeout"><a class="header" href="#setreceivelibrarytimeout">setReceiveLibraryTimeout</a></h3>
<pre><code class="language-solidity">function setReceiveLibraryTimeout(address _oapp, uint32 _eid, address _lib, uint256 _expiry) external;
</code></pre>
<h3 id="receivelibrarytimeout"><a class="header" href="#receivelibrarytimeout">receiveLibraryTimeout</a></h3>
<pre><code class="language-solidity">function receiveLibraryTimeout(address _receiver, uint32 _eid) external view returns (address lib, uint256 expiry);
</code></pre>
<h3 id="setconfig-1"><a class="header" href="#setconfig-1">setConfig</a></h3>
<pre><code class="language-solidity">function setConfig(address _oapp, address _lib, SetConfigParam[] calldata _params) external;
</code></pre>
<h3 id="getconfig-1"><a class="header" href="#getconfig-1">getConfig</a></h3>
<pre><code class="language-solidity">function getConfig(address _oapp, address _lib, uint32 _eid, uint32 _configType)
    external
    view
    returns (bytes memory config);
</code></pre>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="libraryregistered"><a class="header" href="#libraryregistered">LibraryRegistered</a></h3>
<pre><code class="language-solidity">event LibraryRegistered(address newLib);
</code></pre>
<h3 id="defaultsendlibraryset"><a class="header" href="#defaultsendlibraryset">DefaultSendLibrarySet</a></h3>
<pre><code class="language-solidity">event DefaultSendLibrarySet(uint32 eid, address newLib);
</code></pre>
<h3 id="defaultreceivelibraryset"><a class="header" href="#defaultreceivelibraryset">DefaultReceiveLibrarySet</a></h3>
<pre><code class="language-solidity">event DefaultReceiveLibrarySet(uint32 eid, address newLib);
</code></pre>
<h3 id="defaultreceivelibrarytimeoutset"><a class="header" href="#defaultreceivelibrarytimeoutset">DefaultReceiveLibraryTimeoutSet</a></h3>
<pre><code class="language-solidity">event DefaultReceiveLibraryTimeoutSet(uint32 eid, address oldLib, uint256 expiry);
</code></pre>
<h3 id="sendlibraryset"><a class="header" href="#sendlibraryset">SendLibrarySet</a></h3>
<pre><code class="language-solidity">event SendLibrarySet(address sender, uint32 eid, address newLib);
</code></pre>
<h3 id="receivelibraryset"><a class="header" href="#receivelibraryset">ReceiveLibrarySet</a></h3>
<pre><code class="language-solidity">event ReceiveLibrarySet(address receiver, uint32 eid, address newLib);
</code></pre>
<h3 id="receivelibrarytimeoutset"><a class="header" href="#receivelibrarytimeoutset">ReceiveLibraryTimeoutSet</a></h3>
<pre><code class="language-solidity">event ReceiveLibraryTimeoutSet(address receiver, uint32 eid, address oldLib, uint256 timeout);
</code></pre>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="timeout"><a class="header" href="#timeout">Timeout</a></h3>
<pre><code class="language-solidity">struct Timeout {
    address lib;
    uint256 expiry;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imessagingchannel"><a class="header" href="#imessagingchannel">IMessagingChannel</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessagingChannel.sol">Git Source</a></p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="eid"><a class="header" href="#eid">eid</a></h3>
<pre><code class="language-solidity">function eid() external view returns (uint32);
</code></pre>
<h3 id="skip"><a class="header" href="#skip">skip</a></h3>
<pre><code class="language-solidity">function skip(address _oapp, uint32 _srcEid, bytes32 _sender, uint64 _nonce) external;
</code></pre>
<h3 id="nilify"><a class="header" href="#nilify">nilify</a></h3>
<pre><code class="language-solidity">function nilify(address _oapp, uint32 _srcEid, bytes32 _sender, uint64 _nonce, bytes32 _payloadHash) external;
</code></pre>
<h3 id="burn"><a class="header" href="#burn">burn</a></h3>
<pre><code class="language-solidity">function burn(address _oapp, uint32 _srcEid, bytes32 _sender, uint64 _nonce, bytes32 _payloadHash) external;
</code></pre>
<h3 id="nextguid"><a class="header" href="#nextguid">nextGuid</a></h3>
<pre><code class="language-solidity">function nextGuid(address _sender, uint32 _dstEid, bytes32 _receiver) external view returns (bytes32);
</code></pre>
<h3 id="inboundnonce"><a class="header" href="#inboundnonce">inboundNonce</a></h3>
<pre><code class="language-solidity">function inboundNonce(address _receiver, uint32 _srcEid, bytes32 _sender) external view returns (uint64);
</code></pre>
<h3 id="outboundnonce"><a class="header" href="#outboundnonce">outboundNonce</a></h3>
<pre><code class="language-solidity">function outboundNonce(address _sender, uint32 _dstEid, bytes32 _receiver) external view returns (uint64);
</code></pre>
<h3 id="inboundpayloadhash"><a class="header" href="#inboundpayloadhash">inboundPayloadHash</a></h3>
<pre><code class="language-solidity">function inboundPayloadHash(address _receiver, uint32 _srcEid, bytes32 _sender, uint64 _nonce)
    external
    view
    returns (bytes32);
</code></pre>
<h3 id="lazyinboundnonce"><a class="header" href="#lazyinboundnonce">lazyInboundNonce</a></h3>
<pre><code class="language-solidity">function lazyInboundNonce(address _receiver, uint32 _srcEid, bytes32 _sender) external view returns (uint64);
</code></pre>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="inboundnonceskipped"><a class="header" href="#inboundnonceskipped">InboundNonceSkipped</a></h3>
<pre><code class="language-solidity">event InboundNonceSkipped(uint32 srcEid, bytes32 sender, address receiver, uint64 nonce);
</code></pre>
<h3 id="packetnilified"><a class="header" href="#packetnilified">PacketNilified</a></h3>
<pre><code class="language-solidity">event PacketNilified(uint32 srcEid, bytes32 sender, address receiver, uint64 nonce, bytes32 payloadHash);
</code></pre>
<h3 id="packetburnt"><a class="header" href="#packetburnt">PacketBurnt</a></h3>
<pre><code class="language-solidity">event PacketBurnt(uint32 srcEid, bytes32 sender, address receiver, uint64 nonce, bytes32 payloadHash);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imessagingcomposer"><a class="header" href="#imessagingcomposer">IMessagingComposer</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessagingComposer.sol">Git Source</a></p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="composequeue"><a class="header" href="#composequeue">composeQueue</a></h3>
<pre><code class="language-solidity">function composeQueue(address _from, address _to, bytes32 _guid, uint16 _index)
    external
    view
    returns (bytes32 messageHash);
</code></pre>
<h3 id="sendcompose"><a class="header" href="#sendcompose">sendCompose</a></h3>
<pre><code class="language-solidity">function sendCompose(address _to, bytes32 _guid, uint16 _index, bytes calldata _message) external;
</code></pre>
<h3 id="lzcompose"><a class="header" href="#lzcompose">lzCompose</a></h3>
<pre><code class="language-solidity">function lzCompose(
    address _from,
    address _to,
    bytes32 _guid,
    uint16 _index,
    bytes calldata _message,
    bytes calldata _extraData
) external payable;
</code></pre>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="composesent"><a class="header" href="#composesent">ComposeSent</a></h3>
<pre><code class="language-solidity">event ComposeSent(address from, address to, bytes32 guid, uint16 index, bytes message);
</code></pre>
<h3 id="composedelivered"><a class="header" href="#composedelivered">ComposeDelivered</a></h3>
<pre><code class="language-solidity">event ComposeDelivered(address from, address to, bytes32 guid, uint16 index);
</code></pre>
<h3 id="lzcomposealert"><a class="header" href="#lzcomposealert">LzComposeAlert</a></h3>
<pre><code class="language-solidity">event LzComposeAlert(
    address indexed from,
    address indexed to,
    address indexed executor,
    bytes32 guid,
    uint16 index,
    uint256 gas,
    uint256 value,
    bytes message,
    bytes extraData,
    bytes reason
);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imessagingcontext"><a class="header" href="#imessagingcontext">IMessagingContext</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/v2/IMessagingContext.sol">Git Source</a></p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="issendingmessage"><a class="header" href="#issendingmessage">isSendingMessage</a></h3>
<pre><code class="language-solidity">function isSendingMessage() external view returns (bool);
</code></pre>
<h3 id="getsendcontext"><a class="header" href="#getsendcontext">getSendContext</a></h3>
<pre><code class="language-solidity">function getSendContext() external view returns (uint32 dstEid, address sender);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroendpoint"><a class="header" href="#ilayerzeroendpoint">ILayerZeroEndpoint</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/ILayerZeroEndpoint.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/external/layerzero/ILayerZeroEndpoint.sol//src/interfaces/external/layerzero/ILayerZeroUserApplicationConfig.sol/interface.ILayerZeroUserApplicationConfig.html">ILayerZeroUserApplicationConfig</a></p>
<p><em>is imported from
(https://github.com/LayerZero-Labs/LayerZero/blob/main/contracts/interfaces/ILayerZeroEndpoint.sol)</em></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="send-2"><a class="header" href="#send-2">send</a></h3>
<pre><code class="language-solidity">function send(
    uint16 dstChainId_,
    bytes calldata destination_,
    bytes calldata payload_,
    address payable refundAddress_,
    address zroPaymentAddress_,
    bytes calldata adapterParams_
) external payable;
</code></pre>
<h3 id="receivepayload"><a class="header" href="#receivepayload">receivePayload</a></h3>
<pre><code class="language-solidity">function receivePayload(
    uint16 srcChainId_,
    bytes calldata srcAddress_,
    address dstAddress_,
    uint64 nonce_,
    uint256 gasLimit_,
    bytes calldata payload_
) external;
</code></pre>
<h3 id="getinboundnonce"><a class="header" href="#getinboundnonce">getInboundNonce</a></h3>
<pre><code class="language-solidity">function getInboundNonce(uint16 srcChainId_, bytes calldata srcAddress_) external view returns (uint64);
</code></pre>
<h3 id="getoutboundnonce"><a class="header" href="#getoutboundnonce">getOutboundNonce</a></h3>
<pre><code class="language-solidity">function getOutboundNonce(uint16 dstChainId_, address srcAddress_) external view returns (uint64);
</code></pre>
<h3 id="estimatefees"><a class="header" href="#estimatefees">estimateFees</a></h3>
<pre><code class="language-solidity">function estimateFees(
    uint16 dstChainId_,
    address userApplication_,
    bytes calldata payload_,
    bool _payInZRO,
    bytes calldata _adapterParam
) external view returns (uint256 nativeFee, uint256 zroFee);
</code></pre>
<h3 id="getchainid"><a class="header" href="#getchainid">getChainId</a></h3>
<pre><code class="language-solidity">function getChainId() external view returns (uint16);
</code></pre>
<h3 id="retrypayload"><a class="header" href="#retrypayload">retryPayload</a></h3>
<pre><code class="language-solidity">function retryPayload(uint16 srcChainId_, bytes calldata srcAddress_, bytes calldata payload_) external;
</code></pre>
<h3 id="hasstoredpayload"><a class="header" href="#hasstoredpayload">hasStoredPayload</a></h3>
<pre><code class="language-solidity">function hasStoredPayload(uint16 srcChainId_, bytes calldata srcAddress_) external view returns (bool);
</code></pre>
<h3 id="getsendlibraryaddress"><a class="header" href="#getsendlibraryaddress">getSendLibraryAddress</a></h3>
<pre><code class="language-solidity">function getSendLibraryAddress(address userApplication_) external view returns (address);
</code></pre>
<h3 id="getreceivelibraryaddress"><a class="header" href="#getreceivelibraryaddress">getReceiveLibraryAddress</a></h3>
<pre><code class="language-solidity">function getReceiveLibraryAddress(address userApplication_) external view returns (address);
</code></pre>
<h3 id="issendingpayload"><a class="header" href="#issendingpayload">isSendingPayload</a></h3>
<pre><code class="language-solidity">function isSendingPayload() external view returns (bool);
</code></pre>
<h3 id="isreceivingpayload"><a class="header" href="#isreceivingpayload">isReceivingPayload</a></h3>
<pre><code class="language-solidity">function isReceivingPayload() external view returns (bool);
</code></pre>
<h3 id="getconfig-2"><a class="header" href="#getconfig-2">getConfig</a></h3>
<pre><code class="language-solidity">function getConfig(uint16 version_, uint16 chainId_, address userApplication_, uint256 configType_)
    external
    view
    returns (bytes memory);
</code></pre>
<h3 id="getsendversion"><a class="header" href="#getsendversion">getSendVersion</a></h3>
<pre><code class="language-solidity">function getSendVersion(address userApplication_) external view returns (uint16);
</code></pre>
<h3 id="getreceiveversion"><a class="header" href="#getreceiveversion">getReceiveVersion</a></h3>
<pre><code class="language-solidity">function getReceiveVersion(address userApplication_) external view returns (uint16);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzeroreceiver"><a class="header" href="#ilayerzeroreceiver">ILayerZeroReceiver</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/ILayerZeroReceiver.sol">Git Source</a></p>
<p><em>is imported from
(https://github.com/LayerZero-Labs/LayerZero/blob/main/contracts/interfaces/ILayerZeroReceiver.sol)</em></p>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="lzreceive-2"><a class="header" href="#lzreceive-2">lzReceive</a></h3>
<pre><code class="language-solidity">function lzReceive(uint16 _srcChainId, bytes calldata _srcAddress, uint64 _nonce, bytes calldata _payload) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ilayerzerouserapplicationconfig"><a class="header" href="#ilayerzerouserapplicationconfig">ILayerZeroUserApplicationConfig</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/layerzero/ILayerZeroUserApplicationConfig.sol">Git Source</a></p>
<p><em>is imported from
(https://github.com/LayerZero-Labs/LayerZero/blob/main/contracts/interfaces/ILayerZeroUserApplicationConfig.sol)</em></p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="setconfig-2"><a class="header" href="#setconfig-2">setConfig</a></h3>
<pre><code class="language-solidity">function setConfig(uint16 _version, uint16 _chainId, uint256 _configType, bytes calldata _config) external;
</code></pre>
<h3 id="setsendversion"><a class="header" href="#setsendversion">setSendVersion</a></h3>
<pre><code class="language-solidity">function setSendVersion(uint16 _version) external;
</code></pre>
<h3 id="setreceiveversion"><a class="header" href="#setreceiveversion">setReceiveVersion</a></h3>
<pre><code class="language-solidity">function setReceiveVersion(uint16 _version) external;
</code></pre>
<h3 id="forceresumereceive"><a class="header" href="#forceresumereceive">forceResumeReceive</a></h3>
<pre><code class="language-solidity">function forceResumeReceive(uint16 _srcChainId, bytes calldata _srcAddress) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src/interfaces/external/poh/IPohVerifier.sol/interface.IPohVerifier.html">IPohVerifier</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipohverifier"><a class="header" href="#ipohverifier">IPohVerifier</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/external/poh/IPohVerifier.sol">Git Source</a></p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="verify-1"><a class="header" href="#verify-1">verify</a></h3>
<p>Check if the provided signature has been signed by signer</p>
<p><em>human is supposed to be a POH address, this is what is being signed by the POH API</em></p>
<pre><code class="language-solidity">function verify(bytes memory signature, address human) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>signature</code></td><td><code>bytes</code></td><td>The signature to check</td></tr>
<tr><td><code>human</code></td><td><code>address</code></td><td>the address for which the signature has been crafted</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the signature was made by signer, false otherwise</td></tr>
</tbody></table>
</div>
<h3 id="getsigner"><a class="header" href="#getsigner">getSigner</a></h3>
<p>Returns the signer's address</p>
<pre><code class="language-solidity">function getSigner() external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ibridge"><a class="header" href="#ibridge">IBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IBridge.sol">Git Source</a></p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="getfee"><a class="header" href="#getfee">getFee</a></h3>
<p>computes fee for bridge operation</p>
<pre><code class="language-solidity">function getFee(uint32 _dstChainId, bytes memory _message, bytes memory _bridgeData) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>_bridgeData</code></td><td><code>bytes</code></td><td>specific bridge data</td></tr>
</tbody></table>
</div>
<h3 id="sendmsg"><a class="header" href="#sendmsg">sendMsg</a></h3>
<p>rebalance through bridge</p>
<pre><code class="language-solidity">function sendMsg(
    uint256 _extractedAmount,
    address _market,
    uint32 _dstChainId,
    address _token,
    bytes memory _message,
    bytes memory _bridgeData
) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_extractedAmount</code></td><td><code>uint256</code></td><td>extracted amount for rebalancing</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>destination address</td></tr>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to rebalance</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>_bridgeData</code></td><td><code>bytes</code></td><td>specific bridge datas</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="idefaultadapter"><a class="header" href="#idefaultadapter">IDefaultAdapter</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IDefaultAdapter.sol">Git Source</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="decimals-1"><a class="header" href="#decimals-1">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="latestrounddata-1"><a class="header" href="#latestrounddata-1">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<h3 id="latestanswer"><a class="header" href="#latestanswer">latestAnswer</a></h3>
<pre><code class="language-solidity">function latestAnswer() external view returns (int256);
</code></pre>
<h3 id="latesttimestamp"><a class="header" href="#latesttimestamp">latestTimestamp</a></h3>
<pre><code class="language-solidity">function latestTimestamp() external view returns (uint256);
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="priceconfig"><a class="header" href="#priceconfig">PriceConfig</a></h3>
<pre><code class="language-solidity">struct PriceConfig {
    address defaultFeed;
    string toSymbol;
    uint256 underlyingDecimals;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iinterestratemodel"><a class="header" href="#iinterestratemodel">IInterestRateModel</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IInterestRateModel.sol">Git Source</a></p>
<p>Interface for the interest rate contracts</p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="isinterestratemodel-1"><a class="header" href="#isinterestratemodel-1">isInterestRateModel</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isInterestRateModel() external view returns (bool);
</code></pre>
<h3 id="blocksperyear-1"><a class="header" href="#blocksperyear-1">blocksPerYear</a></h3>
<p>The approximate number of blocks per year that is assumed by the interest rate model</p>
<pre><code class="language-solidity">function blocksPerYear() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The number of blocks per year</td></tr>
</tbody></table>
</div>
<h3 id="multiplierperblock-1"><a class="header" href="#multiplierperblock-1">multiplierPerBlock</a></h3>
<p>The multiplier of utilization rate that gives the slope of the interest rate</p>
<pre><code class="language-solidity">function multiplierPerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The multiplier per block</td></tr>
</tbody></table>
</div>
<h3 id="baserateperblock-1"><a class="header" href="#baserateperblock-1">baseRatePerBlock</a></h3>
<p>The base interest rate which is the y-intercept when utilization rate is 0</p>
<pre><code class="language-solidity">function baseRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The base rate per block</td></tr>
</tbody></table>
</div>
<h3 id="jumpmultiplierperblock-1"><a class="header" href="#jumpmultiplierperblock-1">jumpMultiplierPerBlock</a></h3>
<p>The multiplierPerBlock after hitting a specified utilization point</p>
<pre><code class="language-solidity">function jumpMultiplierPerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The jump multiplier per block</td></tr>
</tbody></table>
</div>
<h3 id="kink-1"><a class="header" href="#kink-1">kink</a></h3>
<p>The utilization point at which the jump multiplier is applied</p>
<pre><code class="language-solidity">function kink() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization point (kink)</td></tr>
</tbody></table>
</div>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<p>A name for user-friendliness, e.g. WBTC</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The name of the interest rate model</td></tr>
</tbody></table>
</div>
<h3 id="utilizationrate-1"><a class="header" href="#utilizationrate-1">utilizationRate</a></h3>
<p>Calculates the utilization rate of the market</p>
<pre><code class="language-solidity">function utilizationRate(uint256 cash, uint256 borrows, uint256 reserves) external pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization rate as a mantissa between [0, 1e18]</td></tr>
</tbody></table>
</div>
<h3 id="getborrowrate-1"><a class="header" href="#getborrowrate-1">getBorrowRate</a></h3>
<p>Returns the current borrow rate per block for the market</p>
<pre><code class="language-solidity">function getBorrowRate(uint256 cash, uint256 borrows, uint256 reserves) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="getsupplyrate-1"><a class="header" href="#getsupplyrate-1">getSupplyRate</a></h3>
<p>Returns the current supply rate per block for the market</p>
<pre><code class="language-solidity">function getSupplyRate(uint256 cash, uint256 borrows, uint256 reserves, uint256 reserveFactorMantissa)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
<tr><td><code>reserveFactorMantissa</code></td><td><code>uint256</code></td><td>The current reserve factor for the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="newinterestparams"><a class="header" href="#newinterestparams">NewInterestParams</a></h3>
<p>Emitted when interest rate parameters are updated</p>
<pre><code class="language-solidity">event NewInterestParams(
    uint256 baseRatePerBlock, uint256 multiplierPerBlock, uint256 jumpMultiplierPerBlock, uint256 kink
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerBlock</code></td><td><code>uint256</code></td><td>The base rate per block</td></tr>
<tr><td><code>multiplierPerBlock</code></td><td><code>uint256</code></td><td>The multiplier per block for the interest rate slope</td></tr>
<tr><td><code>jumpMultiplierPerBlock</code></td><td><code>uint256</code></td><td>The multiplier after hitting the kink</td></tr>
<tr><td><code>kink</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier is applied</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioperatordata"><a class="header" href="#ioperatordata">IOperatorData</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IOperator.sol">Git Source</a></p>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="market"><a class="header" href="#market">Market</a></h3>
<pre><code class="language-solidity">struct Market {
    bool isListed;
    uint256 collateralFactorMantissa;
    mapping(address =&gt; bool) accountMembership;
    bool isMalded;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ioperatordefender"><a class="header" href="#ioperatordefender">IOperatorDefender</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IOperator.sol">Git Source</a></p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="beforerebalancing-1"><a class="header" href="#beforerebalancing-1">beforeRebalancing</a></h3>
<p>Checks if the account should be allowed to rebalance tokens</p>
<pre><code class="language-solidity">function beforeRebalancing(address mToken) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokentransfer-1"><a class="header" href="#beforemtokentransfer-1">beforeMTokenTransfer</a></h3>
<p>Checks if the account should be allowed to transfer tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenTransfer(address mToken, address src, address dst, uint256 transferTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The account which sources the tokens</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The account which receives the tokens</td></tr>
<tr><td><code>transferTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to transfer</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenmint-1"><a class="header" href="#beforemtokenmint-1">beforeMTokenMint</a></h3>
<p>Checks if the account should be allowed to mint tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenMint(address mToken, address minter) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the mint against</td></tr>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The account which would get the minted tokens</td></tr>
</tbody></table>
</div>
<h3 id="aftermtokenmint-1"><a class="header" href="#aftermtokenmint-1">afterMTokenMint</a></h3>
<p>Validates mint and reverts on rejection. May emit logs.</p>
<pre><code class="language-solidity">function afterMTokenMint(address mToken) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>Asset being minted</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenredeem-1"><a class="header" href="#beforemtokenredeem-1">beforeMTokenRedeem</a></h3>
<p>Checks if the account should be allowed to redeem tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRedeem(address mToken, address redeemer, uint256 redeemTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the redeem against</td></tr>
<tr><td><code>redeemer</code></td><td><code>address</code></td><td>The account which would redeem the tokens</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to exchange for the underlying asset in the market</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenborrow-1"><a class="header" href="#beforemtokenborrow-1">beforeMTokenBorrow</a></h3>
<p>Checks if the account should be allowed to borrow the underlying asset of the given market</p>
<pre><code class="language-solidity">function beforeMTokenBorrow(address mToken, address borrower, uint256 borrowAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the borrow against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrow the asset</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying the account would borrow</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenrepay-1"><a class="header" href="#beforemtokenrepay-1">beforeMTokenRepay</a></h3>
<p>Checks if the account should be allowed to repay a borrow in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRepay(address mToken, address borrower) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the repay against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrowed the asset</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenliquidate-1"><a class="header" href="#beforemtokenliquidate-1">beforeMTokenLiquidate</a></h3>
<p>Checks if the liquidation should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenLiquidate(address mTokenBorrowed, address mTokenCollateral, address borrower, uint256 repayAmount)
    external
    view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of underlying being repaid</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenseize-1"><a class="header" href="#beforemtokenseize-1">beforeMTokenSeize</a></h3>
<p>Checks if the seizing of assets should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenSeize(address mTokenCollateral, address mTokenBorrowed, address liquidator, address borrower)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing the collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
</tbody></table>
</div>
<h3 id="checkoutflowvolumelimit-1"><a class="header" href="#checkoutflowvolumelimit-1">checkOutflowVolumeLimit</a></h3>
<p>Checks if new used amount is within the limits of the outflow volume limit</p>
<p><em>Sender must be a listed market</em></p>
<pre><code class="language-solidity">function checkOutflowVolumeLimit(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>New amount</td></tr>
</tbody></table>
</div>
<h3 id="beforewithdrawonextension-1"><a class="header" href="#beforewithdrawonextension-1">beforeWithdrawOnExtension</a></h3>
<p>Checks whitelist status on withdrawOnExtension</p>
<pre><code class="language-solidity">function beforeWithdrawOnExtension(address user) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user to check</td></tr>
</tbody></table>
</div>
<h3 id="beforeborrowonextension-1"><a class="header" href="#beforeborrowonextension-1">beforeBorrowOnExtension</a></h3>
<p>Checks whitelist status on borrowOnExtension</p>
<pre><code class="language-solidity">function beforeBorrowOnExtension(address user) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user to check</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioperator"><a class="header" href="#ioperator">IOperator</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IOperator.sol">Git Source</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="userwhitelisted-2"><a class="header" href="#userwhitelisted-2">userWhitelisted</a></h3>
<p>Returns true/false for user</p>
<pre><code class="language-solidity">function userWhitelisted(address _user) external view returns (bool);
</code></pre>
<h3 id="isoperator-1"><a class="header" href="#isoperator-1">isOperator</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isOperator() external view returns (bool);
</code></pre>
<h3 id="limitpertimeperiod-1"><a class="header" href="#limitpertimeperiod-1">limitPerTimePeriod</a></h3>
<p>Should return outflow limit</p>
<pre><code class="language-solidity">function limitPerTimePeriod() external view returns (uint256);
</code></pre>
<h3 id="cumulativeoutflowvolume-1"><a class="header" href="#cumulativeoutflowvolume-1">cumulativeOutflowVolume</a></h3>
<p>Should return outflow volume</p>
<pre><code class="language-solidity">function cumulativeOutflowVolume() external view returns (uint256);
</code></pre>
<h3 id="lastoutflowresettimestamp-1"><a class="header" href="#lastoutflowresettimestamp-1">lastOutflowResetTimestamp</a></h3>
<p>Should return last reset time for outflow check</p>
<pre><code class="language-solidity">function lastOutflowResetTimestamp() external view returns (uint256);
</code></pre>
<h3 id="outflowresettimewindow-1"><a class="header" href="#outflowresettimewindow-1">outflowResetTimeWindow</a></h3>
<p>Should return the outflow volume time window</p>
<pre><code class="language-solidity">function outflowResetTimeWindow() external view returns (uint256);
</code></pre>
<h3 id="ispaused-1"><a class="header" href="#ispaused-1">isPaused</a></h3>
<p>Returns if operation is paused</p>
<pre><code class="language-solidity">function isPaused(address mToken, ImTokenOperationTypes.OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="rolesoperator-1"><a class="header" href="#rolesoperator-1">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="oracleoperator-1"><a class="header" href="#oracleoperator-1">oracleOperator</a></h3>
<p>Oracle which gives the price of any given asset</p>
<pre><code class="language-solidity">function oracleOperator() external view returns (address);
</code></pre>
<h3 id="closefactormantissa-1"><a class="header" href="#closefactormantissa-1">closeFactorMantissa</a></h3>
<p>Multiplier used to calculate the maximum repayAmount when liquidating a borrow</p>
<pre><code class="language-solidity">function closeFactorMantissa() external view returns (uint256);
</code></pre>
<h3 id="liquidationincentivemantissa-1"><a class="header" href="#liquidationincentivemantissa-1">liquidationIncentiveMantissa</a></h3>
<p>Multiplier representing the discount on collateral that a liquidator receives</p>
<pre><code class="language-solidity">function liquidationIncentiveMantissa(address market) external view returns (uint256);
</code></pre>
<h3 id="ismarketlisted-1"><a class="header" href="#ismarketlisted-1">isMarketListed</a></h3>
<p>Returns true/false</p>
<pre><code class="language-solidity">function isMarketListed(address market) external view returns (bool);
</code></pre>
<h3 id="getassetsin-1"><a class="header" href="#getassetsin-1">getAssetsIn</a></h3>
<p>Returns the assets an account has entered</p>
<pre><code class="language-solidity">function getAssetsIn(address _user) external view returns (address[] memory mTokens);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>The address of the account to pull assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>A dynamic list with the assets the account has entered</td></tr>
</tbody></table>
</div>
<h3 id="getallmarkets-1"><a class="header" href="#getallmarkets-1">getAllMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">function getAllMarkets() external view returns (address[] memory mTokens);
</code></pre>
<h3 id="borrowcaps-1"><a class="header" href="#borrowcaps-1">borrowCaps</a></h3>
<p>Borrow caps enforced by borrowAllowed for each mToken address. Defaults to zero which corresponds to unlimited borrowing.</p>
<pre><code class="language-solidity">function borrowCaps(address _mToken) external view returns (uint256);
</code></pre>
<h3 id="supplycaps-1"><a class="header" href="#supplycaps-1">supplyCaps</a></h3>
<p>Supply caps enforced by supplyAllowed for each mToken address. Defaults to zero which corresponds to unlimited supplying.</p>
<pre><code class="language-solidity">function supplyCaps(address _mToken) external view returns (uint256);
</code></pre>
<h3 id="rewarddistributor-1"><a class="header" href="#rewarddistributor-1">rewardDistributor</a></h3>
<p>Reward Distributor to markets supply and borrow (including protocol token)</p>
<pre><code class="language-solidity">function rewardDistributor() external view returns (address);
</code></pre>
<h3 id="checkmembership-1"><a class="header" href="#checkmembership-1">checkMembership</a></h3>
<p>Returns whether the given account is entered in the given asset</p>
<pre><code class="language-solidity">function checkMembership(address account, address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account to check</td></tr>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the account is in the asset, otherwise false.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountliquidity-1"><a class="header" href="#getaccountliquidity-1">getAccountLiquidity</a></h3>
<p>Determine the current account liquidity wrt collateral requirements</p>
<pre><code class="language-solidity">function getAccountLiquidity(address account) external view returns (uint256, uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>account liquidity in excess of collateral requirements, account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="gethypotheticalaccountliquidity-1"><a class="header" href="#gethypotheticalaccountliquidity-1">getHypotheticalAccountLiquidity</a></h3>
<p>Determine what the account liquidity would be if the given amounts were redeemed/borrowed</p>
<pre><code class="language-solidity">function getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to determine liquidity for</td></tr>
<tr><td><code>mTokenModify</code></td><td><code>address</code></td><td>The market to hypothetically redeem/borrow in</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of tokens to hypothetically redeem</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to hypothetically borrow</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>hypothetical account liquidity in excess of collateral requirements, hypothetical account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getusdvalueforallmarkets-1"><a class="header" href="#getusdvalueforallmarkets-1">getUSDValueForAllMarkets</a></h3>
<p>Returns USD value for all markets</p>
<pre><code class="language-solidity">function getUSDValueForAllMarkets() external view returns (uint256);
</code></pre>
<h3 id="liquidatecalculateseizetokens-1"><a class="header" href="#liquidatecalculateseizetokens-1">liquidateCalculateSeizeTokens</a></h3>
<p>Calculate number of tokens of collateral asset to seize given an underlying amount</p>
<p><em>Used in liquidation (called in mTokenBorrowed.liquidate)</em></p>
<pre><code class="language-solidity">function liquidateCalculateSeizeTokens(address mTokenBorrowed, address mTokenCollateral, uint256 actualRepayAmount)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>The address of the borrowed mToken</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The address of the collateral mToken</td></tr>
<tr><td><code>actualRepayAmount</code></td><td><code>uint256</code></td><td>The amount of mTokenBorrowed underlying to convert into mTokenCollateral tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>number of mTokenCollateral tokens to be seized in a liquidation</td></tr>
</tbody></table>
</div>
<h3 id="isdeprecated-1"><a class="header" href="#isdeprecated-1">isDeprecated</a></h3>
<p>Returns true if the given mToken market has been deprecated</p>
<p><em>All borrows in a deprecated mToken market can be immediately liquidated</em></p>
<pre><code class="language-solidity">function isDeprecated(address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to check if deprecated</td></tr>
</tbody></table>
</div>
<h3 id="setpaused-1"><a class="header" href="#setpaused-1">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(address mToken, ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market token address</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="entermarkets-1"><a class="header" href="#entermarkets-1">enterMarkets</a></h3>
<p>Add assets to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarkets(address[] calldata _mTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mTokens</code></td><td><code>address[]</code></td><td>The list of addresses of the mToken markets to be enabled</td></tr>
</tbody></table>
</div>
<h3 id="entermarketswithsender-1"><a class="header" href="#entermarketswithsender-1">enterMarketsWithSender</a></h3>
<p>Add asset (msg.sender) to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarketsWithSender(address _account) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_account</code></td><td><code>address</code></td><td>The account to add for</td></tr>
</tbody></table>
</div>
<h3 id="exitmarket-1"><a class="header" href="#exitmarket-1">exitMarket</a></h3>
<p>Removes asset from sender's account liquidity calculation</p>
<p><em>Sender must not have an outstanding borrow balance in the asset,
or be providing necessary collateral for an outstanding borrow.</em></p>
<pre><code class="language-solidity">function exitMarket(address _mToken) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mToken</code></td><td><code>address</code></td><td>The address of the asset to be removed</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-3"><a class="header" href="#claimmalda-3">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in all markets</p>
<pre><code class="language-solidity">function claimMalda(address holder) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-4"><a class="header" href="#claimmalda-4">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in the specified markets</p>
<pre><code class="language-solidity">function claimMalda(address holder, address[] memory mTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-5"><a class="header" href="#claimmalda-5">claimMalda</a></h3>
<p>Claim all MALDA accrued by the holders</p>
<pre><code class="language-solidity">function claimMalda(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>The addresses to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
<tr><td><code>borrowers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by borrowing</td></tr>
<tr><td><code>suppliers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by supplying</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioracleoperator"><a class="header" href="#ioracleoperator">IOracleOperator</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IOracleOperator.sol">Git Source</a></p>
<p>Prices are returned in USD</p>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="getprice"><a class="header" href="#getprice">getPrice</a></h3>
<p>Get the price of a mToken asset</p>
<pre><code class="language-solidity">function getPrice(address mToken) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="getunderlyingprice"><a class="header" href="#getunderlyingprice">getUnderlyingPrice</a></h3>
<p>Get the underlying price of a mToken asset</p>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the underlying price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iownable"><a class="header" href="#iownable">IOwnable</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IOwnable.sol">Git Source</a></p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="transferownership"><a class="header" href="#transferownership">transferOwnership</a></h3>
<pre><code class="language-solidity">function transferOwnership(address newOwner) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ipauser"><a class="header" href="#ipauser">IPauser</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IPauser.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/IPauser.sol//src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="emergencypausemarket"><a class="header" href="#emergencypausemarket">emergencyPauseMarket</a></h3>
<p>pauses all operations for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarket(address _market) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarketfor"><a class="header" href="#emergencypausemarketfor">emergencyPauseMarketFor</a></h3>
<p>pauses a specific operation for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarketFor(address _market, OperationType _pauseType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
<tr><td><code>_pauseType</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="emergencypauseall"><a class="header" href="#emergencypauseall">emergencyPauseAll</a></h3>
<p>pauses all operations for all registered markets</p>
<pre><code class="language-solidity">function emergencyPauseAll() external;
</code></pre>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="pauseall"><a class="header" href="#pauseall">PauseAll</a></h3>
<pre><code class="language-solidity">event PauseAll();
</code></pre>
<h3 id="marketpaused"><a class="header" href="#marketpaused">MarketPaused</a></h3>
<pre><code class="language-solidity">event MarketPaused(address indexed market);
</code></pre>
<h3 id="marketremoved"><a class="header" href="#marketremoved">MarketRemoved</a></h3>
<pre><code class="language-solidity">event MarketRemoved(address indexed market);
</code></pre>
<h3 id="marketadded"><a class="header" href="#marketadded">MarketAdded</a></h3>
<pre><code class="language-solidity">event MarketAdded(address indexed market, PausableType marketType);
</code></pre>
<h3 id="marketpausedfor"><a class="header" href="#marketpausedfor">MarketPausedFor</a></h3>
<pre><code class="language-solidity">event MarketPausedFor(address indexed market, OperationType pauseType);
</code></pre>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<h3 id="pauser_entrynotfound"><a class="header" href="#pauser_entrynotfound">Pauser_EntryNotFound</a></h3>
<pre><code class="language-solidity">error Pauser_EntryNotFound();
</code></pre>
<h3 id="pauser_notauthorized"><a class="header" href="#pauser_notauthorized">Pauser_NotAuthorized</a></h3>
<pre><code class="language-solidity">error Pauser_NotAuthorized();
</code></pre>
<h3 id="pauser_addressnotvalid"><a class="header" href="#pauser_addressnotvalid">Pauser_AddressNotValid</a></h3>
<pre><code class="language-solidity">error Pauser_AddressNotValid();
</code></pre>
<h3 id="pauser_alreadyregistered"><a class="header" href="#pauser_alreadyregistered">Pauser_AlreadyRegistered</a></h3>
<pre><code class="language-solidity">error Pauser_AlreadyRegistered();
</code></pre>
<h3 id="pauser_contractnotenabled"><a class="header" href="#pauser_contractnotenabled">Pauser_ContractNotEnabled</a></h3>
<pre><code class="language-solidity">error Pauser_ContractNotEnabled();
</code></pre>
<h2 id="structs-6"><a class="header" href="#structs-6">Structs</a></h2>
<h3 id="pausablecontract"><a class="header" href="#pausablecontract">PausableContract</a></h3>
<pre><code class="language-solidity">struct PausableContract {
    address market;
    PausableType contractType;
}
</code></pre>
<h2 id="enums-1"><a class="header" href="#enums-1">Enums</a></h2>
<h3 id="pausabletype"><a class="header" href="#pausabletype">PausableType</a></h3>
<pre><code class="language-solidity">enum PausableType {
    NonPausable,
    Host,
    Extension
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irebalancemarket"><a class="header" href="#irebalancemarket">IRebalanceMarket</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IRebalancer.sol">Git Source</a></p>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="extractforrebalancing"><a class="header" href="#extractforrebalancing">extractForRebalancing</a></h3>
<pre><code class="language-solidity">function extractForRebalancing(uint256 amount) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irebalancer"><a class="header" href="#irebalancer">IRebalancer</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IRebalancer.sol">Git Source</a></p>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="nonce"><a class="header" href="#nonce">nonce</a></h3>
<p>returns current nonce</p>
<pre><code class="language-solidity">function nonce() external view returns (uint256);
</code></pre>
<h3 id="isbridgewhitelisted"><a class="header" href="#isbridgewhitelisted">isBridgeWhitelisted</a></h3>
<p>returns if a bridge implementation is whitelisted</p>
<pre><code class="language-solidity">function isBridgeWhitelisted(address bridge) external view returns (bool);
</code></pre>
<h3 id="isdestinationwhitelisted"><a class="header" href="#isdestinationwhitelisted">isDestinationWhitelisted</a></h3>
<p>returns if a destination is whitelisted</p>
<pre><code class="language-solidity">function isDestinationWhitelisted(uint32 dstId) external view returns (bool);
</code></pre>
<h3 id="sendmsg-1"><a class="header" href="#sendmsg-1">sendMsg</a></h3>
<p>sends a bridge message</p>
<pre><code class="language-solidity">function sendMsg(address bridge, address _market, uint256 _amount, Msg calldata msg) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>bridge</code></td><td><code>address</code></td><td>the whitelisted bridge address</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the market to rebalance from address</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>the amount to rebalance</td></tr>
<tr><td><code>msg</code></td><td><code>Msg</code></td><td>the message data</td></tr>
</tbody></table>
</div>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="bridgewhitelistedstatusupdated"><a class="header" href="#bridgewhitelistedstatusupdated">BridgeWhitelistedStatusUpdated</a></h3>
<pre><code class="language-solidity">event BridgeWhitelistedStatusUpdated(address indexed bridge, bool status);
</code></pre>
<h3 id="msgsent"><a class="header" href="#msgsent">MsgSent</a></h3>
<pre><code class="language-solidity">event MsgSent(
    address indexed bridge, uint32 indexed dstChainId, address indexed token, bytes message, bytes bridgeData
);
</code></pre>
<h3 id="ethsaved"><a class="header" href="#ethsaved">EthSaved</a></h3>
<pre><code class="language-solidity">event EthSaved(uint256 amount);
</code></pre>
<h3 id="maxtransfersizeupdated"><a class="header" href="#maxtransfersizeupdated">MaxTransferSizeUpdated</a></h3>
<pre><code class="language-solidity">event MaxTransferSizeUpdated(uint32 indexed dstChainId, address indexed token, uint256 newLimit);
</code></pre>
<h3 id="mintransfersizeupdated"><a class="header" href="#mintransfersizeupdated">MinTransferSizeUpdated</a></h3>
<pre><code class="language-solidity">event MinTransferSizeUpdated(uint32 indexed dstChainId, address indexed token, uint256 newLimit);
</code></pre>
<h3 id="destinationwhitelistedstatusupdated"><a class="header" href="#destinationwhitelistedstatusupdated">DestinationWhitelistedStatusUpdated</a></h3>
<pre><code class="language-solidity">event DestinationWhitelistedStatusUpdated(uint32 indexed dstChainId, bool status);
</code></pre>
<h3 id="allowedlistupdated"><a class="header" href="#allowedlistupdated">AllowedListUpdated</a></h3>
<pre><code class="language-solidity">event AllowedListUpdated(address[] list, bool status);
</code></pre>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<h3 id="rebalancer_notauthorized"><a class="header" href="#rebalancer_notauthorized">Rebalancer_NotAuthorized</a></h3>
<pre><code class="language-solidity">error Rebalancer_NotAuthorized();
</code></pre>
<h3 id="rebalancer_marketnotvalid"><a class="header" href="#rebalancer_marketnotvalid">Rebalancer_MarketNotValid</a></h3>
<pre><code class="language-solidity">error Rebalancer_MarketNotValid();
</code></pre>
<h3 id="rebalancer_requestnotvalid"><a class="header" href="#rebalancer_requestnotvalid">Rebalancer_RequestNotValid</a></h3>
<pre><code class="language-solidity">error Rebalancer_RequestNotValid();
</code></pre>
<h3 id="rebalancer_addressnotvalid"><a class="header" href="#rebalancer_addressnotvalid">Rebalancer_AddressNotValid</a></h3>
<pre><code class="language-solidity">error Rebalancer_AddressNotValid();
</code></pre>
<h3 id="rebalancer_bridgenotwhitelisted"><a class="header" href="#rebalancer_bridgenotwhitelisted">Rebalancer_BridgeNotWhitelisted</a></h3>
<pre><code class="language-solidity">error Rebalancer_BridgeNotWhitelisted();
</code></pre>
<h3 id="rebalancer_transfersizeexcedeed"><a class="header" href="#rebalancer_transfersizeexcedeed">Rebalancer_TransferSizeExcedeed</a></h3>
<pre><code class="language-solidity">error Rebalancer_TransferSizeExcedeed();
</code></pre>
<h3 id="rebalancer_transfersizeminnotmet"><a class="header" href="#rebalancer_transfersizeminnotmet">Rebalancer_TransferSizeMinNotMet</a></h3>
<pre><code class="language-solidity">error Rebalancer_TransferSizeMinNotMet();
</code></pre>
<h3 id="rebalancer_destinationnotwhitelisted"><a class="header" href="#rebalancer_destinationnotwhitelisted">Rebalancer_DestinationNotWhitelisted</a></h3>
<pre><code class="language-solidity">error Rebalancer_DestinationNotWhitelisted();
</code></pre>
<h2 id="structs-7"><a class="header" href="#structs-7">Structs</a></h2>
<h3 id="msg"><a class="header" href="#msg">Msg</a></h3>
<pre><code class="language-solidity">struct Msg {
    uint32 dstChainId;
    address token;
    bytes message;
    bytes bridgeData;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irewarddistributordata"><a class="header" href="#irewarddistributordata">IRewardDistributorData</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IRewardDistributor.sol">Git Source</a></p>
<h2 id="structs-8"><a class="header" href="#structs-8">Structs</a></h2>
<h3 id="rewardmarketstate"><a class="header" href="#rewardmarketstate">RewardMarketState</a></h3>
<pre><code class="language-solidity">struct RewardMarketState {
    uint256 supplySpeed;
    uint224 supplyIndex;
    uint32 supplyBlock;
    uint256 borrowSpeed;
    uint224 borrowIndex;
    uint32 borrowBlock;
}
</code></pre>
<h3 id="rewardaccountstate"><a class="header" href="#rewardaccountstate">RewardAccountState</a></h3>
<pre><code class="language-solidity">struct RewardAccountState {
    mapping(address =&gt; uint256) supplierIndex;
    mapping(address =&gt; uint256) borrowerIndex;
    uint256 rewardAccrued;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irewarddistributor"><a class="header" href="#irewarddistributor">IRewardDistributor</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IRewardDistributor.sol">Git Source</a></p>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="operator-1"><a class="header" href="#operator-1">operator</a></h3>
<p>The operator that rewards are distributed to</p>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="isrewardtoken"><a class="header" href="#isrewardtoken">isRewardToken</a></h3>
<p>Flag to check if reward token added before</p>
<pre><code class="language-solidity">function isRewardToken(address _token) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to check for</td></tr>
</tbody></table>
</div>
<h3 id="getrewardtokens"><a class="header" href="#getrewardtokens">getRewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">function getRewardTokens() external view returns (address[] memory);
</code></pre>
<h3 id="getblocktimestamp"><a class="header" href="#getblocktimestamp">getBlockTimestamp</a></h3>
<p>Get block timestamp</p>
<pre><code class="language-solidity">function getBlockTimestamp() external view returns (uint32);
</code></pre>
<h3 id="notifysupplyindex"><a class="header" href="#notifysupplyindex">notifySupplyIndex</a></h3>
<p>Notifies supply index</p>
<pre><code class="language-solidity">function notifySupplyIndex(address mToken) external;
</code></pre>
<h3 id="notifyborrowindex"><a class="header" href="#notifyborrowindex">notifyBorrowIndex</a></h3>
<p>Notifies borrow index</p>
<pre><code class="language-solidity">function notifyBorrowIndex(address mToken) external;
</code></pre>
<h3 id="notifysupplier"><a class="header" href="#notifysupplier">notifySupplier</a></h3>
<p>Notifies supplier</p>
<pre><code class="language-solidity">function notifySupplier(address mToken, address supplier) external;
</code></pre>
<h3 id="notifyborrower"><a class="header" href="#notifyborrower">notifyBorrower</a></h3>
<p>Notifies borrower</p>
<pre><code class="language-solidity">function notifyBorrower(address mToken, address borrower) external;
</code></pre>
<h3 id="claim"><a class="header" href="#claim">claim</a></h3>
<p>Claim tokens for `holders</p>
<pre><code class="language-solidity">function claim(address[] memory holders) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>the accounts to claim for</td></tr>
</tbody></table>
</div>
<h2 id="events-10"><a class="header" href="#events-10">Events</a></h2>
<h3 id="rewardaccrued"><a class="header" href="#rewardaccrued">RewardAccrued</a></h3>
<pre><code class="language-solidity">event RewardAccrued(address indexed rewardToken, address indexed user, uint256 deltaAccrued, uint256 totalAccrued);
</code></pre>
<h3 id="rewardgranted"><a class="header" href="#rewardgranted">RewardGranted</a></h3>
<pre><code class="language-solidity">event RewardGranted(address indexed rewardToken, address indexed user, uint256 amount);
</code></pre>
<h3 id="supplyspeedupdated"><a class="header" href="#supplyspeedupdated">SupplySpeedUpdated</a></h3>
<pre><code class="language-solidity">event SupplySpeedUpdated(address indexed rewardToken, address indexed mToken, uint256 supplySpeed);
</code></pre>
<h3 id="borrowspeedupdated"><a class="header" href="#borrowspeedupdated">BorrowSpeedUpdated</a></h3>
<pre><code class="language-solidity">event BorrowSpeedUpdated(address indexed rewardToken, address indexed mToken, uint256 borrowSpeed);
</code></pre>
<h3 id="operatorset"><a class="header" href="#operatorset">OperatorSet</a></h3>
<pre><code class="language-solidity">event OperatorSet(address indexed oldOperator, address indexed newOperator);
</code></pre>
<h3 id="whitelistedtoken"><a class="header" href="#whitelistedtoken">WhitelistedToken</a></h3>
<pre><code class="language-solidity">event WhitelistedToken(address indexed token);
</code></pre>
<h3 id="supplyindexnotified"><a class="header" href="#supplyindexnotified">SupplyIndexNotified</a></h3>
<pre><code class="language-solidity">event SupplyIndexNotified(address indexed rewardToken, address indexed mToken);
</code></pre>
<h3 id="borrowindexnotified"><a class="header" href="#borrowindexnotified">BorrowIndexNotified</a></h3>
<pre><code class="language-solidity">event BorrowIndexNotified(address indexed rewardToken, address indexed mToken);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iroles"><a class="header" href="#iroles">IRoles</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/IRoles.sol">Git Source</a></p>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="rebalancer"><a class="header" href="#rebalancer">REBALANCER</a></h3>
<p>Returns REBALANCER role</p>
<pre><code class="language-solidity">function REBALANCER() external view returns (bytes32);
</code></pre>
<h3 id="rebalancer_eoa"><a class="header" href="#rebalancer_eoa">REBALANCER_EOA</a></h3>
<p>Returns REBALANCER_EOA role</p>
<pre><code class="language-solidity">function REBALANCER_EOA() external view returns (bytes32);
</code></pre>
<h3 id="guardian_pause"><a class="header" href="#guardian_pause">GUARDIAN_PAUSE</a></h3>
<p>Returns GUARDIAN_PAUSE role</p>
<pre><code class="language-solidity">function GUARDIAN_PAUSE() external view returns (bytes32);
</code></pre>
<h3 id="guardian_bridge"><a class="header" href="#guardian_bridge">GUARDIAN_BRIDGE</a></h3>
<p>Returns GUARDIAN_BRIDGE role</p>
<pre><code class="language-solidity">function GUARDIAN_BRIDGE() external view returns (bytes32);
</code></pre>
<h3 id="guardian_borrow_cap"><a class="header" href="#guardian_borrow_cap">GUARDIAN_BORROW_CAP</a></h3>
<p>Returns GUARDIAN_BORROW_CAP role</p>
<pre><code class="language-solidity">function GUARDIAN_BORROW_CAP() external view returns (bytes32);
</code></pre>
<h3 id="guardian_supply_cap"><a class="header" href="#guardian_supply_cap">GUARDIAN_SUPPLY_CAP</a></h3>
<p>Returns GUARDIAN_SUPPLY_CAP role</p>
<pre><code class="language-solidity">function GUARDIAN_SUPPLY_CAP() external view returns (bytes32);
</code></pre>
<h3 id="guardian_reserve"><a class="header" href="#guardian_reserve">GUARDIAN_RESERVE</a></h3>
<p>Returns GUARDIAN_RESERVE role</p>
<pre><code class="language-solidity">function GUARDIAN_RESERVE() external view returns (bytes32);
</code></pre>
<h3 id="proof_forwarder"><a class="header" href="#proof_forwarder">PROOF_FORWARDER</a></h3>
<p>Returns PROOF_FORWARDER role</p>
<pre><code class="language-solidity">function PROOF_FORWARDER() external view returns (bytes32);
</code></pre>
<h3 id="proof_batch_forwarder"><a class="header" href="#proof_batch_forwarder">PROOF_BATCH_FORWARDER</a></h3>
<p>Returns PROOF_BATCH_FORWARDER role</p>
<pre><code class="language-solidity">function PROOF_BATCH_FORWARDER() external view returns (bytes32);
</code></pre>
<h3 id="sequencer"><a class="header" href="#sequencer">SEQUENCER</a></h3>
<p>Returns SEQUENCER role</p>
<pre><code class="language-solidity">function SEQUENCER() external view returns (bytes32);
</code></pre>
<h3 id="pause_manager"><a class="header" href="#pause_manager">PAUSE_MANAGER</a></h3>
<p>Returns PAUSE_MANAGER role</p>
<pre><code class="language-solidity">function PAUSE_MANAGER() external view returns (bytes32);
</code></pre>
<h3 id="chains_manager"><a class="header" href="#chains_manager">CHAINS_MANAGER</a></h3>
<p>Returns CHAINS_MANAGER role</p>
<pre><code class="language-solidity">function CHAINS_MANAGER() external view returns (bytes32);
</code></pre>
<h3 id="guardian_oracle"><a class="header" href="#guardian_oracle">GUARDIAN_ORACLE</a></h3>
<p>Returns GUARDIAN_ORACLE role</p>
<pre><code class="language-solidity">function GUARDIAN_ORACLE() external view returns (bytes32);
</code></pre>
<h3 id="isallowedfor"><a class="header" href="#isallowedfor">isAllowedFor</a></h3>
<p>Returns allowance status for a contract and a role</p>
<pre><code class="language-solidity">function isAllowedFor(address _contract, bytes32 _role) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the contract address</td></tr>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>the bytes32 role</td></tr>
</tbody></table>
</div>
<h2 id="errors-6"><a class="header" href="#errors-6">Errors</a></h2>
<h3 id="roles_inputnotvalid"><a class="header" href="#roles_inputnotvalid">Roles_InputNotValid</a></h3>
<pre><code class="language-solidity">error Roles_InputNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imerc20"><a class="header" href="#imerc20">ImErc20</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImErc20.sol">Git Source</a></p>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function mint(uint256 mintAmount, address receiver, uint256 minAmountOut) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The mTokens receiver</td></tr>
<tr><td><code>minAmountOut</code></td><td><code>uint256</code></td><td>The min amounts to be received</td></tr>
</tbody></table>
</div>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeem(uint256 redeemTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeemunderlying"><a class="header" href="#redeemunderlying">redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeemUnderlying(uint256 redeemAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to redeem</td></tr>
</tbody></table>
</div>
<h3 id="borrow"><a class="header" href="#borrow">borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function borrow(uint256 borrowAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
</tbody></table>
</div>
<h3 id="repay"><a class="header" href="#repay">repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function repay(uint256 repayAmount) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or type(uint256).max for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="repaybehalf"><a class="header" href="#repaybehalf">repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function repayBehalf(address borrower, uint256 repayAmount) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or type(uint256).max for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="liquidate"><a class="header" href="#liquidate">liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function liquidate(address borrower, uint256 repayAmount, address mTokenCollateral) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
</tbody></table>
</div>
<h3 id="addreserves"><a class="header" href="#addreserves">addReserves</a></h3>
<p>The sender adds to reserves.</p>
<pre><code class="language-solidity">function addReserves(uint256 addAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>The amount fo underlying token to add as reserves</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imerc20host"><a class="header" href="#imerc20host">ImErc20Host</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImErc20Host.sol">Git Source</a></p>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="iscallerallowed"><a class="header" href="#iscallerallowed">isCallerAllowed</a></h3>
<p>Returns if a caller is allowed for sender</p>
<pre><code class="language-solidity">function isCallerAllowed(address sender, address caller) external view returns (bool);
</code></pre>
<h3 id="getproofdata"><a class="header" href="#getproofdata">getProofData</a></h3>
<p>Returns the proof data journal</p>
<pre><code class="language-solidity">function getProofData(address user, uint32 dstId) external view returns (uint256, uint256);
</code></pre>
<h3 id="mintmigration"><a class="header" href="#mintmigration">mintMigration</a></h3>
<p>Mints mTokens during migration without requiring underlying transfer</p>
<pre><code class="language-solidity">function mintMigration(uint256 amount, uint256 minAmount, address receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of underlying to be accounted for</td></tr>
<tr><td><code>minAmount</code></td><td><code>uint256</code></td><td>The min amount of underlying to be accounted for</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address that will receive the mTokens</td></tr>
</tbody></table>
</div>
<h3 id="borrowmigration"><a class="header" href="#borrowmigration">borrowMigration</a></h3>
<p>Borrows from market for a specific borrower and not <code>msg.sender</code></p>
<pre><code class="language-solidity">function borrowMigration(uint256 amount, address borrower, address receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of underlying to be accounted for</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address that borrow is executed for</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="extractforrebalancing-1"><a class="header" href="#extractforrebalancing-1">extractForRebalancing</a></h3>
<p>Extract amount to be used for rebalancing operation</p>
<pre><code class="language-solidity">function extractForRebalancing(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to rebalance</td></tr>
</tbody></table>
</div>
<h3 id="updateallowedcallerstatus"><a class="header" href="#updateallowedcallerstatus">updateAllowedCallerStatus</a></h3>
<p>Set caller status for <code>msg.sender</code></p>
<pre><code class="language-solidity">function updateAllowedCallerStatus(address caller, bool status) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>caller</code></td><td><code>address</code></td><td>The caller address</td></tr>
<tr><td><code>status</code></td><td><code>bool</code></td><td>The status to set for <code>caller</code></td></tr>
</tbody></table>
</div>
<h3 id="liquidateexternal"><a class="header" href="#liquidateexternal">liquidateExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function liquidateExternal(
    bytes calldata journalData,
    bytes calldata seal,
    address[] calldata userToLiquidate,
    uint256[] calldata liquidateAmount,
    address[] calldata collateral,
    address receiver
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>userToLiquidate</code></td><td><code>address[]</code></td><td>Array of positions to liquidate</td></tr>
<tr><td><code>liquidateAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to liquidate</td></tr>
<tr><td><code>collateral</code></td><td><code>address[]</code></td><td>Array of collaterals to seize</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The collateral receiver</td></tr>
</tbody></table>
</div>
<h3 id="mintexternal"><a class="header" href="#mintexternal">mintExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function mintExternal(
    bytes calldata journalData,
    bytes calldata seal,
    uint256[] calldata mintAmount,
    uint256[] calldata minAmountsOut,
    address receiver
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to mint</td></tr>
<tr><td><code>minAmountsOut</code></td><td><code>uint256[]</code></td><td>Array of min amounts accepted</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The tokens receiver</td></tr>
</tbody></table>
</div>
<h3 id="repayexternal"><a class="header" href="#repayexternal">repayExternal</a></h3>
<p>Repays tokens after external verification</p>
<pre><code class="language-solidity">function repayExternal(
    bytes calldata journalData,
    bytes calldata seal,
    uint256[] calldata repayAmount,
    address receiver
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for repayment (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to repay</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The position to repay for</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonextension"><a class="header" href="#withdrawonextension">withdrawOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<pre><code class="language-solidity">function withdrawOnExtension(uint256 amount, uint32 dstChainId) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>The destination chain to recieve funds</td></tr>
</tbody></table>
</div>
<h3 id="borrowonextension"><a class="header" href="#borrowonextension">borrowOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<pre><code class="language-solidity">function borrowOnExtension(uint256 amount, uint32 dstChainId) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>The destination chain to recieve funds</td></tr>
</tbody></table>
</div>
<h2 id="events-11"><a class="header" href="#events-11">Events</a></h2>
<h3 id="allowedcallerupdated"><a class="header" href="#allowedcallerupdated">AllowedCallerUpdated</a></h3>
<p>Emitted when a user updates allowed callers</p>
<pre><code class="language-solidity">event AllowedCallerUpdated(address indexed sender, address indexed caller, bool status);
</code></pre>
<h3 id="merc20host_chainstatusupdated"><a class="header" href="#merc20host_chainstatusupdated">mErc20Host_ChainStatusUpdated</a></h3>
<p>Emitted when a chain id whitelist status is updated</p>
<pre><code class="language-solidity">event mErc20Host_ChainStatusUpdated(uint32 indexed chainId, bool status);
</code></pre>
<h3 id="merc20host_liquidateexternal"><a class="header" href="#merc20host_liquidateexternal">mErc20Host_LiquidateExternal</a></h3>
<p>Emitted when a liquidate operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_LiquidateExternal(
    address indexed msgSender,
    address indexed srcSender,
    address userToLiquidate,
    address receiver,
    address indexed collateral,
    uint32 srcChainId,
    uint256 amount
);
</code></pre>
<h3 id="merc20host_mintexternal"><a class="header" href="#merc20host_mintexternal">mErc20Host_MintExternal</a></h3>
<p>Emitted when a mint operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_MintExternal(
    address indexed msgSender, address indexed srcSender, address indexed receiver, uint32 chainId, uint256 amount
);
</code></pre>
<h3 id="merc20host_borrowexternal"><a class="header" href="#merc20host_borrowexternal">mErc20Host_BorrowExternal</a></h3>
<p>Emitted when a borrow operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_BorrowExternal(
    address indexed msgSender, address indexed srcSender, uint32 indexed chainId, uint256 amount
);
</code></pre>
<h3 id="merc20host_repayexternal"><a class="header" href="#merc20host_repayexternal">mErc20Host_RepayExternal</a></h3>
<p>Emitted when a repay operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_RepayExternal(
    address indexed msgSender, address indexed srcSender, address indexed position, uint32 chainId, uint256 amount
);
</code></pre>
<h3 id="merc20host_withdrawexternal"><a class="header" href="#merc20host_withdrawexternal">mErc20Host_WithdrawExternal</a></h3>
<p>Emitted when a withdrawal is executed</p>
<pre><code class="language-solidity">event mErc20Host_WithdrawExternal(
    address indexed msgSender, address indexed srcSender, uint32 indexed chainId, uint256 amount
);
</code></pre>
<h3 id="merc20host_borrowonextensionchain"><a class="header" href="#merc20host_borrowonextensionchain">mErc20Host_BorrowOnExtensionChain</a></h3>
<p>Emitted when a borrow operation is triggered for an extension chain</p>
<pre><code class="language-solidity">event mErc20Host_BorrowOnExtensionChain(address indexed sender, uint32 dstChainId, uint256 amount);
</code></pre>
<h3 id="merc20host_withdrawonextensionchain"><a class="header" href="#merc20host_withdrawonextensionchain">mErc20Host_WithdrawOnExtensionChain</a></h3>
<p>Emitted when a withdraw operation is triggered for an extension chain</p>
<pre><code class="language-solidity">event mErc20Host_WithdrawOnExtensionChain(address indexed sender, uint32 dstChainId, uint256 amount);
</code></pre>
<h3 id="merc20host_gasfeeupdated"><a class="header" href="#merc20host_gasfeeupdated">mErc20Host_GasFeeUpdated</a></h3>
<p>Emitted when gas fees are updated for a dst chain</p>
<pre><code class="language-solidity">event mErc20Host_GasFeeUpdated(uint32 indexed dstChainId, uint256 amount);
</code></pre>
<h3 id="merc20host_mintmigration"><a class="header" href="#merc20host_mintmigration">mErc20Host_MintMigration</a></h3>
<pre><code class="language-solidity">event mErc20Host_MintMigration(address indexed receiver, uint256 amount);
</code></pre>
<h3 id="merc20host_borrowmigration"><a class="header" href="#merc20host_borrowmigration">mErc20Host_BorrowMigration</a></h3>
<pre><code class="language-solidity">event mErc20Host_BorrowMigration(address indexed borrower, uint256 amount);
</code></pre>
<h2 id="errors-7"><a class="header" href="#errors-7">Errors</a></h2>
<h3 id="merc20host_proofgenerationinputnotvalid"><a class="header" href="#merc20host_proofgenerationinputnotvalid">mErc20Host_ProofGenerationInputNotValid</a></h3>
<p>Thrown when the chain id is not LINEA</p>
<pre><code class="language-solidity">error mErc20Host_ProofGenerationInputNotValid();
</code></pre>
<h3 id="merc20host_dstchainnotvalid"><a class="header" href="#merc20host_dstchainnotvalid">mErc20Host_DstChainNotValid</a></h3>
<p>Thrown when the dst chain id is not current chain</p>
<pre><code class="language-solidity">error mErc20Host_DstChainNotValid();
</code></pre>
<h3 id="merc20host_chainnotvalid"><a class="header" href="#merc20host_chainnotvalid">mErc20Host_ChainNotValid</a></h3>
<p>Thrown when the chain id is not LINEA</p>
<pre><code class="language-solidity">error mErc20Host_ChainNotValid();
</code></pre>
<h3 id="merc20host_addressnotvalid"><a class="header" href="#merc20host_addressnotvalid">mErc20Host_AddressNotValid</a></h3>
<p>Thrown when the address is not valid</p>
<pre><code class="language-solidity">error mErc20Host_AddressNotValid();
</code></pre>
<h3 id="merc20host_amounttoobig"><a class="header" href="#merc20host_amounttoobig">mErc20Host_AmountTooBig</a></h3>
<p>Thrown when the amount provided is bigger than the available amount`</p>
<pre><code class="language-solidity">error mErc20Host_AmountTooBig();
</code></pre>
<h3 id="merc20host_amountnotvalid"><a class="header" href="#merc20host_amountnotvalid">mErc20Host_AmountNotValid</a></h3>
<p>Thrown when the amount specified is invalid (e.g., zero)</p>
<pre><code class="language-solidity">error mErc20Host_AmountNotValid();
</code></pre>
<h3 id="merc20host_journalnotvalid"><a class="header" href="#merc20host_journalnotvalid">mErc20Host_JournalNotValid</a></h3>
<p>Thrown when the journal data provided is invalid or corrupted</p>
<pre><code class="language-solidity">error mErc20Host_JournalNotValid();
</code></pre>
<h3 id="merc20host_callernotallowed"><a class="header" href="#merc20host_callernotallowed">mErc20Host_CallerNotAllowed</a></h3>
<p>Thrown when caller is not allowed</p>
<pre><code class="language-solidity">error mErc20Host_CallerNotAllowed();
</code></pre>
<h3 id="merc20host_notrebalancer"><a class="header" href="#merc20host_notrebalancer">mErc20Host_NotRebalancer</a></h3>
<p>Thrown when caller is not rebalancer</p>
<pre><code class="language-solidity">error mErc20Host_NotRebalancer();
</code></pre>
<h3 id="merc20host_lengthmismatch"><a class="header" href="#merc20host_lengthmismatch">mErc20Host_LengthMismatch</a></h3>
<p>Thrown when length of array is not valid</p>
<pre><code class="language-solidity">error mErc20Host_LengthMismatch();
</code></pre>
<h3 id="merc20host_notenoughgasfee"><a class="header" href="#merc20host_notenoughgasfee">mErc20Host_NotEnoughGasFee</a></h3>
<p>Thrown when not enough gas fee was received</p>
<pre><code class="language-solidity">error mErc20Host_NotEnoughGasFee();
</code></pre>
<h3 id="merc20host_l1inclusionrequired"><a class="header" href="#merc20host_l1inclusionrequired">mErc20Host_L1InclusionRequired</a></h3>
<p>Thrown when L1 inclusion is required</p>
<pre><code class="language-solidity">error mErc20Host_L1InclusionRequired();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokenoperationtypes"><a class="header" href="#imtokenoperationtypes">ImTokenOperationTypes</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImToken.sol">Git Source</a></p>
<h2 id="enums-2"><a class="header" href="#enums-2">Enums</a></h2>
<h3 id="operationtype"><a class="header" href="#operationtype">OperationType</a></h3>
<pre><code class="language-solidity">enum OperationType {
    AmountIn,
    AmountInHere,
    AmountOut,
    AmountOutHere,
    Seize,
    Transfer,
    Mint,
    Borrow,
    Repay,
    Redeem,
    Liquidate,
    Rebalancing
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokendelegator"><a class="header" href="#imtokendelegator">ImTokenDelegator</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImToken.sol">Git Source</a></p>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="delegate"><a class="header" href="#delegate">delegate</a></h3>
<p>Non-standard token able to delegate</p>
<pre><code class="language-solidity">function delegate(address delegatee) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokenminimal"><a class="header" href="#imtokenminimal">ImTokenMinimal</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImToken.sol">Git Source</a></p>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<p>EIP-20 token name for this token</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<h3 id="symbol"><a class="header" href="#symbol">symbol</a></h3>
<p>EIP-20 token symbol for this token</p>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<h3 id="decimals-2"><a class="header" href="#decimals-2">decimals</a></h3>
<p>EIP-20 token decimals for this token</p>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<p>Returns the value of tokens in existence.</p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="totalunderlying"><a class="header" href="#totalunderlying">totalUnderlying</a></h3>
<p>Returns the amount of underlying tokens</p>
<pre><code class="language-solidity">function totalUnderlying() external view returns (uint256);
</code></pre>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<p>Returns the value of tokens owned by <code>account</code>.</p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to check for</td></tr>
</tbody></table>
</div>
<h3 id="ismtoken"><a class="header" href="#ismtoken">isMToken</a></h3>
<p><em>Returns true</em></p>
<pre><code class="language-solidity">function isMToken() external view returns (bool);
</code></pre>
<h3 id="underlying"><a class="header" href="#underlying">underlying</a></h3>
<p><em>Returns the underlying address</em></p>
<pre><code class="language-solidity">function underlying() external view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtoken"><a class="header" href="#imtoken">ImToken</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/interfaces/ImToken.sol//src/interfaces/ImToken.sol/interface.ImTokenMinimal.html">ImTokenMinimal</a></p>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="rolesoperator-2"><a class="header" href="#rolesoperator-2">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="admin"><a class="header" href="#admin">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">function admin() external view returns (address payable);
</code></pre>
<h3 id="pendingadmin"><a class="header" href="#pendingadmin">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">function pendingAdmin() external view returns (address payable);
</code></pre>
<h3 id="operator-2"><a class="header" href="#operator-2">operator</a></h3>
<p>Contract which oversees inter-mToken operations</p>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="interestratemodel"><a class="header" href="#interestratemodel">interestRateModel</a></h3>
<p>Model which tells what the current interest rate should be</p>
<pre><code class="language-solidity">function interestRateModel() external view returns (address);
</code></pre>
<h3 id="reservefactormantissa"><a class="header" href="#reservefactormantissa">reserveFactorMantissa</a></h3>
<p>Fraction of interest currently set aside for reserves</p>
<pre><code class="language-solidity">function reserveFactorMantissa() external view returns (uint256);
</code></pre>
<h3 id="accrualblocktimestamp"><a class="header" href="#accrualblocktimestamp">accrualBlockTimestamp</a></h3>
<p>Block timestamp that interest was last accrued at</p>
<pre><code class="language-solidity">function accrualBlockTimestamp() external view returns (uint256);
</code></pre>
<h3 id="borrowindex"><a class="header" href="#borrowindex">borrowIndex</a></h3>
<p>Accumulator of the total earned interest rate since the opening of the market</p>
<pre><code class="language-solidity">function borrowIndex() external view returns (uint256);
</code></pre>
<h3 id="totalborrows"><a class="header" href="#totalborrows">totalBorrows</a></h3>
<p>Total amount of outstanding borrows of the underlying in this market</p>
<pre><code class="language-solidity">function totalBorrows() external view returns (uint256);
</code></pre>
<h3 id="totalreserves"><a class="header" href="#totalreserves">totalReserves</a></h3>
<p>Total amount of reserves of the underlying held in this market</p>
<pre><code class="language-solidity">function totalReserves() external view returns (uint256);
</code></pre>
<h3 id="samechainflowstatedisabled"><a class="header" href="#samechainflowstatedisabled">sameChainFlowStateDisabled</a></h3>
<p>Returns true/false for same chain flow state disable status</p>
<pre><code class="language-solidity">function sameChainFlowStateDisabled() external view returns (bool);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<p>Transfers <code>amount</code> tokens to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transfer(address dst, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the recipient</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<p>Transfers <code>amount</code> tokens from the <code>src</code> address to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transferFrom(address src, address dst, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address from which tokens are transferred</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address to which tokens are transferred</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<p>Approves <code>spender</code> to spend <code>amount</code> tokens on behalf of the caller</p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to approve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the approval was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<p>Returns the current allowance the <code>spender</code> has from the <code>owner</code></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the token holder</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend the tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current remaining number of tokens <code>spender</code> can spend</td></tr>
</tbody></table>
</div>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<p>Returns the balance of tokens held by <code>owner</code></p>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of tokens owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="balanceofunderlying"><a class="header" href="#balanceofunderlying">balanceOfUnderlying</a></h3>
<p>Returns the underlying asset balance of the <code>owner</code></p>
<pre><code class="language-solidity">function balanceOfUnderlying(address owner) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance of underlying assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of underlying assets owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountsnapshot"><a class="header" href="#getaccountsnapshot">getAccountSnapshot</a></h3>
<p>Returns the snapshot of account details for the given <code>account</code></p>
<pre><code class="language-solidity">function getAccountSnapshot(address account) external view returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the account snapshot for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(token balance, borrow balance, exchange rate)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="borrowrateperblock"><a class="header" href="#borrowrateperblock">borrowRatePerBlock</a></h3>
<p>Returns the current borrow rate per block</p>
<pre><code class="language-solidity">function borrowRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supplyrateperblock"><a class="header" href="#supplyrateperblock">supplyRatePerBlock</a></h3>
<p>Returns the current supply rate per block</p>
<pre><code class="language-solidity">function supplyRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="totalborrowscurrent"><a class="header" href="#totalborrowscurrent">totalBorrowsCurrent</a></h3>
<p>Returns the total amount of borrows, accounting for interest</p>
<pre><code class="language-solidity">function totalBorrowsCurrent() external returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of borrows</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancecurrent"><a class="header" href="#borrowbalancecurrent">borrowBalanceCurrent</a></h3>
<p>Returns the current borrow balance for <code>account</code>, accounting for interest</p>
<pre><code class="language-solidity">function borrowBalanceCurrent(address account) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancestored"><a class="header" href="#borrowbalancestored">borrowBalanceStored</a></h3>
<p>Returns the stored borrow balance for <code>account</code>, without accruing interest</p>
<pre><code class="language-solidity">function borrowBalanceStored(address account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the stored borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratecurrent"><a class="header" href="#exchangeratecurrent">exchangeRateCurrent</a></h3>
<p>Returns the current exchange rate, with interest accrued</p>
<pre><code class="language-solidity">function exchangeRateCurrent() external returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratestored"><a class="header" href="#exchangeratestored">exchangeRateStored</a></h3>
<p>Returns the stored exchange rate, without accruing interest</p>
<pre><code class="language-solidity">function exchangeRateStored() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="getcash"><a class="header" href="#getcash">getCash</a></h3>
<p>Returns the total amount of available cash in the contract</p>
<pre><code class="language-solidity">function getCash() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of cash</td></tr>
</tbody></table>
</div>
<h3 id="accrueinterest"><a class="header" href="#accrueinterest">accrueInterest</a></h3>
<p>Accrues interest on the contract's outstanding loans</p>
<pre><code class="language-solidity">function accrueInterest() external;
</code></pre>
<h3 id="seize"><a class="header" href="#seize">seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Will fail unless called by another mToken during the process of liquidation.
Its absolutely critical to use msg.sender as the borrowed mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function seize(address liquidator, address borrower, uint256 seizeTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="reducereserves"><a class="header" href="#reducereserves">reduceReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring to admin</p>
<pre><code class="language-solidity">function reduceReserves(uint256 reduceAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reduceAmount</code></td><td><code>uint256</code></td><td>Amount of reduction to reserves</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imtokengateway"><a class="header" href="#imtokengateway">ImTokenGateway</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/interfaces/ImTokenGateway.sol">Git Source</a></p>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="rolesoperator-3"><a class="header" href="#rolesoperator-3">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="underlying-1"><a class="header" href="#underlying-1">underlying</a></h3>
<p>Returns the address of the underlying token</p>
<pre><code class="language-solidity">function underlying() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The address of the underlying token</td></tr>
</tbody></table>
</div>
<h3 id="ispaused-2"><a class="header" href="#ispaused-2">isPaused</a></h3>
<p>returns pause state for operation</p>
<pre><code class="language-solidity">function isPaused(ImTokenOperationTypes.OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="accamountin"><a class="header" href="#accamountin">accAmountIn</a></h3>
<p>Returns accumulated amount in per user</p>
<pre><code class="language-solidity">function accAmountIn(address user) external view returns (uint256);
</code></pre>
<h3 id="accamountout"><a class="header" href="#accamountout">accAmountOut</a></h3>
<p>Returns accumulated amount out per user</p>
<pre><code class="language-solidity">function accAmountOut(address user) external view returns (uint256);
</code></pre>
<h3 id="iscallerallowed-1"><a class="header" href="#iscallerallowed-1">isCallerAllowed</a></h3>
<p>Returns if a caller is allowed for sender</p>
<pre><code class="language-solidity">function isCallerAllowed(address sender, address caller) external view returns (bool);
</code></pre>
<h3 id="getproofdata-1"><a class="header" href="#getproofdata-1">getProofData</a></h3>
<p>Returns the proof data journal</p>
<pre><code class="language-solidity">function getProofData(address user, uint32 dstId) external view returns (uint256, uint256);
</code></pre>
<h3 id="extractforrebalancing-2"><a class="header" href="#extractforrebalancing-2">extractForRebalancing</a></h3>
<p>Extract amount to be used for rebalancing operation</p>
<pre><code class="language-solidity">function extractForRebalancing(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to rebalance</td></tr>
</tbody></table>
</div>
<h3 id="setpaused-2"><a class="header" href="#setpaused-2">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="updateallowedcallerstatus-1"><a class="header" href="#updateallowedcallerstatus-1">updateAllowedCallerStatus</a></h3>
<p>Set caller status for <code>msg.sender</code></p>
<pre><code class="language-solidity">function updateAllowedCallerStatus(address caller, bool status) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>caller</code></td><td><code>address</code></td><td>The caller address</td></tr>
<tr><td><code>status</code></td><td><code>bool</code></td><td>The status to set for <code>caller</code></td></tr>
</tbody></table>
</div>
<h3 id="supplyonhost"><a class="header" href="#supplyonhost">supplyOnHost</a></h3>
<p>Supply underlying to the contract</p>
<pre><code class="language-solidity">function supplyOnHost(uint256 amount, address receiver, bytes4 lineaSelector) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The supplied amount</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The receiver address</td></tr>
<tr><td><code>lineaSelector</code></td><td><code>bytes4</code></td><td>The method selector to be called on Linea by our relayer. If empty, user has to submit it</td></tr>
</tbody></table>
</div>
<h3 id="outhere"><a class="header" href="#outhere">outHere</a></h3>
<p>Extract tokens</p>
<pre><code class="language-solidity">function outHere(bytes calldata journalData, bytes calldata seal, uint256[] memory amounts, address receiver)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The supplied journal</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The seal address</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amounts to withdraw for each journal</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The receiver address</td></tr>
</tbody></table>
</div>
<h2 id="events-12"><a class="header" href="#events-12">Events</a></h2>
<h3 id="allowedcallerupdated-1"><a class="header" href="#allowedcallerupdated-1">AllowedCallerUpdated</a></h3>
<p>Emitted when a user updates allowed callers</p>
<pre><code class="language-solidity">event AllowedCallerUpdated(address indexed sender, address indexed caller, bool status);
</code></pre>
<h3 id="mtokengateway_supplied"><a class="header" href="#mtokengateway_supplied">mTokenGateway_Supplied</a></h3>
<p>Emitted when a supply operation is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_Supplied(
    address indexed from,
    address indexed receiver,
    uint256 accAmountIn,
    uint256 accAmountOut,
    uint256 amount,
    uint32 srcChainId,
    uint32 dstChainId,
    bytes4 lineaMethodSelector
);
</code></pre>
<h3 id="mtokengateway_extracted"><a class="header" href="#mtokengateway_extracted">mTokenGateway_Extracted</a></h3>
<p>Emitted when an extract was finalized</p>
<pre><code class="language-solidity">event mTokenGateway_Extracted(
    address indexed msgSender,
    address indexed srcSender,
    address indexed receiver,
    uint256 accAmountIn,
    uint256 accAmountOut,
    uint256 amount,
    uint32 srcChainId,
    uint32 dstChainId
);
</code></pre>
<h3 id="mtokengateway_skipped"><a class="header" href="#mtokengateway_skipped">mTokenGateway_Skipped</a></h3>
<p>Emitted when a proof was skipped</p>
<pre><code class="language-solidity">event mTokenGateway_Skipped(
    address indexed msgSender,
    address indexed srcSender,
    address indexed receiver,
    uint256 accAmountIn,
    uint256 accAmountOut,
    uint256 amount,
    uint32 srcChainId,
    uint32 dstChainId
);
</code></pre>
<h3 id="mtokengateway_gasfeeupdated"><a class="header" href="#mtokengateway_gasfeeupdated">mTokenGateway_GasFeeUpdated</a></h3>
<p>Emitted when the gas fee is updated</p>
<pre><code class="language-solidity">event mTokenGateway_GasFeeUpdated(uint256 amount);
</code></pre>
<h3 id="mtokengateway_pausedstate"><a class="header" href="#mtokengateway_pausedstate">mTokenGateway_PausedState</a></h3>
<pre><code class="language-solidity">event mTokenGateway_PausedState(ImTokenOperationTypes.OperationType indexed _type, bool _status);
</code></pre>
<h3 id="zkverifierupdated"><a class="header" href="#zkverifierupdated">ZkVerifierUpdated</a></h3>
<pre><code class="language-solidity">event ZkVerifierUpdated(address indexed oldVerifier, address indexed newVerifier);
</code></pre>
<h3 id="mtokengateway_userwhitelisted"><a class="header" href="#mtokengateway_userwhitelisted">mTokenGateway_UserWhitelisted</a></h3>
<pre><code class="language-solidity">event mTokenGateway_UserWhitelisted(address indexed user, bool status);
</code></pre>
<h3 id="mtokengateway_whitelistenabled"><a class="header" href="#mtokengateway_whitelistenabled">mTokenGateway_WhitelistEnabled</a></h3>
<pre><code class="language-solidity">event mTokenGateway_WhitelistEnabled();
</code></pre>
<h3 id="mtokengateway_whitelistdisabled"><a class="header" href="#mtokengateway_whitelistdisabled">mTokenGateway_WhitelistDisabled</a></h3>
<pre><code class="language-solidity">event mTokenGateway_WhitelistDisabled();
</code></pre>
<h2 id="errors-8"><a class="header" href="#errors-8">Errors</a></h2>
<h3 id="mtokengateway_chainnotvalid"><a class="header" href="#mtokengateway_chainnotvalid">mTokenGateway_ChainNotValid</a></h3>
<p>Thrown when the chain id is not LINEA</p>
<pre><code class="language-solidity">error mTokenGateway_ChainNotValid();
</code></pre>
<h3 id="mtokengateway_addressnotvalid"><a class="header" href="#mtokengateway_addressnotvalid">mTokenGateway_AddressNotValid</a></h3>
<p>Thrown when the address is not valid</p>
<pre><code class="language-solidity">error mTokenGateway_AddressNotValid();
</code></pre>
<h3 id="mtokengateway_amountnotvalid"><a class="header" href="#mtokengateway_amountnotvalid">mTokenGateway_AmountNotValid</a></h3>
<p>Thrown when the amount specified is invalid (e.g., zero)</p>
<pre><code class="language-solidity">error mTokenGateway_AmountNotValid();
</code></pre>
<h3 id="mtokengateway_journalnotvalid"><a class="header" href="#mtokengateway_journalnotvalid">mTokenGateway_JournalNotValid</a></h3>
<p>Thrown when the journal data provided is invalid</p>
<pre><code class="language-solidity">error mTokenGateway_JournalNotValid();
</code></pre>
<h3 id="mtokengateway_amounttoobig"><a class="header" href="#mtokengateway_amounttoobig">mTokenGateway_AmountTooBig</a></h3>
<p>Thrown when there is insufficient cash to release the specified amount</p>
<pre><code class="language-solidity">error mTokenGateway_AmountTooBig();
</code></pre>
<h3 id="mtokengateway_releasecashnotavailable"><a class="header" href="#mtokengateway_releasecashnotavailable">mTokenGateway_ReleaseCashNotAvailable</a></h3>
<p>Thrown when there is insufficient cash to release the specified amount</p>
<pre><code class="language-solidity">error mTokenGateway_ReleaseCashNotAvailable();
</code></pre>
<h3 id="mtokengateway_nontransferable"><a class="header" href="#mtokengateway_nontransferable">mTokenGateway_NonTransferable</a></h3>
<p>Thrown when token is tranferred</p>
<pre><code class="language-solidity">error mTokenGateway_NonTransferable();
</code></pre>
<h3 id="mtokengateway_callernotallowed"><a class="header" href="#mtokengateway_callernotallowed">mTokenGateway_CallerNotAllowed</a></h3>
<p>Thrown when caller is not allowed</p>
<pre><code class="language-solidity">error mTokenGateway_CallerNotAllowed();
</code></pre>
<h3 id="mtokengateway_paused"><a class="header" href="#mtokengateway_paused">mTokenGateway_Paused</a></h3>
<p>Thrown when market is paused for operation type</p>
<pre><code class="language-solidity">error mTokenGateway_Paused(ImTokenOperationTypes.OperationType _type);
</code></pre>
<h3 id="mtokengateway_notrebalancer"><a class="header" href="#mtokengateway_notrebalancer">mTokenGateway_NotRebalancer</a></h3>
<p>Thrown when caller is not rebalancer</p>
<pre><code class="language-solidity">error mTokenGateway_NotRebalancer();
</code></pre>
<h3 id="mtokengateway_lengthnotvalid"><a class="header" href="#mtokengateway_lengthnotvalid">mTokenGateway_LengthNotValid</a></h3>
<p>Thrown when length is not valid</p>
<pre><code class="language-solidity">error mTokenGateway_LengthNotValid();
</code></pre>
<h3 id="mtokengateway_notenoughgasfee"><a class="header" href="#mtokengateway_notenoughgasfee">mTokenGateway_NotEnoughGasFee</a></h3>
<p>Thrown when not enough gas fee was received</p>
<pre><code class="language-solidity">error mTokenGateway_NotEnoughGasFee();
</code></pre>
<h3 id="mtokengateway_l1inclusionrequired"><a class="header" href="#mtokengateway_l1inclusionrequired">mTokenGateway_L1InclusionRequired</a></h3>
<p>Thrown when L1 inclusion is required</p>
<pre><code class="language-solidity">error mTokenGateway_L1InclusionRequired();
</code></pre>
<h3 id="mtokengateway_usernotwhitelisted"><a class="header" href="#mtokengateway_usernotwhitelisted">mTokenGateway_UserNotWhitelisted</a></h3>
<p>Thrown when user is not whitelisted</p>
<pre><code class="language-solidity">error mTokenGateway_UserNotWhitelisted();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src/libraries/Bytes32AddressLib.sol/library.Bytes32AddressLib.html">Bytes32AddressLib</a></li>
<li><a href="src/libraries/BytesLib.sol/library.BytesLib.html">BytesLib</a></li>
<li><a href="src/libraries/CREATE3.sol/library.CREATE3.html">CREATE3</a></li>
<li><a href="src/libraries/SafeApprove.sol/interface.IToken.html">IToken</a></li>
<li><a href="src/libraries/SafeApprove.sol/library.SafeApprove.html">SafeApprove</a></li>
<li><a href="src/libraries/mTokenProofDecoderLib.sol/library.mTokenProofDecoderLib.html">mTokenProofDecoderLib</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bytes32addresslib"><a class="header" href="#bytes32addresslib">Bytes32AddressLib</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/Bytes32AddressLib.sol">Git Source</a></p>
<p><strong>Author:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/Bytes32AddressLib.sol)</p>
<p>Library for converting between addresses and bytes32 values.</p>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="fromlast20bytes"><a class="header" href="#fromlast20bytes">fromLast20Bytes</a></h3>
<pre><code class="language-solidity">function fromLast20Bytes(bytes32 bytesValue) internal pure returns (address);
</code></pre>
<h3 id="filllast12bytes"><a class="header" href="#filllast12bytes">fillLast12Bytes</a></h3>
<pre><code class="language-solidity">function fillLast12Bytes(address addressValue) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="byteslib"><a class="header" href="#byteslib">BytesLib</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/BytesLib.sol">Git Source</a></p>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="concat"><a class="header" href="#concat">concat</a></h3>
<pre><code class="language-solidity">function concat(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bytes memory);
</code></pre>
<h3 id="concatstorage"><a class="header" href="#concatstorage">concatStorage</a></h3>
<pre><code class="language-solidity">function concatStorage(bytes storage _preBytes, bytes memory _postBytes) internal;
</code></pre>
<h3 id="slice"><a class="header" href="#slice">slice</a></h3>
<pre><code class="language-solidity">function slice(bytes memory _bytes, uint256 _start, uint256 _length) internal pure returns (bytes memory);
</code></pre>
<h3 id="toaddress"><a class="header" href="#toaddress">toAddress</a></h3>
<pre><code class="language-solidity">function toAddress(bytes memory _bytes, uint256 _start) internal pure returns (address);
</code></pre>
<h3 id="touint8"><a class="header" href="#touint8">toUint8</a></h3>
<pre><code class="language-solidity">function toUint8(bytes memory _bytes, uint256 _start) internal pure returns (uint8);
</code></pre>
<h3 id="touint16"><a class="header" href="#touint16">toUint16</a></h3>
<pre><code class="language-solidity">function toUint16(bytes memory _bytes, uint256 _start) internal pure returns (uint16);
</code></pre>
<h3 id="touint32"><a class="header" href="#touint32">toUint32</a></h3>
<pre><code class="language-solidity">function toUint32(bytes memory _bytes, uint256 _start) internal pure returns (uint32);
</code></pre>
<h3 id="touint64"><a class="header" href="#touint64">toUint64</a></h3>
<pre><code class="language-solidity">function toUint64(bytes memory _bytes, uint256 _start) internal pure returns (uint64);
</code></pre>
<h3 id="touint96"><a class="header" href="#touint96">toUint96</a></h3>
<pre><code class="language-solidity">function toUint96(bytes memory _bytes, uint256 _start) internal pure returns (uint96);
</code></pre>
<h3 id="touint128"><a class="header" href="#touint128">toUint128</a></h3>
<pre><code class="language-solidity">function toUint128(bytes memory _bytes, uint256 _start) internal pure returns (uint128);
</code></pre>
<h3 id="touint256"><a class="header" href="#touint256">toUint256</a></h3>
<pre><code class="language-solidity">function toUint256(bytes memory _bytes, uint256 _start) internal pure returns (uint256);
</code></pre>
<h3 id="tobytes32"><a class="header" href="#tobytes32">toBytes32</a></h3>
<pre><code class="language-solidity">function toBytes32(bytes memory _bytes, uint256 _start) internal pure returns (bytes32);
</code></pre>
<h3 id="equal"><a class="header" href="#equal">equal</a></h3>
<pre><code class="language-solidity">function equal(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bool);
</code></pre>
<h3 id="equal_nonaligned"><a class="header" href="#equal_nonaligned">equal_nonAligned</a></h3>
<pre><code class="language-solidity">function equal_nonAligned(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bool);
</code></pre>
<h3 id="equalstorage"><a class="header" href="#equalstorage">equalStorage</a></h3>
<pre><code class="language-solidity">function equalStorage(bytes storage _preBytes, bytes memory _postBytes) internal view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create3"><a class="header" href="#create3">CREATE3</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/CREATE3.sol">Git Source</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/CREATE3.sol), Modified from 0xSequence (https://github.com/0xSequence/create3/blob/master/contracts/Create3.sol)</p>
<p>Deploy to deterministic addresses without an initcode factor.</p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="proxy_bytecode"><a class="header" href="#proxy_bytecode">PROXY_BYTECODE</a></h3>
<pre><code class="language-solidity">bytes internal constant PROXY_BYTECODE = hex&quot;67363d3d37363d34f03d5260086018f3&quot;;
</code></pre>
<h3 id="proxy_bytecode_hash"><a class="header" href="#proxy_bytecode_hash">PROXY_BYTECODE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 internal constant PROXY_BYTECODE_HASH = keccak256(PROXY_BYTECODE);
</code></pre>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="deploy"><a class="header" href="#deploy">deploy</a></h3>
<pre><code class="language-solidity">function deploy(bytes32 salt, bytes memory creationCode, uint256 value) internal returns (address deployed);
</code></pre>
<h3 id="getdeployed"><a class="header" href="#getdeployed">getDeployed</a></h3>
<pre><code class="language-solidity">function getDeployed(bytes32 salt) internal view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoken"><a class="header" href="#itoken">IToken</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/SafeApprove.sol">Git Source</a></p>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeapprove"><a class="header" href="#safeapprove">SafeApprove</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/SafeApprove.sol">Git Source</a></p>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="safeapprove-1"><a class="header" href="#safeapprove-1">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(address token, address to, uint256 value) internal;
</code></pre>
<h2 id="errors-9"><a class="header" href="#errors-9">Errors</a></h2>
<h3 id="safeapprove_nocontract"><a class="header" href="#safeapprove_nocontract">SafeApprove_NoContract</a></h3>
<pre><code class="language-solidity">error SafeApprove_NoContract();
</code></pre>
<h3 id="safeapprove_failed"><a class="header" href="#safeapprove_failed">SafeApprove_Failed</a></h3>
<pre><code class="language-solidity">error SafeApprove_Failed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenproofdecoderlib"><a class="header" href="#mtokenproofdecoderlib">mTokenProofDecoderLib</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/libraries/mTokenProofDecoderLib.sol">Git Source</a></p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="entry_size"><a class="header" href="#entry_size">ENTRY_SIZE</a></h3>
<pre><code class="language-solidity">uint256 public constant ENTRY_SIZE = 113;
</code></pre>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="decodejournal"><a class="header" href="#decodejournal">decodeJournal</a></h3>
<pre><code class="language-solidity">function decodeJournal(bytes memory journalData)
    internal
    pure
    returns (
        address sender,
        address market,
        uint256 accAmountIn,
        uint256 accAmountOut,
        uint32 chainId,
        uint32 dstChainId,
        bool L1inclusion
    );
</code></pre>
<h3 id="encodejournal"><a class="header" href="#encodejournal">encodeJournal</a></h3>
<pre><code class="language-solidity">function encodeJournal(
    address sender,
    address market,
    uint256 accAmountIn,
    uint256 accAmountOut,
    uint32 chainId,
    uint32 dstChainId,
    bool L1inclusion
) internal pure returns (bytes memory);
</code></pre>
<h2 id="errors-10"><a class="header" href="#errors-10">Errors</a></h2>
<h3 id="mtokenproofdecoderlib_chainnotfound"><a class="header" href="#mtokenproofdecoderlib_chainnotfound">mTokenProofDecoderLib_ChainNotFound</a></h3>
<pre><code class="language-solidity">error mTokenProofDecoderLib_ChainNotFound();
</code></pre>
<h3 id="mtokenproofdecoderlib_invalidlength"><a class="header" href="#mtokenproofdecoderlib_invalidlength">mTokenProofDecoderLib_InvalidLength</a></h3>
<pre><code class="language-solidity">error mTokenProofDecoderLib_InvalidLength();
</code></pre>
<h3 id="mtokenproofdecoderlib_invalidinclusion"><a class="header" href="#mtokenproofdecoderlib_invalidinclusion">mTokenProofDecoderLib_InvalidInclusion</a></h3>
<pre><code class="language-solidity">error mTokenProofDecoderLib_InvalidInclusion();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src/mToken//src/mToken/extension">extension</a></li>
<li><a href="src/mToken//src/mToken/host">host</a></li>
<li><a href="src/mToken/BatchSubmitter.sol/contract.BatchSubmitter.html">BatchSubmitter</a></li>
<li><a href="src/mToken/mErc20.sol/abstract.mErc20.html">mErc20</a></li>
<li><a href="src/mToken/mErc20Immutable.sol/contract.mErc20Immutable.html">mErc20Immutable</a></li>
<li><a href="src/mToken/mErc20Upgradable.sol/abstract.mErc20Upgradable.html">mErc20Upgradable</a></li>
<li><a href="src/mToken/mToken.sol/abstract.mToken.html">mToken</a></li>
<li><a href="src/mToken/mTokenConfiguration.sol/abstract.mTokenConfiguration.html">mTokenConfiguration</a></li>
<li><a href="src/mToken/mTokenStorage.sol/abstract.mTokenStorage.html">mTokenStorage</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src/mToken/extension/mTokenGateway.sol/contract.mTokenGateway.html">mTokenGateway</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mtokengateway"><a class="header" href="#mtokengateway">mTokenGateway</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/extension/mTokenGateway.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
OwnableUpgradeable, <a href="src/mToken/extension/mTokenGateway.sol//src/interfaces/ImTokenGateway.sol/interface.ImTokenGateway.html">ImTokenGateway</a>, <a href="src/mToken/extension/mTokenGateway.sol//src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="rolesoperator-4"><a class="header" href="#rolesoperator-4">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="verifier"><a class="header" href="#verifier">verifier</a></h3>
<pre><code class="language-solidity">IZkVerifier public verifier;
</code></pre>
<h3 id="paused"><a class="header" href="#paused">paused</a></h3>
<pre><code class="language-solidity">mapping(OperationType =&gt; bool) public paused;
</code></pre>
<h3 id="underlying-2"><a class="header" href="#underlying-2">underlying</a></h3>
<p>Returns the address of the underlying token</p>
<pre><code class="language-solidity">address public underlying;
</code></pre>
<h3 id="accamountin-1"><a class="header" href="#accamountin-1">accAmountIn</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public accAmountIn;
</code></pre>
<h3 id="accamountout-1"><a class="header" href="#accamountout-1">accAmountOut</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public accAmountOut;
</code></pre>
<h3 id="allowedcallers"><a class="header" href="#allowedcallers">allowedCallers</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; bool)) public allowedCallers;
</code></pre>
<h3 id="userwhitelisted-3"><a class="header" href="#userwhitelisted-3">userWhitelisted</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public userWhitelisted;
</code></pre>
<h3 id="whitelistenabled-2"><a class="header" href="#whitelistenabled-2">whitelistEnabled</a></h3>
<pre><code class="language-solidity">bool public whitelistEnabled;
</code></pre>
<h3 id="linea_chain_id"><a class="header" href="#linea_chain_id">LINEA_CHAIN_ID</a></h3>
<pre><code class="language-solidity">uint32 private constant LINEA_CHAIN_ID = 59144;
</code></pre>
<h3 id="gasfee"><a class="header" href="#gasfee">gasFee</a></h3>
<p><em>gas fee for <code>supplyOnHost</code></em></p>
<pre><code class="language-solidity">uint256 public gasFee;
</code></pre>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p><strong>Note:</strong>
oz-upgrades-unsafe-allow: constructor</p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address payable _owner, address _underlying, address _roles, address zkVerifier_)
    external
    initializer;
</code></pre>
<h3 id="notpaused"><a class="header" href="#notpaused">notPaused</a></h3>
<pre><code class="language-solidity">modifier notPaused(OperationType _type);
</code></pre>
<h3 id="onlyalloweduser-1"><a class="header" href="#onlyalloweduser-1">onlyAllowedUser</a></h3>
<pre><code class="language-solidity">modifier onlyAllowedUser(address user);
</code></pre>
<h3 id="ispaused-3"><a class="header" href="#ispaused-3">isPaused</a></h3>
<p>returns pause state for operation</p>
<pre><code class="language-solidity">function isPaused(OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="iscallerallowed-2"><a class="header" href="#iscallerallowed-2">isCallerAllowed</a></h3>
<p>Returns if a caller is allowed for sender</p>
<pre><code class="language-solidity">function isCallerAllowed(address sender, address caller) external view returns (bool);
</code></pre>
<h3 id="getproofdata-2"><a class="header" href="#getproofdata-2">getProofData</a></h3>
<p>Returns the proof data journal</p>
<pre><code class="language-solidity">function getProofData(address user, uint32) external view returns (uint256, uint256);
</code></pre>
<h3 id="setwhitelisteduser-1"><a class="header" href="#setwhitelisteduser-1">setWhitelistedUser</a></h3>
<p>Sets user whitelist status</p>
<pre><code class="language-solidity">function setWhitelistedUser(address user, bool state) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The new staate</td></tr>
</tbody></table>
</div>
<h3 id="enablewhitelist-1"><a class="header" href="#enablewhitelist-1">enableWhitelist</a></h3>
<p>Enable user whitelist</p>
<pre><code class="language-solidity">function enableWhitelist() external onlyOwner;
</code></pre>
<h3 id="disablewhitelist-1"><a class="header" href="#disablewhitelist-1">disableWhitelist</a></h3>
<p>Disable user whitelist</p>
<pre><code class="language-solidity">function disableWhitelist() external onlyOwner;
</code></pre>
<h3 id="setpaused-3"><a class="header" href="#setpaused-3">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(OperationType _type, bool state) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="extractforrebalancing-3"><a class="header" href="#extractforrebalancing-3">extractForRebalancing</a></h3>
<p>Extract amount to be used for rebalancing operation</p>
<pre><code class="language-solidity">function extractForRebalancing(uint256 amount) external notPaused(OperationType.Rebalancing);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to rebalance</td></tr>
</tbody></table>
</div>
<h3 id="setunderlying"><a class="header" href="#setunderlying">setUnderlying</a></h3>
<pre><code class="language-solidity">function setUnderlying(address _addr) external onlyOwner;
</code></pre>
<h3 id="setgasfee"><a class="header" href="#setgasfee">setGasFee</a></h3>
<p>Sets the gas fee</p>
<pre><code class="language-solidity">function setGasFee(uint256 amount) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>the new gas fee</td></tr>
</tbody></table>
</div>
<h3 id="withdrawgasfees"><a class="header" href="#withdrawgasfees">withdrawGasFees</a></h3>
<p>Withdraw gas received so far</p>
<pre><code class="language-solidity">function withdrawGasFees(address payable receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address payable</code></td><td>the receiver address</td></tr>
</tbody></table>
</div>
<h3 id="updatezkverifier"><a class="header" href="#updatezkverifier">updateZkVerifier</a></h3>
<p>Updates IZkVerifier address</p>
<pre><code class="language-solidity">function updateZkVerifier(address _zkVerifier) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_zkVerifier</code></td><td><code>address</code></td><td>the verifier address</td></tr>
</tbody></table>
</div>
<h3 id="updateallowedcallerstatus-2"><a class="header" href="#updateallowedcallerstatus-2">updateAllowedCallerStatus</a></h3>
<p>Set caller status for <code>msg.sender</code></p>
<pre><code class="language-solidity">function updateAllowedCallerStatus(address caller, bool status) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>caller</code></td><td><code>address</code></td><td>The caller address</td></tr>
<tr><td><code>status</code></td><td><code>bool</code></td><td>The status to set for <code>caller</code></td></tr>
</tbody></table>
</div>
<h3 id="supplyonhost-1"><a class="header" href="#supplyonhost-1">supplyOnHost</a></h3>
<p>Supply underlying to the contract</p>
<pre><code class="language-solidity">function supplyOnHost(uint256 amount, address receiver, bytes4 lineaSelector)
    external
    payable
    override
    notPaused(OperationType.AmountIn)
    onlyAllowedUser(msg.sender);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The supplied amount</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The receiver address</td></tr>
<tr><td><code>lineaSelector</code></td><td><code>bytes4</code></td><td>The method selector to be called on Linea by our relayer. If empty, user has to submit it</td></tr>
</tbody></table>
</div>
<h3 id="outhere-1"><a class="header" href="#outhere-1">outHere</a></h3>
<p>Extract tokens</p>
<pre><code class="language-solidity">function outHere(bytes calldata journalData, bytes calldata seal, uint256[] calldata amounts, address receiver)
    external
    notPaused(OperationType.AmountOutHere);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The supplied journal</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The seal address</td></tr>
<tr><td><code>amounts</code></td><td><code>uint256[]</code></td><td>The amounts to withdraw for each journal</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The receiver address</td></tr>
</tbody></table>
</div>
<h3 id="_outhere"><a class="header" href="#_outhere">_outHere</a></h3>
<pre><code class="language-solidity">function _outHere(bytes memory journalData, uint256 amount, address receiver) internal;
</code></pre>
<h3 id="_verifyproof"><a class="header" href="#_verifyproof">_verifyProof</a></h3>
<pre><code class="language-solidity">function _verifyProof(bytes calldata journalData, bytes calldata seal) private view;
</code></pre>
<h3 id="_checksender"><a class="header" href="#_checksender">_checkSender</a></h3>
<pre><code class="language-solidity">function _checkSender(address msgSender, address srcSender) private view;
</code></pre>
<h3 id="_getsequencerrole"><a class="header" href="#_getsequencerrole">_getSequencerRole</a></h3>
<pre><code class="language-solidity">function _getSequencerRole() private view returns (bytes32);
</code></pre>
<h3 id="_getbatchproofforwarderrole"><a class="header" href="#_getbatchproofforwarderrole">_getBatchProofForwarderRole</a></h3>
<pre><code class="language-solidity">function _getBatchProofForwarderRole() private view returns (bytes32);
</code></pre>
<h3 id="_getproofforwarderrole"><a class="header" href="#_getproofforwarderrole">_getProofForwarderRole</a></h3>
<pre><code class="language-solidity">function _getProofForwarderRole() private view returns (bytes32);
</code></pre>
<h3 id="_isallowedfor"><a class="header" href="#_isallowedfor">_isAllowedFor</a></h3>
<pre><code class="language-solidity">function _isAllowedFor(address _sender, bytes32 role) private view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-14"><a class="header" href="#contents-14">Contents</a></h1>
<ul>
<li><a href="src/mToken/host/mErc20Host.sol/contract.mErc20Host.html">mErc20Host</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20host"><a class="header" href="#merc20host">mErc20Host</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/host/mErc20Host.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/host/mErc20Host.sol//src/mToken/mErc20Upgradable.sol/abstract.mErc20Upgradable.html">mErc20Upgradable</a>, <a href="src/mToken/host/mErc20Host.sol//src/interfaces/ImErc20Host.sol/interface.ImErc20Host.html">ImErc20Host</a>, <a href="src/mToken/host/mErc20Host.sol//src/interfaces/ImToken.sol/interface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="flash_mint_callback_success"><a class="header" href="#flash_mint_callback_success">FLASH_MINT_CALLBACK_SUCCESS</a></h3>
<pre><code class="language-solidity">bytes4 private constant FLASH_MINT_CALLBACK_SUCCESS = bytes4(keccak256(&quot;onFlashMint(address,uint256,bytes)&quot;));
</code></pre>
<h3 id="migrator"><a class="header" href="#migrator">migrator</a></h3>
<pre><code class="language-solidity">address public migrator;
</code></pre>
<h3 id="accamountinperchain"><a class="header" href="#accamountinperchain">accAmountInPerChain</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; uint256)) public accAmountInPerChain;
</code></pre>
<h3 id="accamountoutperchain"><a class="header" href="#accamountoutperchain">accAmountOutPerChain</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; uint256)) public accAmountOutPerChain;
</code></pre>
<h3 id="allowedcallers-1"><a class="header" href="#allowedcallers-1">allowedCallers</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; bool)) public allowedCallers;
</code></pre>
<h3 id="allowedchains"><a class="header" href="#allowedchains">allowedChains</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; bool) public allowedChains;
</code></pre>
<h3 id="gasfees"><a class="header" href="#gasfees">gasFees</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; uint256) public gasFees;
</code></pre>
<h3 id="verifier-1"><a class="header" href="#verifier-1">verifier</a></h3>
<pre><code class="language-solidity">IZkVerifier public verifier;
</code></pre>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="onlymigrator"><a class="header" href="#onlymigrator">onlyMigrator</a></h3>
<pre><code class="language-solidity">modifier onlyMigrator();
</code></pre>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<p>Initializes the new money market</p>
<pre><code class="language-solidity">function initialize(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_,
    address zkVerifier_,
    address roles_
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td>Address of the administrator of this token</td></tr>
<tr><td><code>zkVerifier_</code></td><td><code>address</code></td><td>The IZkVerifier address</td></tr>
<tr><td><code>roles_</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="iscallerallowed-3"><a class="header" href="#iscallerallowed-3">isCallerAllowed</a></h3>
<p>Returns if a caller is allowed for sender</p>
<pre><code class="language-solidity">function isCallerAllowed(address sender, address caller) external view returns (bool);
</code></pre>
<h3 id="getproofdata-3"><a class="header" href="#getproofdata-3">getProofData</a></h3>
<p>Returns the proof data journal</p>
<pre><code class="language-solidity">function getProofData(address user, uint32 dstId) external view returns (uint256, uint256);
</code></pre>
<h3 id="updateallowedchain"><a class="header" href="#updateallowedchain">updateAllowedChain</a></h3>
<p>Updates an allowed chain status</p>
<pre><code class="language-solidity">function updateAllowedChain(uint32 _chainId, bool _status) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_chainId</code></td><td><code>uint32</code></td><td>the chain id</td></tr>
<tr><td><code>_status</code></td><td><code>bool</code></td><td>the new status</td></tr>
</tbody></table>
</div>
<h3 id="extractforrebalancing-4"><a class="header" href="#extractforrebalancing-4">extractForRebalancing</a></h3>
<p>Extract amount to be used for rebalancing operation</p>
<pre><code class="language-solidity">function extractForRebalancing(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to rebalance</td></tr>
</tbody></table>
</div>
<h3 id="setmigrator"><a class="header" href="#setmigrator">setMigrator</a></h3>
<p>Sets the migrator address</p>
<pre><code class="language-solidity">function setMigrator(address _migrator) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_migrator</code></td><td><code>address</code></td><td>The new migrator address</td></tr>
</tbody></table>
</div>
<h3 id="setgasfee-1"><a class="header" href="#setgasfee-1">setGasFee</a></h3>
<p>Sets the gas fee</p>
<pre><code class="language-solidity">function setGasFee(uint32 dstChainId, uint256 amount) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>the destination chain id</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>the gas fee amount</td></tr>
</tbody></table>
</div>
<h3 id="withdrawgasfees-1"><a class="header" href="#withdrawgasfees-1">withdrawGasFees</a></h3>
<p>Withdraw gas received so far</p>
<pre><code class="language-solidity">function withdrawGasFees(address payable receiver) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>receiver</code></td><td><code>address payable</code></td><td>the receiver address</td></tr>
</tbody></table>
</div>
<h3 id="updatezkverifier-1"><a class="header" href="#updatezkverifier-1">updateZkVerifier</a></h3>
<p>Updates IZkVerifier address</p>
<pre><code class="language-solidity">function updateZkVerifier(address _zkVerifier) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_zkVerifier</code></td><td><code>address</code></td><td>the verifier address</td></tr>
</tbody></table>
</div>
<h3 id="updateallowedcallerstatus-3"><a class="header" href="#updateallowedcallerstatus-3">updateAllowedCallerStatus</a></h3>
<p>Set caller status for <code>msg.sender</code></p>
<pre><code class="language-solidity">function updateAllowedCallerStatus(address caller, bool status) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>caller</code></td><td><code>address</code></td><td>The caller address</td></tr>
<tr><td><code>status</code></td><td><code>bool</code></td><td>The status to set for <code>caller</code></td></tr>
</tbody></table>
</div>
<h3 id="liquidateexternal-1"><a class="header" href="#liquidateexternal-1">liquidateExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function liquidateExternal(
    bytes calldata journalData,
    bytes calldata seal,
    address[] calldata userToLiquidate,
    uint256[] calldata liquidateAmount,
    address[] calldata collateral,
    address receiver
) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>userToLiquidate</code></td><td><code>address[]</code></td><td>Array of positions to liquidate</td></tr>
<tr><td><code>liquidateAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to liquidate</td></tr>
<tr><td><code>collateral</code></td><td><code>address[]</code></td><td>Array of collaterals to seize</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The collateral receiver</td></tr>
</tbody></table>
</div>
<h3 id="mintexternal-1"><a class="header" href="#mintexternal-1">mintExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function mintExternal(
    bytes calldata journalData,
    bytes calldata seal,
    uint256[] calldata mintAmount,
    uint256[] calldata minAmountsOut,
    address receiver
) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to mint</td></tr>
<tr><td><code>minAmountsOut</code></td><td><code>uint256[]</code></td><td>Array of min amounts accepted</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The tokens receiver</td></tr>
</tbody></table>
</div>
<h3 id="repayexternal-1"><a class="header" href="#repayexternal-1">repayExternal</a></h3>
<p>Repays tokens after external verification</p>
<pre><code class="language-solidity">function repayExternal(
    bytes calldata journalData,
    bytes calldata seal,
    uint256[] calldata repayAmount,
    address receiver
) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for repayment (array of encoded journals)</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256[]</code></td><td>Array of amounts to repay</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The position to repay for</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonextension-1"><a class="header" href="#withdrawonextension-1">withdrawOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<p><em>amount represents the number of mTokens to redeem</em></p>
<pre><code class="language-solidity">function withdrawOnExtension(uint256 amount, uint32 dstChainId) external payable override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>The destination chain to recieve funds</td></tr>
</tbody></table>
</div>
<h3 id="borrowonextension-1"><a class="header" href="#borrowonextension-1">borrowOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<pre><code class="language-solidity">function borrowOnExtension(uint256 amount, uint32 dstChainId) external payable override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>The destination chain to recieve funds</td></tr>
</tbody></table>
</div>
<h3 id="mintmigration-1"><a class="header" href="#mintmigration-1">mintMigration</a></h3>
<p>Mints mTokens during migration without requiring underlying transfer</p>
<pre><code class="language-solidity">function mintMigration(uint256 amount, uint256 minAmount, address receiver) external onlyMigrator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of underlying to be accounted for</td></tr>
<tr><td><code>minAmount</code></td><td><code>uint256</code></td><td>The min amount of underlying to be accounted for</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address that will receive the mTokens</td></tr>
</tbody></table>
</div>
<h3 id="borrowmigration-1"><a class="header" href="#borrowmigration-1">borrowMigration</a></h3>
<p>Borrows from market for a specific borrower and not <code>msg.sender</code></p>
<pre><code class="language-solidity">function borrowMigration(uint256 amount, address borrower, address receiver) external onlyMigrator;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of underlying to be accounted for</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address that borrow is executed for</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_computetotaloutflowamount"><a class="header" href="#_computetotaloutflowamount">_computeTotalOutflowAmount</a></h3>
<pre><code class="language-solidity">function _computeTotalOutflowAmount(uint256[] calldata amounts) private pure returns (uint256);
</code></pre>
<h3 id="_checkoutflow"><a class="header" href="#_checkoutflow">_checkOutflow</a></h3>
<pre><code class="language-solidity">function _checkOutflow(uint256 amount) private;
</code></pre>
<h3 id="_isallowedfor-1"><a class="header" href="#_isallowedfor-1">_isAllowedFor</a></h3>
<pre><code class="language-solidity">function _isAllowedFor(address _sender, bytes32 role) private view returns (bool);
</code></pre>
<h3 id="_getproofforwarderrole-1"><a class="header" href="#_getproofforwarderrole-1">_getProofForwarderRole</a></h3>
<pre><code class="language-solidity">function _getProofForwarderRole() private view returns (bytes32);
</code></pre>
<h3 id="_getbatchproofforwarderrole-1"><a class="header" href="#_getbatchproofforwarderrole-1">_getBatchProofForwarderRole</a></h3>
<pre><code class="language-solidity">function _getBatchProofForwarderRole() private view returns (bytes32);
</code></pre>
<h3 id="_getsequencerrole-1"><a class="header" href="#_getsequencerrole-1">_getSequencerRole</a></h3>
<pre><code class="language-solidity">function _getSequencerRole() private view returns (bytes32);
</code></pre>
<h3 id="_verifyproof-1"><a class="header" href="#_verifyproof-1">_verifyProof</a></h3>
<pre><code class="language-solidity">function _verifyProof(bytes calldata journalData, bytes calldata seal) private view;
</code></pre>
<h3 id="_checksender-1"><a class="header" href="#_checksender-1">_checkSender</a></h3>
<pre><code class="language-solidity">function _checkSender(address msgSender, address srcSender) private view;
</code></pre>
<h3 id="_liquidateexternal"><a class="header" href="#_liquidateexternal">_liquidateExternal</a></h3>
<pre><code class="language-solidity">function _liquidateExternal(
    bytes memory singleJournal,
    address userToLiquidate,
    uint256 liquidateAmount,
    address collateral,
    address receiver
) internal;
</code></pre>
<h3 id="_mintexternal"><a class="header" href="#_mintexternal">_mintExternal</a></h3>
<pre><code class="language-solidity">function _mintExternal(bytes memory singleJournal, uint256 mintAmount, uint256 minAmountOut, address receiver)
    internal;
</code></pre>
<h3 id="_repayexternal"><a class="header" href="#_repayexternal">_repayExternal</a></h3>
<pre><code class="language-solidity">function _repayExternal(bytes memory singleJournal, uint256 repayAmount, address receiver) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="batchsubmitter"><a class="header" href="#batchsubmitter">BatchSubmitter</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/BatchSubmitter.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable</p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="rolesoperator-5"><a class="header" href="#rolesoperator-5">rolesOperator</a></h3>
<p>The roles contract for access control</p>
<pre><code class="language-solidity">IRoles public immutable rolesOperator;
</code></pre>
<h3 id="verifier-2"><a class="header" href="#verifier-2">verifier</a></h3>
<pre><code class="language-solidity">IZkVerifier public verifier;
</code></pre>
<h3 id="mint_selector"><a class="header" href="#mint_selector">MINT_SELECTOR</a></h3>
<pre><code class="language-solidity">bytes4 internal constant MINT_SELECTOR = ImErc20Host.mintExternal.selector;
</code></pre>
<h3 id="repay_selector"><a class="header" href="#repay_selector">REPAY_SELECTOR</a></h3>
<pre><code class="language-solidity">bytes4 internal constant REPAY_SELECTOR = ImErc20Host.repayExternal.selector;
</code></pre>
<h3 id="out_here_selector"><a class="header" href="#out_here_selector">OUT_HERE_SELECTOR</a></h3>
<pre><code class="language-solidity">bytes4 internal constant OUT_HERE_SELECTOR = ImTokenGateway.outHere.selector;
</code></pre>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _zkVerifier, address _owner) Ownable(_owner);
</code></pre>
<h3 id="updatezkverifier-2"><a class="header" href="#updatezkverifier-2">updateZkVerifier</a></h3>
<p>Updates IZkVerifier address</p>
<pre><code class="language-solidity">function updateZkVerifier(address _zkVerifier) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_zkVerifier</code></td><td><code>address</code></td><td>the verifier address</td></tr>
</tbody></table>
</div>
<h3 id="batchprocess"><a class="header" href="#batchprocess">batchProcess</a></h3>
<p>Execute multiple operations in a single transaction</p>
<pre><code class="language-solidity">function batchProcess(BatchProcessMsg calldata data) external;
</code></pre>
<h3 id="_verifyproof-2"><a class="header" href="#_verifyproof-2">_verifyProof</a></h3>
<p>Verifies the proof using ZkVerifier</p>
<pre><code class="language-solidity">function _verifyProof(bytes calldata journalData, bytes calldata seal) private view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data to verify</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The seal data for verification</td></tr>
</tbody></table>
</div>
<h2 id="events-13"><a class="header" href="#events-13">Events</a></h2>
<h3 id="batchprocessfailed"><a class="header" href="#batchprocessfailed">BatchProcessFailed</a></h3>
<pre><code class="language-solidity">event BatchProcessFailed(
    bytes32 initHash,
    address receiver,
    address mToken,
    uint256 amount,
    uint256 minAmountOut,
    bytes4 selector,
    bytes reason
);
</code></pre>
<h3 id="batchprocesssuccess"><a class="header" href="#batchprocesssuccess">BatchProcessSuccess</a></h3>
<pre><code class="language-solidity">event BatchProcessSuccess(
    bytes32 initHash, address receiver, address mToken, uint256 amount, uint256 minAmountOut, bytes4 selector
);
</code></pre>
<h3 id="zkverifierupdated-1"><a class="header" href="#zkverifierupdated-1">ZkVerifierUpdated</a></h3>
<pre><code class="language-solidity">event ZkVerifierUpdated(address indexed oldVerifier, address indexed newVerifier);
</code></pre>
<h2 id="errors-11"><a class="header" href="#errors-11">Errors</a></h2>
<h3 id="batchsubmitter_callernotallowed"><a class="header" href="#batchsubmitter_callernotallowed">BatchSubmitter_CallerNotAllowed</a></h3>
<pre><code class="language-solidity">error BatchSubmitter_CallerNotAllowed();
</code></pre>
<h3 id="batchsubmitter_journalnotvalid"><a class="header" href="#batchsubmitter_journalnotvalid">BatchSubmitter_JournalNotValid</a></h3>
<pre><code class="language-solidity">error BatchSubmitter_JournalNotValid();
</code></pre>
<h3 id="batchsubmitter_invalidselector"><a class="header" href="#batchsubmitter_invalidselector">BatchSubmitter_InvalidSelector</a></h3>
<pre><code class="language-solidity">error BatchSubmitter_InvalidSelector();
</code></pre>
<h3 id="batchsubmitter_addressnotvalid"><a class="header" href="#batchsubmitter_addressnotvalid">BatchSubmitter_AddressNotValid</a></h3>
<pre><code class="language-solidity">error BatchSubmitter_AddressNotValid();
</code></pre>
<h2 id="structs-9"><a class="header" href="#structs-9">Structs</a></h2>
<h3 id="batchprocessmsg"><a class="header" href="#batchprocessmsg">BatchProcessMsg</a></h3>
<p>receiver Funds receiver/performed on
journalData The encoded journal data
seal The seal data for verification
mTokens Array of mToken addresses
amounts Array of amounts for each operation
selectors Array of function selectors for each operation
startIndex Start index for processing journals
endIndex End index for processing journals (exclusive)</p>
<pre><code class="language-solidity">struct BatchProcessMsg {
    address[] receivers;
    bytes journalData;
    bytes seal;
    address[] mTokens;
    uint256[] amounts;
    uint256[] minAmountsOut;
    bytes4[] selectors;
    bytes32[] initHashes;
    uint256 startIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20"><a class="header" href="#merc20">mErc20</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mErc20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mErc20.sol//src/mToken/mToken.sol/abstract.mToken.html">mToken</a>, <a href="src/mToken/mErc20.sol//src/interfaces/ImErc20.sol/interface.ImErc20.html">ImErc20</a></p>
<p>mTokens which wrap an EIP-20 underlying</p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="underlying-3"><a class="header" href="#underlying-3">underlying</a></h3>
<p>Underlying asset for this mToken</p>
<pre><code class="language-solidity">address public underlying;
</code></pre>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="_initializemerc20"><a class="header" href="#_initializemerc20">_initializeMErc20</a></h3>
<p>Initialize the new money market</p>
<pre><code class="language-solidity">function _initializeMErc20(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
</tbody></table>
</div>
<h3 id="checksamechainallowed"><a class="header" href="#checksamechainallowed">checkSameChainAllowed</a></h3>
<pre><code class="language-solidity">modifier checkSameChainAllowed();
</code></pre>
<h3 id="delegatemaldaliketo"><a class="header" href="#delegatemaldaliketo">delegateMaldaLikeTo</a></h3>
<p>Admin call to delegate the votes of the MALDA-like underlying</p>
<p><em>mTokens whose underlying are not  should revert here</em></p>
<pre><code class="language-solidity">function delegateMaldaLikeTo(address delegatee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>delegatee</code></td><td><code>address</code></td><td>The address to delegate votes to</td></tr>
</tbody></table>
</div>
<h3 id="sweeptoken"><a class="header" href="#sweeptoken">sweepToken</a></h3>
<p>A public function to sweep accidental ERC-20 transfers to this contract. Tokens are sent to admin (timelock)</p>
<pre><code class="language-solidity">function sweepToken(IERC20 token) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The address of the ERC-20 token to sweep</td></tr>
</tbody></table>
</div>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function mint(uint256 mintAmount, address receiver, uint256 minAmountOut) external checkSameChainAllowed;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The mTokens receiver</td></tr>
<tr><td><code>minAmountOut</code></td><td><code>uint256</code></td><td>The min amounts to be received</td></tr>
</tbody></table>
</div>
<h3 id="redeem-1"><a class="header" href="#redeem-1">redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeem(uint256 redeemTokens) external checkSameChainAllowed;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeemunderlying-1"><a class="header" href="#redeemunderlying-1">redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeemUnderlying(uint256 redeemAmount) external checkSameChainAllowed;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to redeem</td></tr>
</tbody></table>
</div>
<h3 id="borrow-1"><a class="header" href="#borrow-1">borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function borrow(uint256 borrowAmount) external checkSameChainAllowed;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
</tbody></table>
</div>
<h3 id="repay-1"><a class="header" href="#repay-1">repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function repay(uint256 repayAmount) external checkSameChainAllowed returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or type(uint256).max for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="repaybehalf-1"><a class="header" href="#repaybehalf-1">repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function repayBehalf(address borrower, uint256 repayAmount) external checkSameChainAllowed returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or type(uint256).max for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="liquidate-1"><a class="header" href="#liquidate-1">liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function liquidate(address borrower, uint256 repayAmount, address mTokenCollateral) external checkSameChainAllowed;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
</tbody></table>
</div>
<h3 id="addreserves-1"><a class="header" href="#addreserves-1">addReserves</a></h3>
<p>The sender adds to reserves.</p>
<pre><code class="language-solidity">function addReserves(uint256 addAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>The amount fo underlying token to add as reserves</td></tr>
</tbody></table>
</div>
<h3 id="_getcashprior"><a class="header" href="#_getcashprior">_getCashPrior</a></h3>
<p>Gets balance of this contract in terms of the underlying</p>
<p><em>This excludes the value of the current message, if any</em></p>
<pre><code class="language-solidity">function _getCashPrior() internal view virtual override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The quantity of underlying tokens owned by this contract</td></tr>
</tbody></table>
</div>
<h3 id="_dotransferin"><a class="header" href="#_dotransferin">_doTransferIn</a></h3>
<p><em>Performs a transfer in, reverting upon failure. Returns the amount actually transferred to the protocol, in case of a fee.
This may revert due to insufficient balance or insufficient allowance.</em></p>
<pre><code class="language-solidity">function _doTransferIn(address from, uint256 amount) internal virtual override returns (uint256);
</code></pre>
<h3 id="_dotransferout"><a class="header" href="#_dotransferout">_doTransferOut</a></h3>
<p><em>Performs a transfer out, ideally returning an explanatory error code upon failure rather than reverting.
If caller has not called checked protocol's balance, may revert due to insufficient cash held in the contract.
If caller has checked protocol's balance, and verified it is &gt;= amount, this should not revert in normal conditions.</em></p>
<pre><code class="language-solidity">function _doTransferOut(address payable to, uint256 amount) internal virtual override;
</code></pre>
<h2 id="errors-12"><a class="header" href="#errors-12">Errors</a></h2>
<h3 id="merc20_tokennotvalid"><a class="header" href="#merc20_tokennotvalid">mErc20_TokenNotValid</a></h3>
<pre><code class="language-solidity">error mErc20_TokenNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20immutable"><a class="header" href="#merc20immutable">mErc20Immutable</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mErc20Immutable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mErc20Immutable.sol//src/mToken/mErc20.sol/abstract.mErc20.html">mErc20</a></p>
<h2 id="functions-47"><a class="header" href="#functions-47">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<p>Constructs the new money market</p>
<pre><code class="language-solidity">constructor(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td>Address of the administrator of this token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="merc20upgradable"><a class="header" href="#merc20upgradable">mErc20Upgradable</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mErc20Upgradable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mErc20Upgradable.sol//src/mToken/mErc20.sol/abstract.mErc20.html">mErc20</a>, Initializable</p>
<h2 id="functions-48"><a class="header" href="#functions-48">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<p><strong>Note:</strong>
oz-upgrades-unsafe-allow: constructor</p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="_proxyinitialize"><a class="header" href="#_proxyinitialize">_proxyInitialize</a></h3>
<p>Initialize the new money market</p>
<pre><code class="language-solidity">function _proxyInitialize(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mtoken"><a class="header" href="#mtoken">mToken</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mToken.sol//src/mToken/mTokenConfiguration.sol/abstract.mTokenConfiguration.html">mTokenConfiguration</a>, ReentrancyGuard</p>
<h2 id="functions-49"><a class="header" href="#functions-49">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="_initializemtoken"><a class="header" href="#_initializemtoken">_initializeMToken</a></h3>
<p>Initialize the money market</p>
<pre><code class="language-solidity">function _initializeMToken(
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>EIP-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>EIP-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>EIP-20 decimal precision of this token</td></tr>
</tbody></table>
</div>
<h3 id="ismtoken-1"><a class="header" href="#ismtoken-1">isMToken</a></h3>
<pre><code class="language-solidity">function isMToken() external pure override returns (bool);
</code></pre>
<h3 id="allowance-1"><a class="header" href="#allowance-1">allowance</a></h3>
<p>Returns the current allowance the <code>spender</code> has from the <code>owner</code></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the token holder</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend the tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current remaining number of tokens <code>spender</code> can spend</td></tr>
</tbody></table>
</div>
<h3 id="balanceof-2"><a class="header" href="#balanceof-2">balanceOf</a></h3>
<p>Returns the value of tokens owned by <code>account</code>.</p>
<pre><code class="language-solidity">function balanceOf(address owner) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="balanceofunderlying-1"><a class="header" href="#balanceofunderlying-1">balanceOfUnderlying</a></h3>
<p>Returns the underlying asset balance of the <code>owner</code></p>
<pre><code class="language-solidity">function balanceOfUnderlying(address owner) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance of underlying assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of underlying assets owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountsnapshot-1"><a class="header" href="#getaccountsnapshot-1">getAccountSnapshot</a></h3>
<p>Returns the snapshot of account details for the given <code>account</code></p>
<pre><code class="language-solidity">function getAccountSnapshot(address account) external view override returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the account snapshot for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(token balance, borrow balance, exchange rate)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="borrowrateperblock-1"><a class="header" href="#borrowrateperblock-1">borrowRatePerBlock</a></h3>
<p>Returns the current borrow rate per block</p>
<pre><code class="language-solidity">function borrowRatePerBlock() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supplyrateperblock-1"><a class="header" href="#supplyrateperblock-1">supplyRatePerBlock</a></h3>
<p>Returns the current supply rate per block</p>
<pre><code class="language-solidity">function supplyRatePerBlock() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancestored-1"><a class="header" href="#borrowbalancestored-1">borrowBalanceStored</a></h3>
<p>Returns the stored borrow balance for <code>account</code>, without accruing interest</p>
<pre><code class="language-solidity">function borrowBalanceStored(address account) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the stored borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="getcash-1"><a class="header" href="#getcash-1">getCash</a></h3>
<p>Returns the total amount of available cash in the contract</p>
<pre><code class="language-solidity">function getCash() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of cash</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratestored-1"><a class="header" href="#exchangeratestored-1">exchangeRateStored</a></h3>
<p>Returns the stored exchange rate, without accruing interest</p>
<pre><code class="language-solidity">function exchangeRateStored() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="transfer-1"><a class="header" href="#transfer-1">transfer</a></h3>
<p>Transfers <code>amount</code> tokens to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transfer(address dst, uint256 amount) external override nonReentrant returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the recipient</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<p>Transfers <code>amount</code> tokens from the <code>src</code> address to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transferFrom(address src, address dst, uint256 amount) external override nonReentrant returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address from which tokens are transferred</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address to which tokens are transferred</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="approve-2"><a class="header" href="#approve-2">approve</a></h3>
<p>Approves <code>spender</code> to spend <code>amount</code> tokens on behalf of the caller</p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to approve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the approval was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="totalborrowscurrent-1"><a class="header" href="#totalborrowscurrent-1">totalBorrowsCurrent</a></h3>
<p>Returns the total amount of borrows, accounting for interest</p>
<pre><code class="language-solidity">function totalBorrowsCurrent() external override nonReentrant returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of borrows</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancecurrent-1"><a class="header" href="#borrowbalancecurrent-1">borrowBalanceCurrent</a></h3>
<p>Returns the current borrow balance for <code>account</code>, accounting for interest</p>
<pre><code class="language-solidity">function borrowBalanceCurrent(address account) external override nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratecurrent-1"><a class="header" href="#exchangeratecurrent-1">exchangeRateCurrent</a></h3>
<p>Returns the current exchange rate, with interest accrued</p>
<pre><code class="language-solidity">function exchangeRateCurrent() public override nonReentrant returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="seize-1"><a class="header" href="#seize-1">seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Will fail unless called by another mToken during the process of liquidation.
Its absolutely critical to use msg.sender as the borrowed mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function seize(address liquidator, address borrower, uint256 seizeTokens) external override nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="reducereserves-1"><a class="header" href="#reducereserves-1">reduceReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring to admin</p>
<pre><code class="language-solidity">function reduceReserves(uint256 reduceAmount) external override nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reduceAmount</code></td><td><code>uint256</code></td><td>Amount of reduction to reserves</td></tr>
</tbody></table>
</div>
<h3 id="_borrowbalancestored"><a class="header" href="#_borrowbalancestored">_borrowBalanceStored</a></h3>
<p>Return the borrow balance of account based on stored data</p>
<pre><code class="language-solidity">function _borrowBalanceStored(address account) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address whose balance should be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(error code, the calculated balance or 0 if error code is non-zero)</td></tr>
</tbody></table>
</div>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _mint(address user, address receiver, uint256 mintAmount, uint256 minAmountOut, bool doTransfer)
    internal
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>minAmountOut</code></td><td><code>uint256</code></td><td>The minimum amount to be received</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_redeem"><a class="header" href="#_redeem">_redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _redeem(address user, uint256 redeemTokens, bool doTransfer)
    internal
    nonReentrant
    returns (uint256 underlyingAmount);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_redeemunderlying"><a class="header" href="#_redeemunderlying">_redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _redeemUnderlying(address user, uint256 redeemAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to receive from redeeming mTokens</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_borrow"><a class="header" href="#_borrow">_borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function _borrow(address user, uint256 borrowAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_borrowwithreceiver"><a class="header" href="#_borrowwithreceiver">_borrowWithReceiver</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function _borrowWithReceiver(address user, address receiver, uint256 borrowAmount) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The underlying receiver address</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
</tbody></table>
</div>
<h3 id="_repay"><a class="header" href="#_repay">_repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function _repay(uint256 repayAmount, bool doTransfer) internal nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or <code>type(uint256).max</code> for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_repaybehalf"><a class="header" href="#_repaybehalf">_repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function _repayBehalf(address borrower, uint256 repayAmount, bool doTransfer) internal nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or <code>type(uint256).max</code> for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_liquidate"><a class="header" href="#_liquidate">_liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function _liquidate(
    address liquidator,
    address borrower,
    uint256 repayAmount,
    address mTokenCollateral,
    bool doTransfer
) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The liquidator address</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_seize"><a class="header" href="#_seize">_seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Called only during an in-kind liquidation, or by liquidateBorrow during the liquidation of another mToken.
Its absolutely critical to use msg.sender as the seizer mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function _seize(address seizerToken, address liquidator, address borrower, uint256 seizeTokens) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>seizerToken</code></td><td><code>address</code></td><td>The contract seizing the collateral (i.e. borrowed mToken)</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="_addreserves"><a class="header" href="#_addreserves">_addReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring from msg.sender</p>
<pre><code class="language-solidity">function _addReserves(uint256 addAmount) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>Amount of addition to reserves</td></tr>
</tbody></table>
</div>
<h3 id="__liquidate"><a class="header" href="#__liquidate">__liquidate</a></h3>
<p>The liquidator liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function __liquidate(
    address liquidator,
    address borrower,
    uint256 repayAmount,
    address mTokenCollateral,
    bool doTransfer
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="__repay"><a class="header" href="#__repay">__repay</a></h3>
<p>Borrows are repaid by another user (possibly the borrower).</p>
<pre><code class="language-solidity">function __repay(address payer, address borrower, uint256 repayAmount, bool doTransfer) private returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>payer</code></td><td><code>address</code></td><td>the account paying off the borrow</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>the amount of underlying tokens being returned, or <code>type(uint256).max</code> for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="__borrow"><a class="header" href="#__borrow">__borrow</a></h3>
<p>Users borrow assets from the protocol to their own address</p>
<pre><code class="language-solidity">function __borrow(address payable borrower, address payable receiver, uint256 borrowAmount, bool doTransfer) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address payable</code></td><td></td></tr>
<tr><td><code>receiver</code></td><td><code>address payable</code></td><td></td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="__redeem"><a class="header" href="#__redeem">__redeem</a></h3>
<pre><code class="language-solidity">function __redeem(address payable redeemer, uint256 redeemTokensIn, uint256 redeemAmountIn, bool doTransfer)
    private
    returns (uint256 redeemAmount);
</code></pre>
<h3 id="__mint"><a class="header" href="#__mint">__mint</a></h3>
<p>User supplies assets into the market and receives mTokens in exchange</p>
<p><em>Assumes interest has already been accrued up to the current block</em></p>
<pre><code class="language-solidity">function __mint(address minter, address receiver, uint256 mintAmount, uint256 minAmountOut, bool doTransfer) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The address of the account which is supplying the assets</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The address of the account which is receiving the assets</td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>minAmountOut</code></td><td><code>uint256</code></td><td>The min amount to be received</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_transfertokens"><a class="header" href="#_transfertokens">_transferTokens</a></h3>
<p>Transfer <code>tokens</code> tokens from <code>src</code> to <code>dst</code> by <code>spender</code></p>
<p><em>Called by both <code>transfer</code> and <code>transferFrom</code> internally</em></p>
<pre><code class="language-solidity">function _transferTokens(address spender, address src, address dst, uint256 tokens) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address of the account performing the transfer</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address of the source account</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the destination account</td></tr>
<tr><td><code>tokens</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenconfiguration"><a class="header" href="#mtokenconfiguration">mTokenConfiguration</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mTokenConfiguration.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mTokenConfiguration.sol//src/mToken/mTokenStorage.sol/abstract.mTokenStorage.html">mTokenStorage</a></p>
<h2 id="functions-50"><a class="header" href="#functions-50">Functions</a></h2>
<h3 id="onlyadmin"><a class="header" href="#onlyadmin">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="setsamechainflowstate"><a class="header" href="#setsamechainflowstate">setSameChainFlowState</a></h3>
<p>Sets a new same chain flow state</p>
<pre><code class="language-solidity">function setSameChainFlowState(bool _newState) external onlyAdmin;
</code></pre>
<h3 id="setoperator"><a class="header" href="#setoperator">setOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setOperator(address _operator) external onlyAdmin;
</code></pre>
<h3 id="setrolesoperator-1"><a class="header" href="#setrolesoperator-1">setRolesOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setRolesOperator(address _roles) external onlyAdmin;
</code></pre>
<h3 id="setinterestratemodel"><a class="header" href="#setinterestratemodel">setInterestRateModel</a></h3>
<p>accrues interest and updates the interest rate model using _setInterestRateModelFresh</p>
<p><em>Admin function to accrue interest and update the interest rate model</em></p>
<pre><code class="language-solidity">function setInterestRateModel(address newInterestRateModel) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newInterestRateModel</code></td><td><code>address</code></td><td>the new interest rate model to use</td></tr>
</tbody></table>
</div>
<h3 id="setborrowratemaxmantissa"><a class="header" href="#setborrowratemaxmantissa">setBorrowRateMaxMantissa</a></h3>
<pre><code class="language-solidity">function setBorrowRateMaxMantissa(uint256 maxMantissa) external onlyAdmin;
</code></pre>
<h3 id="setreservefactor"><a class="header" href="#setreservefactor">setReserveFactor</a></h3>
<p>accrues interest and sets a new reserve factor for the protocol using _setReserveFactorFresh</p>
<p><em>Admin function to accrue interest and set a new reserve factor</em></p>
<pre><code class="language-solidity">function setReserveFactor(uint256 newReserveFactorMantissa) external onlyAdmin;
</code></pre>
<h3 id="setpendingadmin"><a class="header" href="#setpendingadmin">setPendingAdmin</a></h3>
<p>Begins transfer of admin rights. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</p>
<p><em>Admin function to begin change of admin. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</em></p>
<pre><code class="language-solidity">function setPendingAdmin(address payable newPendingAdmin) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newPendingAdmin</code></td><td><code>address payable</code></td><td>New pending admin.</td></tr>
</tbody></table>
</div>
<h3 id="acceptadmin"><a class="header" href="#acceptadmin">acceptAdmin</a></h3>
<p>Accepts transfer of admin rights. msg.sender must be pendingAdmin</p>
<p><em>Admin function for pending admin to accept role and update admin</em></p>
<pre><code class="language-solidity">function acceptAdmin() external;
</code></pre>
<h3 id="_setinterestratemodel"><a class="header" href="#_setinterestratemodel">_setInterestRateModel</a></h3>
<p>updates the interest rate model (*requires fresh interest accrual)</p>
<p><em>Admin function to update the interest rate model</em></p>
<pre><code class="language-solidity">function _setInterestRateModel(address newInterestRateModel) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newInterestRateModel</code></td><td><code>address</code></td><td>the new interest rate model to use</td></tr>
</tbody></table>
</div>
<h3 id="_setoperator"><a class="header" href="#_setoperator">_setOperator</a></h3>
<pre><code class="language-solidity">function _setOperator(address _operator) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenstorage"><a class="header" href="#mtokenstorage">mTokenStorage</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/mToken/mTokenStorage.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/mToken/mTokenStorage.sol//src/interfaces/ImToken.sol/interface.ImToken.html">ImToken</a>, <a href="src/mToken/mTokenStorage.sol//src/utils/ExponentialNoError.sol/abstract.ExponentialNoError.html">ExponentialNoError</a></p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="admin-1"><a class="header" href="#admin-1">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">address payable public admin;
</code></pre>
<h3 id="pendingadmin-1"><a class="header" href="#pendingadmin-1">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">address payable public pendingAdmin;
</code></pre>
<h3 id="operator-3"><a class="header" href="#operator-3">operator</a></h3>
<p>Contract which oversees inter-mToken operations</p>
<pre><code class="language-solidity">address public operator;
</code></pre>
<h3 id="rolesoperator-6"><a class="header" href="#rolesoperator-6">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="name-3"><a class="header" href="#name-3">name</a></h3>
<p>EIP-20 token name for this token</p>
<pre><code class="language-solidity">string public name;
</code></pre>
<h3 id="symbol-1"><a class="header" href="#symbol-1">symbol</a></h3>
<p>EIP-20 token symbol for this token</p>
<pre><code class="language-solidity">string public symbol;
</code></pre>
<h3 id="decimals-3"><a class="header" href="#decimals-3">decimals</a></h3>
<p>EIP-20 token decimals for this token</p>
<pre><code class="language-solidity">uint8 public decimals;
</code></pre>
<h3 id="interestratemodel-1"><a class="header" href="#interestratemodel-1">interestRateModel</a></h3>
<p>Model which tells what the current interest rate should be</p>
<pre><code class="language-solidity">address public interestRateModel;
</code></pre>
<h3 id="reservefactormantissa-1"><a class="header" href="#reservefactormantissa-1">reserveFactorMantissa</a></h3>
<p>Fraction of interest currently set aside for reserves</p>
<pre><code class="language-solidity">uint256 public reserveFactorMantissa;
</code></pre>
<h3 id="accrualblocktimestamp-1"><a class="header" href="#accrualblocktimestamp-1">accrualBlockTimestamp</a></h3>
<p>Block timestamp that interest was last accrued at</p>
<pre><code class="language-solidity">uint256 public accrualBlockTimestamp;
</code></pre>
<h3 id="borrowindex-1"><a class="header" href="#borrowindex-1">borrowIndex</a></h3>
<p>Accumulator of the total earned interest rate since the opening of the market</p>
<pre><code class="language-solidity">uint256 public borrowIndex;
</code></pre>
<h3 id="totalborrows-1"><a class="header" href="#totalborrows-1">totalBorrows</a></h3>
<p>Total amount of outstanding borrows of the underlying in this market</p>
<pre><code class="language-solidity">uint256 public totalBorrows;
</code></pre>
<h3 id="totalreserves-1"><a class="header" href="#totalreserves-1">totalReserves</a></h3>
<p>Total amount of reserves of the underlying held in this market</p>
<pre><code class="language-solidity">uint256 public totalReserves;
</code></pre>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<p>Returns the value of tokens in existence.</p>
<pre><code class="language-solidity">uint256 public totalSupply;
</code></pre>
<h3 id="totalunderlying-1"><a class="header" href="#totalunderlying-1">totalUnderlying</a></h3>
<p>Returns the amount of underlying tokens</p>
<pre><code class="language-solidity">uint256 public totalUnderlying;
</code></pre>
<h3 id="borrowratemaxmantissa"><a class="header" href="#borrowratemaxmantissa">borrowRateMaxMantissa</a></h3>
<p>Maximum borrow rate that can ever be applied</p>
<pre><code class="language-solidity">uint256 public borrowRateMaxMantissa = 0.0005e16;
</code></pre>
<h3 id="samechainflowstatedisabled-1"><a class="header" href="#samechainflowstatedisabled-1">sameChainFlowStateDisabled</a></h3>
<p>Returns true/false for same chain flow state disable status</p>
<pre><code class="language-solidity">bool public sameChainFlowStateDisabled;
</code></pre>
<h3 id="accountborrows"><a class="header" href="#accountborrows">accountBorrows</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; BorrowSnapshot) internal accountBorrows;
</code></pre>
<h3 id="accounttokens"><a class="header" href="#accounttokens">accountTokens</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal accountTokens;
</code></pre>
<h3 id="transferallowances"><a class="header" href="#transferallowances">transferAllowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal transferAllowances;
</code></pre>
<h3 id="initialexchangeratemantissa"><a class="header" href="#initialexchangeratemantissa">initialExchangeRateMantissa</a></h3>
<p>Initial exchange rate used when minting the first mTokens (used when totalSupply = 0)</p>
<pre><code class="language-solidity">uint256 internal initialExchangeRateMantissa;
</code></pre>
<h3 id="reserve_factor_max_mantissa"><a class="header" href="#reserve_factor_max_mantissa">RESERVE_FACTOR_MAX_MANTISSA</a></h3>
<p>Maximum fraction of interest that can be set aside for reserves</p>
<pre><code class="language-solidity">uint256 internal constant RESERVE_FACTOR_MAX_MANTISSA = 1e18;
</code></pre>
<h3 id="protocol_seize_share_mantissa"><a class="header" href="#protocol_seize_share_mantissa">PROTOCOL_SEIZE_SHARE_MANTISSA</a></h3>
<p>Share of seized collateral that is added to reserves</p>
<pre><code class="language-solidity">uint256 internal constant PROTOCOL_SEIZE_SHARE_MANTISSA = 2.8e16;
</code></pre>
<h2 id="functions-51"><a class="header" href="#functions-51">Functions</a></h2>
<h3 id="accrueinterest-1"><a class="header" href="#accrueinterest-1">accrueInterest</a></h3>
<p>Accrues interest on the contract's outstanding loans</p>
<pre><code class="language-solidity">function accrueInterest() external virtual;
</code></pre>
<h3 id="_getblocktimestamp"><a class="header" href="#_getblocktimestamp">_getBlockTimestamp</a></h3>
<p><em>Function to simply retrieve block timestamp
This exists mainly for inheriting test contracts to stub this result.</em></p>
<pre><code class="language-solidity">function _getBlockTimestamp() internal view virtual returns (uint256);
</code></pre>
<h3 id="_exchangeratestored"><a class="header" href="#_exchangeratestored">_exchangeRateStored</a></h3>
<p>Calculates the exchange rate from the underlying to the MToken</p>
<p><em>This function does not accrue interest before calculating the exchange rate
Can generate issues if inflated by an attacker when market is created
Solution: use 0 collateral factor initially</em></p>
<pre><code class="language-solidity">function _exchangeRateStored() internal view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>calculated exchange rate scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="_getcashprior-1"><a class="header" href="#_getcashprior-1">_getCashPrior</a></h3>
<p>Gets balance of this contract in terms of the underlying</p>
<p><em>This excludes the value of the current message, if any</em></p>
<pre><code class="language-solidity">function _getCashPrior() internal view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The quantity of underlying owned by this contract</td></tr>
</tbody></table>
</div>
<h3 id="_dotransferin-1"><a class="header" href="#_dotransferin-1">_doTransferIn</a></h3>
<p><em>Performs a transfer in, reverting upon failure. Returns the amount actually transferred to the protocol, in case of a fee.
This may revert due to insufficient balance or insufficient allowance.</em></p>
<pre><code class="language-solidity">function _doTransferIn(address from, uint256 amount) internal virtual returns (uint256);
</code></pre>
<h3 id="_dotransferout-1"><a class="header" href="#_dotransferout-1">_doTransferOut</a></h3>
<p><em>Performs a transfer out, ideally returning an explanatory error code upon failure rather than reverting.
If caller has not called checked protocol's balance, may revert due to insufficient cash held in the contract.
If caller has checked protocol's balance, and verified it is &gt;= amount, this should not revert in normal conditions.</em></p>
<pre><code class="language-solidity">function _doTransferOut(address payable to, uint256 amount) internal virtual;
</code></pre>
<h3 id="_accrueinterest"><a class="header" href="#_accrueinterest">_accrueInterest</a></h3>
<pre><code class="language-solidity">function _accrueInterest() internal;
</code></pre>
<h2 id="events-14"><a class="header" href="#events-14">Events</a></h2>
<h3 id="newrolesoperator-1"><a class="header" href="#newrolesoperator-1">NewRolesOperator</a></h3>
<p>Event emitted when rolesOperator is changed</p>
<pre><code class="language-solidity">event NewRolesOperator(address indexed oldRoles, address indexed newRoles);
</code></pre>
<h3 id="newpendingadmin"><a class="header" href="#newpendingadmin">NewPendingAdmin</a></h3>
<p>Event emitted when pendingAdmin is changed</p>
<pre><code class="language-solidity">event NewPendingAdmin(address indexed oldPendingAdmin, address indexed newPendingAdmin);
</code></pre>
<h3 id="newadmin"><a class="header" href="#newadmin">NewAdmin</a></h3>
<p>Event emitted when pendingAdmin is accepted, which means admin is updated</p>
<pre><code class="language-solidity">event NewAdmin(address indexed oldAdmin, address indexed newAdmin);
</code></pre>
<h3 id="newoperator"><a class="header" href="#newoperator">NewOperator</a></h3>
<p>Event emitted when Operator is changed</p>
<pre><code class="language-solidity">event NewOperator(address indexed oldOperator, address indexed newOperator);
</code></pre>
<h3 id="transfer-2"><a class="header" href="#transfer-2">Transfer</a></h3>
<p>EIP20 Transfer event</p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);
</code></pre>
<h3 id="approval"><a class="header" href="#approval">Approval</a></h3>
<p>EIP20 Approval event</p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 amount);
</code></pre>
<h3 id="accrueinterest-2"><a class="header" href="#accrueinterest-2">AccrueInterest</a></h3>
<p>Event emitted when interest is accrued</p>
<pre><code class="language-solidity">event AccrueInterest(uint256 cashPrior, uint256 interestAccumulated, uint256 borrowIndex, uint256 totalBorrows);
</code></pre>
<h3 id="mint-2"><a class="header" href="#mint-2">Mint</a></h3>
<p>Event emitted when tokens are minted</p>
<pre><code class="language-solidity">event Mint(address indexed minter, address indexed receiver, uint256 mintAmount, uint256 mintTokens);
</code></pre>
<h3 id="redeem-2"><a class="header" href="#redeem-2">Redeem</a></h3>
<p>Event emitted when tokens are redeemed</p>
<pre><code class="language-solidity">event Redeem(address indexed redeemer, uint256 redeemAmount, uint256 redeemTokens);
</code></pre>
<h3 id="borrow-2"><a class="header" href="#borrow-2">Borrow</a></h3>
<p>Event emitted when underlying is borrowed</p>
<pre><code class="language-solidity">event Borrow(address indexed borrower, uint256 borrowAmount, uint256 accountBorrows, uint256 totalBorrows);
</code></pre>
<h3 id="repayborrow"><a class="header" href="#repayborrow">RepayBorrow</a></h3>
<p>Event emitted when a borrow is repaid</p>
<pre><code class="language-solidity">event RepayBorrow(
    address indexed payer, address indexed borrower, uint256 repayAmount, uint256 accountBorrows, uint256 totalBorrows
);
</code></pre>
<h3 id="liquidateborrow"><a class="header" href="#liquidateborrow">LiquidateBorrow</a></h3>
<p>Event emitted when a borrow is liquidated</p>
<pre><code class="language-solidity">event LiquidateBorrow(
    address indexed liquidator,
    address indexed borrower,
    uint256 repayAmount,
    address indexed mTokenCollateral,
    uint256 seizeTokens
);
</code></pre>
<h3 id="newmarketinterestratemodel"><a class="header" href="#newmarketinterestratemodel">NewMarketInterestRateModel</a></h3>
<p>Event emitted when interestRateModel is changed</p>
<pre><code class="language-solidity">event NewMarketInterestRateModel(address indexed oldInterestRateModel, address indexed newInterestRateModel);
</code></pre>
<h3 id="newreservefactor"><a class="header" href="#newreservefactor">NewReserveFactor</a></h3>
<p>Event emitted when the reserve factor is changed</p>
<pre><code class="language-solidity">event NewReserveFactor(uint256 oldReserveFactorMantissa, uint256 newReserveFactorMantissa);
</code></pre>
<h3 id="reservesadded"><a class="header" href="#reservesadded">ReservesAdded</a></h3>
<p>Event emitted when the reserves are added</p>
<pre><code class="language-solidity">event ReservesAdded(address indexed benefactor, uint256 addAmount, uint256 newTotalReserves);
</code></pre>
<h3 id="reservesreduced"><a class="header" href="#reservesreduced">ReservesReduced</a></h3>
<p>Event emitted when the reserves are reduced</p>
<pre><code class="language-solidity">event ReservesReduced(address indexed admin, uint256 reduceAmount, uint256 newTotalReserves);
</code></pre>
<h3 id="newborrowratemaxmantissa"><a class="header" href="#newborrowratemaxmantissa">NewBorrowRateMaxMantissa</a></h3>
<p>Event emitted when the borrow max mantissa is updated</p>
<pre><code class="language-solidity">event NewBorrowRateMaxMantissa(uint256 oldVal, uint256 maxMantissa);
</code></pre>
<h3 id="samechainflowstateupdated"><a class="header" href="#samechainflowstateupdated">SameChainFlowStateUpdated</a></h3>
<p>Event emitted when same chain flow state is enabled or disabled</p>
<pre><code class="language-solidity">event SameChainFlowStateUpdated(address indexed sender, bool _oldState, bool _newState);
</code></pre>
<h3 id="zkverifierupdated-2"><a class="header" href="#zkverifierupdated-2">ZkVerifierUpdated</a></h3>
<p>Event emitted when same chain flow state is enabled or disabled</p>
<pre><code class="language-solidity">event ZkVerifierUpdated(address indexed oldVerifier, address indexed newVerifier);
</code></pre>
<h2 id="errors-13"><a class="header" href="#errors-13">Errors</a></h2>
<h3 id="mtoken_onlyadmin"><a class="header" href="#mtoken_onlyadmin">mToken_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error mToken_OnlyAdmin();
</code></pre>
<h3 id="mtoken_redeemempty"><a class="header" href="#mtoken_redeemempty">mToken_RedeemEmpty</a></h3>
<pre><code class="language-solidity">error mToken_RedeemEmpty();
</code></pre>
<h3 id="mtoken_invalidinput"><a class="header" href="#mtoken_invalidinput">mToken_InvalidInput</a></h3>
<pre><code class="language-solidity">error mToken_InvalidInput();
</code></pre>
<h3 id="mtoken_onlyadminorrole"><a class="header" href="#mtoken_onlyadminorrole">mToken_OnlyAdminOrRole</a></h3>
<pre><code class="language-solidity">error mToken_OnlyAdminOrRole();
</code></pre>
<h3 id="mtoken_transfernotvalid"><a class="header" href="#mtoken_transfernotvalid">mToken_TransferNotValid</a></h3>
<pre><code class="language-solidity">error mToken_TransferNotValid();
</code></pre>
<h3 id="mtoken_minamountnotvalid"><a class="header" href="#mtoken_minamountnotvalid">mToken_MinAmountNotValid</a></h3>
<pre><code class="language-solidity">error mToken_MinAmountNotValid();
</code></pre>
<h3 id="mtoken_borrowratetoohigh"><a class="header" href="#mtoken_borrowratetoohigh">mToken_BorrowRateTooHigh</a></h3>
<pre><code class="language-solidity">error mToken_BorrowRateTooHigh();
</code></pre>
<h3 id="mtoken_alreadyinitialized"><a class="header" href="#mtoken_alreadyinitialized">mToken_AlreadyInitialized</a></h3>
<pre><code class="language-solidity">error mToken_AlreadyInitialized();
</code></pre>
<h3 id="mtoken_reservefactortoohigh"><a class="header" href="#mtoken_reservefactortoohigh">mToken_ReserveFactorTooHigh</a></h3>
<pre><code class="language-solidity">error mToken_ReserveFactorTooHigh();
</code></pre>
<h3 id="mtoken_exchangeratenotvalid"><a class="header" href="#mtoken_exchangeratenotvalid">mToken_ExchangeRateNotValid</a></h3>
<pre><code class="language-solidity">error mToken_ExchangeRateNotValid();
</code></pre>
<h3 id="mtoken_marketmethodnotvalid"><a class="header" href="#mtoken_marketmethodnotvalid">mToken_MarketMethodNotValid</a></h3>
<pre><code class="language-solidity">error mToken_MarketMethodNotValid();
</code></pre>
<h3 id="mtoken_liquidateseizetoomuch"><a class="header" href="#mtoken_liquidateseizetoomuch">mToken_LiquidateSeizeTooMuch</a></h3>
<pre><code class="language-solidity">error mToken_LiquidateSeizeTooMuch();
</code></pre>
<h3 id="mtoken_redeemcashnotavailable"><a class="header" href="#mtoken_redeemcashnotavailable">mToken_RedeemCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_RedeemCashNotAvailable();
</code></pre>
<h3 id="mtoken_borrowcashnotavailable"><a class="header" href="#mtoken_borrowcashnotavailable">mToken_BorrowCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_BorrowCashNotAvailable();
</code></pre>
<h3 id="mtoken_reservecashnotavailable"><a class="header" href="#mtoken_reservecashnotavailable">mToken_ReserveCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_ReserveCashNotAvailable();
</code></pre>
<h3 id="mtoken_redeemtransferoutnotpossible"><a class="header" href="#mtoken_redeemtransferoutnotpossible">mToken_RedeemTransferOutNotPossible</a></h3>
<pre><code class="language-solidity">error mToken_RedeemTransferOutNotPossible();
</code></pre>
<h3 id="mtoken_samechainoperationsaredisabled"><a class="header" href="#mtoken_samechainoperationsaredisabled">mToken_SameChainOperationsAreDisabled</a></h3>
<pre><code class="language-solidity">error mToken_SameChainOperationsAreDisabled();
</code></pre>
<h3 id="mtoken_collateralblocktimestampnotvalid"><a class="header" href="#mtoken_collateralblocktimestampnotvalid">mToken_CollateralBlockTimestampNotValid</a></h3>
<pre><code class="language-solidity">error mToken_CollateralBlockTimestampNotValid();
</code></pre>
<h2 id="structs-10"><a class="header" href="#structs-10">Structs</a></h2>
<h3 id="borrowsnapshot"><a class="header" href="#borrowsnapshot">BorrowSnapshot</a></h3>
<p>Container for borrow balance information</p>
<pre><code class="language-solidity">struct BorrowSnapshot {
    uint256 principal;
    uint256 interestIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-15"><a class="header" href="#contents-15">Contents</a></h1>
<ul>
<li><a href="src/migration/IMigrator.sol/interface.IMendiMarket.html">IMendiMarket</a></li>
<li><a href="src/migration/IMigrator.sol/interface.IMendiComptroller.html">IMendiComptroller</a></li>
<li><a href="src/migration/Migrator.sol/contract.Migrator.html">Migrator</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imendimarket"><a class="header" href="#imendimarket">IMendiMarket</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/migration/IMigrator.sol">Git Source</a></p>
<h2 id="functions-52"><a class="header" href="#functions-52">Functions</a></h2>
<h3 id="repayborrow-1"><a class="header" href="#repayborrow-1">repayBorrow</a></h3>
<pre><code class="language-solidity">function repayBorrow(uint256 repayAmount) external returns (uint256);
</code></pre>
<h3 id="repayborrowbehalf"><a class="header" href="#repayborrowbehalf">repayBorrowBehalf</a></h3>
<pre><code class="language-solidity">function repayBorrowBehalf(address borrower, uint256 repayAmount) external returns (uint256);
</code></pre>
<h3 id="redeemunderlying-2"><a class="header" href="#redeemunderlying-2">redeemUnderlying</a></h3>
<pre><code class="language-solidity">function redeemUnderlying(uint256 redeemAmount) external returns (uint256);
</code></pre>
<h3 id="redeem-3"><a class="header" href="#redeem-3">redeem</a></h3>
<pre><code class="language-solidity">function redeem(uint256 amount) external returns (uint256);
</code></pre>
<h3 id="underlying-4"><a class="header" href="#underlying-4">underlying</a></h3>
<pre><code class="language-solidity">function underlying() external view returns (address);
</code></pre>
<h3 id="balanceof-3"><a class="header" href="#balanceof-3">balanceOf</a></h3>
<pre><code class="language-solidity">function balanceOf(address sender) external view returns (uint256);
</code></pre>
<h3 id="balanceofunderlying-2"><a class="header" href="#balanceofunderlying-2">balanceOfUnderlying</a></h3>
<pre><code class="language-solidity">function balanceOfUnderlying(address sender) external returns (uint256);
</code></pre>
<h3 id="borrowbalancestored-2"><a class="header" href="#borrowbalancestored-2">borrowBalanceStored</a></h3>
<pre><code class="language-solidity">function borrowBalanceStored(address sender) external view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imendicomptroller"><a class="header" href="#imendicomptroller">IMendiComptroller</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/migration/IMigrator.sol">Git Source</a></p>
<h2 id="functions-53"><a class="header" href="#functions-53">Functions</a></h2>
<h3 id="getassetsin-2"><a class="header" href="#getassetsin-2">getAssetsIn</a></h3>
<pre><code class="language-solidity">function getAssetsIn(address account) external view returns (IMendiMarket[] memory);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="migrator-1"><a class="header" href="#migrator-1">Migrator</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/migration/Migrator.sol">Git Source</a></p>
<h2 id="functions-54"><a class="header" href="#functions-54">Functions</a></h2>
<h3 id="getallcollateralmarkets"><a class="header" href="#getallcollateralmarkets">getAllCollateralMarkets</a></h3>
<p>Get all markets where <code>params.userV1</code> has collateral in on Mendi</p>
<pre><code class="language-solidity">function getAllCollateralMarkets(MigrationParams calldata params) external view returns (address[] memory markets);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>MigrationParams</code></td><td>Migration parameters containing protocol addresses</td></tr>
</tbody></table>
</div>
<h3 id="getallpositions"><a class="header" href="#getallpositions">getAllPositions</a></h3>
<p>Get all <code>migratable</code> positions from Mendi to Malda</p>
<pre><code class="language-solidity">function getAllPositions(MigrationParams calldata params) external returns (Position[] memory positions);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>MigrationParams</code></td><td>Migration parameters containing protocol addresses</td></tr>
</tbody></table>
</div>
<h3 id="migrateallpositions"><a class="header" href="#migrateallpositions">migrateAllPositions</a></h3>
<p>Migrates all positions from Mendi to Malda</p>
<pre><code class="language-solidity">function migrateAllPositions(MigrationParams calldata params) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>params</code></td><td><code>MigrationParams</code></td><td>Migration parameters containing protocol addresses</td></tr>
</tbody></table>
</div>
<h3 id="_collectmendipositions"><a class="header" href="#_collectmendipositions">_collectMendiPositions</a></h3>
<p>Collects all user positions from Mendi</p>
<pre><code class="language-solidity">function _collectMendiPositions(MigrationParams memory params) private returns (Position[] memory);
</code></pre>
<h3 id="_getmaldamarket"><a class="header" href="#_getmaldamarket">_getMaldaMarket</a></h3>
<p>Gets corresponding Malda market for a given underlying</p>
<pre><code class="language-solidity">function _getMaldaMarket(address maldaOperator, address underlying) private view returns (address);
</code></pre>
<h2 id="structs-11"><a class="header" href="#structs-11">Structs</a></h2>
<h3 id="migrationparams"><a class="header" href="#migrationparams">MigrationParams</a></h3>
<pre><code class="language-solidity">struct MigrationParams {
    address mendiComptroller;
    address maldaOperator;
    address userV1;
    address userV2;
}
</code></pre>
<h3 id="position"><a class="header" href="#position">Position</a></h3>
<pre><code class="language-solidity">struct Position {
    address mendiMarket;
    address maldaMarket;
    uint256 collateralUnderlyingAmount;
    uint256 borrowAmount;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-16"><a class="header" href="#contents-16">Contents</a></h1>
<ul>
<li><a href="src/nft/MaldaNft.sol/contract.MaldaNft.html">MaldaNft</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="maldanft"><a class="header" href="#maldanft">MaldaNft</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/nft/MaldaNft.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
ERC721Enumerable, Ownable</p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="merkleroot"><a class="header" href="#merkleroot">merkleRoot</a></h3>
<pre><code class="language-solidity">bytes32 public merkleRoot;
</code></pre>
<h3 id="hasclaimed"><a class="header" href="#hasclaimed">hasClaimed</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(uint256 =&gt; bool)) public hasClaimed;
</code></pre>
<h3 id="minted"><a class="header" href="#minted">minted</a></h3>
<pre><code class="language-solidity">mapping(uint256 =&gt; bool) public minted;
</code></pre>
<h3 id="_nexttokenid"><a class="header" href="#_nexttokenid">_nextTokenId</a></h3>
<pre><code class="language-solidity">uint256 private _nextTokenId;
</code></pre>
<h3 id="_basetokenuri"><a class="header" href="#_basetokenuri">_baseTokenURI</a></h3>
<pre><code class="language-solidity">string private _baseTokenURI;
</code></pre>
<h2 id="functions-55"><a class="header" href="#functions-55">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor(string memory name, string memory symbol, string memory baseURI, address owner)
    ERC721(name, symbol)
    Ownable(owner);
</code></pre>
<h3 id="mint-3"><a class="header" href="#mint-3">mint</a></h3>
<pre><code class="language-solidity">function mint(address to, uint256 tokenId) external onlyOwner;
</code></pre>
<h3 id="setbaseuri"><a class="header" href="#setbaseuri">setBaseURI</a></h3>
<pre><code class="language-solidity">function setBaseURI(string memory baseURI) external onlyOwner;
</code></pre>
<h3 id="setmerkleroot"><a class="header" href="#setmerkleroot">setMerkleRoot</a></h3>
<pre><code class="language-solidity">function setMerkleRoot(bytes32 _merkleRoot) external onlyOwner;
</code></pre>
<h3 id="canclaim"><a class="header" href="#canclaim">canClaim</a></h3>
<pre><code class="language-solidity">function canClaim(address claimer, uint256 tokenId, bytes32[] calldata merkleProof) external view returns (bool);
</code></pre>
<h3 id="claim-1"><a class="header" href="#claim-1">claim</a></h3>
<pre><code class="language-solidity">function claim(uint256 tokenId, bytes32[] calldata merkleProof) external;
</code></pre>
<h3 id="transferfrom-2"><a class="header" href="#transferfrom-2">transferFrom</a></h3>
<p><em>non-transferable</em></p>
<pre><code class="language-solidity">function transferFrom(address, address, uint256) public override(ERC721, IERC721);
</code></pre>
<h3 id="safetransferfrom"><a class="header" href="#safetransferfrom">safeTransferFrom</a></h3>
<p><em>non-transferable</em></p>
<pre><code class="language-solidity">function safeTransferFrom(address, address, uint256, bytes memory) public override(ERC721, IERC721);
</code></pre>
<h3 id="_baseuri"><a class="header" href="#_baseuri">_baseURI</a></h3>
<pre><code class="language-solidity">function _baseURI() internal view override returns (string memory);
</code></pre>
<h2 id="events-15"><a class="header" href="#events-15">Events</a></h2>
<h3 id="merklerootset"><a class="header" href="#merklerootset">MerkleRootSet</a></h3>
<pre><code class="language-solidity">event MerkleRootSet(bytes32 merkleRoot);
</code></pre>
<h3 id="tokensclaimed"><a class="header" href="#tokensclaimed">TokensClaimed</a></h3>
<pre><code class="language-solidity">event TokensClaimed(address indexed claimer, uint256 indexed tokenIdClaimed);
</code></pre>
<h2 id="errors-14"><a class="header" href="#errors-14">Errors</a></h2>
<h3 id="maldanft_merklerootnotset"><a class="header" href="#maldanft_merklerootnotset">MaldaNft_MerkleRootNotSet</a></h3>
<pre><code class="language-solidity">error MaldaNft_MerkleRootNotSet();
</code></pre>
<h3 id="maldanft_invalidmerkleproof"><a class="header" href="#maldanft_invalidmerkleproof">MaldaNft_InvalidMerkleProof</a></h3>
<pre><code class="language-solidity">error MaldaNft_InvalidMerkleProof();
</code></pre>
<h3 id="maldanft_tokenalreadyminted"><a class="header" href="#maldanft_tokenalreadyminted">MaldaNft_TokenAlreadyMinted</a></h3>
<pre><code class="language-solidity">error MaldaNft_TokenAlreadyMinted();
</code></pre>
<h3 id="maldanft_tokenalreadyclaimed"><a class="header" href="#maldanft_tokenalreadyclaimed">MaldaNft_TokenAlreadyClaimed</a></h3>
<pre><code class="language-solidity">error MaldaNft_TokenAlreadyClaimed();
</code></pre>
<h3 id="maldanft_tokennottransferable"><a class="header" href="#maldanft_tokennottransferable">MaldaNft_TokenNotTransferable</a></h3>
<pre><code class="language-solidity">error MaldaNft_TokenNotTransferable();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-17"><a class="header" href="#contents-17">Contents</a></h1>
<ul>
<li><a href="src/oracles/ChainlinkOracle.sol/contract.ChainlinkOracle.html">ChainlinkOracle</a></li>
<li><a href="src/oracles/MixedPriceOracleV3.sol/contract.MixedPriceOracleV3.html">MixedPriceOracleV3</a></li>
<li><a href="src/oracles/MixedPriceOracleV4.sol/contract.MixedPriceOracleV4.html">MixedPriceOracleV4</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chainlinkoracle"><a class="header" href="#chainlinkoracle">ChainlinkOracle</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/oracles/ChainlinkOracle.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/oracles/ChainlinkOracle.sol//src/interfaces/IOracleOperator.sol/interface.IOracleOperator.html">IOracleOperator</a></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="pricefeeds"><a class="header" href="#pricefeeds">priceFeeds</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; IAggregatorV3) public priceFeeds;
</code></pre>
<h3 id="baseunits"><a class="header" href="#baseunits">baseUnits</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; uint256) public baseUnits;
</code></pre>
<h3 id="decimals-4"><a class="header" href="#decimals-4">DECIMALS</a></h3>
<pre><code class="language-solidity">uint8 public constant DECIMALS = 18;
</code></pre>
<h2 id="functions-56"><a class="header" href="#functions-56">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor(string[] memory symbols_, IAggregatorV3[] memory feeds_, uint256[] memory baseUnits_);
</code></pre>
<h3 id="getprice-1"><a class="header" href="#getprice-1">getPrice</a></h3>
<p>Get the price of a mToken asset</p>
<pre><code class="language-solidity">function getPrice(address mToken) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="getunderlyingprice-1"><a class="header" href="#getunderlyingprice-1">getUnderlyingPrice</a></h3>
<p>Get the underlying price of a mToken asset</p>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the underlying price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="_getlatestprice"><a class="header" href="#_getlatestprice">_getLatestPrice</a></h3>
<pre><code class="language-solidity">function _getLatestPrice(string memory symbol) internal view returns (uint256, uint256);
</code></pre>
<h2 id="errors-15"><a class="header" href="#errors-15">Errors</a></h2>
<h3 id="chainlinkoracle_nopricefeed"><a class="header" href="#chainlinkoracle_nopricefeed">ChainlinkOracle_NoPriceFeed</a></h3>
<pre><code class="language-solidity">error ChainlinkOracle_NoPriceFeed();
</code></pre>
<h3 id="chainlinkoracle_zeroprice"><a class="header" href="#chainlinkoracle_zeroprice">ChainlinkOracle_ZeroPrice</a></h3>
<pre><code class="language-solidity">error ChainlinkOracle_ZeroPrice();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mixedpriceoraclev3"><a class="header" href="#mixedpriceoraclev3">MixedPriceOracleV3</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/oracles/MixedPriceOracleV3.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/oracles/MixedPriceOracleV3.sol//src/interfaces/IOracleOperator.sol/interface.IOracleOperator.html">IOracleOperator</a></p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="staleness_period"><a class="header" href="#staleness_period">STALENESS_PERIOD</a></h3>
<pre><code class="language-solidity">uint256 public immutable STALENESS_PERIOD;
</code></pre>
<h3 id="configs"><a class="header" href="#configs">configs</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; IDefaultAdapter.PriceConfig) public configs;
</code></pre>
<h3 id="stalenesspersymbol"><a class="header" href="#stalenesspersymbol">stalenessPerSymbol</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; uint256) public stalenessPerSymbol;
</code></pre>
<h3 id="roles"><a class="header" href="#roles">roles</a></h3>
<pre><code class="language-solidity">IRoles public immutable roles;
</code></pre>
<h2 id="functions-57"><a class="header" href="#functions-57">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<pre><code class="language-solidity">constructor(
    string[] memory symbols_,
    IDefaultAdapter.PriceConfig[] memory configs_,
    address roles_,
    uint256 stalenessPeriod_
);
</code></pre>
<h3 id="setstaleness"><a class="header" href="#setstaleness">setStaleness</a></h3>
<pre><code class="language-solidity">function setStaleness(string memory symbol, uint256 val) external;
</code></pre>
<h3 id="setconfig-3"><a class="header" href="#setconfig-3">setConfig</a></h3>
<pre><code class="language-solidity">function setConfig(string memory symbol, IDefaultAdapter.PriceConfig memory config) external;
</code></pre>
<h3 id="getprice-2"><a class="header" href="#getprice-2">getPrice</a></h3>
<pre><code class="language-solidity">function getPrice(address mToken) public view returns (uint256);
</code></pre>
<h3 id="getunderlyingprice-2"><a class="header" href="#getunderlyingprice-2">getUnderlyingPrice</a></h3>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view override returns (uint256);
</code></pre>
<h3 id="_getpriceusd"><a class="header" href="#_getpriceusd">_getPriceUSD</a></h3>
<pre><code class="language-solidity">function _getPriceUSD(string memory symbol) internal view returns (uint256);
</code></pre>
<h3 id="_getlatestprice-1"><a class="header" href="#_getlatestprice-1">_getLatestPrice</a></h3>
<pre><code class="language-solidity">function _getLatestPrice(string memory symbol, IDefaultAdapter.PriceConfig memory config)
    internal
    view
    returns (uint256, uint256);
</code></pre>
<h3 id="_getstaleness"><a class="header" href="#_getstaleness">_getStaleness</a></h3>
<pre><code class="language-solidity">function _getStaleness(string memory symbol) internal view returns (uint256);
</code></pre>
<h2 id="events-16"><a class="header" href="#events-16">Events</a></h2>
<h3 id="configset"><a class="header" href="#configset">ConfigSet</a></h3>
<pre><code class="language-solidity">event ConfigSet(string symbol, IDefaultAdapter.PriceConfig config);
</code></pre>
<h3 id="stalenessupdated"><a class="header" href="#stalenessupdated">StalenessUpdated</a></h3>
<pre><code class="language-solidity">event StalenessUpdated(string symbol, uint256 val);
</code></pre>
<h2 id="errors-16"><a class="header" href="#errors-16">Errors</a></h2>
<h3 id="mixedpriceoracle_unauthorized"><a class="header" href="#mixedpriceoracle_unauthorized">MixedPriceOracle_Unauthorized</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_Unauthorized();
</code></pre>
<h3 id="mixedpriceoracle_staleprice"><a class="header" href="#mixedpriceoracle_staleprice">MixedPriceOracle_StalePrice</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_StalePrice();
</code></pre>
<h3 id="mixedpriceoracle_invalidprice"><a class="header" href="#mixedpriceoracle_invalidprice">MixedPriceOracle_InvalidPrice</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidPrice();
</code></pre>
<h3 id="mixedpriceoracle_invalidround"><a class="header" href="#mixedpriceoracle_invalidround">MixedPriceOracle_InvalidRound</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidRound();
</code></pre>
<h3 id="mixedpriceoracle_invalidconfig"><a class="header" href="#mixedpriceoracle_invalidconfig">MixedPriceOracle_InvalidConfig</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidConfig();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mixedpriceoraclev4"><a class="header" href="#mixedpriceoraclev4">MixedPriceOracleV4</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/oracles/MixedPriceOracleV4.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/oracles/MixedPriceOracleV4.sol//src/interfaces/IOracleOperator.sol/interface.IOracleOperator.html">IOracleOperator</a></p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="staleness_period-1"><a class="header" href="#staleness_period-1">STALENESS_PERIOD</a></h3>
<pre><code class="language-solidity">uint256 public immutable STALENESS_PERIOD;
</code></pre>
<h3 id="configs-1"><a class="header" href="#configs-1">configs</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; PriceConfig) public configs;
</code></pre>
<h3 id="stalenesspersymbol-1"><a class="header" href="#stalenesspersymbol-1">stalenessPerSymbol</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; uint256) public stalenessPerSymbol;
</code></pre>
<h3 id="deltapersymbol"><a class="header" href="#deltapersymbol">deltaPerSymbol</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; uint256) public deltaPerSymbol;
</code></pre>
<h3 id="maxpricedelta"><a class="header" href="#maxpricedelta">maxPriceDelta</a></h3>
<pre><code class="language-solidity">uint256 public maxPriceDelta = 1.5e3;
</code></pre>
<h3 id="price_delta_exp"><a class="header" href="#price_delta_exp">PRICE_DELTA_EXP</a></h3>
<pre><code class="language-solidity">uint256 public constant PRICE_DELTA_EXP = 1e5;
</code></pre>
<h3 id="roles-1"><a class="header" href="#roles-1">roles</a></h3>
<pre><code class="language-solidity">IRoles public immutable roles;
</code></pre>
<h2 id="functions-58"><a class="header" href="#functions-58">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<pre><code class="language-solidity">constructor(string[] memory symbols_, PriceConfig[] memory configs_, address roles_, uint256 stalenessPeriod_);
</code></pre>
<h3 id="setstaleness-1"><a class="header" href="#setstaleness-1">setStaleness</a></h3>
<pre><code class="language-solidity">function setStaleness(string memory symbol, uint256 val) external;
</code></pre>
<h3 id="setconfig-4"><a class="header" href="#setconfig-4">setConfig</a></h3>
<pre><code class="language-solidity">function setConfig(string memory symbol, PriceConfig memory config) external;
</code></pre>
<h3 id="setmaxpricedelta"><a class="header" href="#setmaxpricedelta">setMaxPriceDelta</a></h3>
<pre><code class="language-solidity">function setMaxPriceDelta(uint256 _delta) external;
</code></pre>
<h3 id="setsymbolmaxpricedelta"><a class="header" href="#setsymbolmaxpricedelta">setSymbolMaxPriceDelta</a></h3>
<pre><code class="language-solidity">function setSymbolMaxPriceDelta(uint256 _delta, string calldata _symbol) external;
</code></pre>
<h3 id="getprice-3"><a class="header" href="#getprice-3">getPrice</a></h3>
<pre><code class="language-solidity">function getPrice(address mToken) public view returns (uint256);
</code></pre>
<h3 id="getunderlyingprice-3"><a class="header" href="#getunderlyingprice-3">getUnderlyingPrice</a></h3>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view override returns (uint256);
</code></pre>
<h3 id="_getpriceusd-1"><a class="header" href="#_getpriceusd-1">_getPriceUSD</a></h3>
<pre><code class="language-solidity">function _getPriceUSD(string memory symbol) internal view returns (uint256);
</code></pre>
<h3 id="_getlatestprice-2"><a class="header" href="#_getlatestprice-2">_getLatestPrice</a></h3>
<pre><code class="language-solidity">function _getLatestPrice(string memory symbol, PriceConfig memory config) internal view returns (uint256, uint256);
</code></pre>
<h3 id="_absdiff"><a class="header" href="#_absdiff">_absDiff</a></h3>
<pre><code class="language-solidity">function _absDiff(int256 a, int256 b) internal pure returns (uint256);
</code></pre>
<h3 id="_getstaleness-1"><a class="header" href="#_getstaleness-1">_getStaleness</a></h3>
<pre><code class="language-solidity">function _getStaleness(string memory symbol) internal view returns (uint256);
</code></pre>
<h2 id="events-17"><a class="header" href="#events-17">Events</a></h2>
<h3 id="configset-1"><a class="header" href="#configset-1">ConfigSet</a></h3>
<pre><code class="language-solidity">event ConfigSet(string symbol, PriceConfig config);
</code></pre>
<h3 id="stalenessupdated-1"><a class="header" href="#stalenessupdated-1">StalenessUpdated</a></h3>
<pre><code class="language-solidity">event StalenessUpdated(string symbol, uint256 val);
</code></pre>
<h3 id="pricedeltaupdated"><a class="header" href="#pricedeltaupdated">PriceDeltaUpdated</a></h3>
<pre><code class="language-solidity">event PriceDeltaUpdated(uint256 oldVal, uint256 newVal);
</code></pre>
<h3 id="pricesymboldeltaupdated"><a class="header" href="#pricesymboldeltaupdated">PriceSymbolDeltaUpdated</a></h3>
<pre><code class="language-solidity">event PriceSymbolDeltaUpdated(uint256 oldVal, uint256 newVal, string symbol);
</code></pre>
<h2 id="errors-17"><a class="header" href="#errors-17">Errors</a></h2>
<h3 id="mixedpriceoracle_unauthorized-1"><a class="header" href="#mixedpriceoracle_unauthorized-1">MixedPriceOracle_Unauthorized</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_Unauthorized();
</code></pre>
<h3 id="mixedpriceoracle_apiv3staleprice"><a class="header" href="#mixedpriceoracle_apiv3staleprice">MixedPriceOracle_ApiV3StalePrice</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_ApiV3StalePrice();
</code></pre>
<h3 id="mixedpriceoracle_eoraclestaleprice"><a class="header" href="#mixedpriceoracle_eoraclestaleprice">MixedPriceOracle_eOracleStalePrice</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_eOracleStalePrice();
</code></pre>
<h3 id="mixedpriceoracle_invalidprice-1"><a class="header" href="#mixedpriceoracle_invalidprice-1">MixedPriceOracle_InvalidPrice</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidPrice();
</code></pre>
<h3 id="mixedpriceoracle_invalidround-1"><a class="header" href="#mixedpriceoracle_invalidround-1">MixedPriceOracle_InvalidRound</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidRound();
</code></pre>
<h3 id="mixedpriceoracle_invalidconfig-1"><a class="header" href="#mixedpriceoracle_invalidconfig-1">MixedPriceOracle_InvalidConfig</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidConfig();
</code></pre>
<h3 id="mixedpriceoracle_invalidconfigdecimals"><a class="header" href="#mixedpriceoracle_invalidconfigdecimals">MixedPriceOracle_InvalidConfigDecimals</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_InvalidConfigDecimals();
</code></pre>
<h3 id="mixedpriceoracle_deltatoohigh"><a class="header" href="#mixedpriceoracle_deltatoohigh">MixedPriceOracle_DeltaTooHigh</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_DeltaTooHigh();
</code></pre>
<h3 id="mixedpriceoracle_missingfeed"><a class="header" href="#mixedpriceoracle_missingfeed">MixedPriceOracle_MissingFeed</a></h3>
<pre><code class="language-solidity">error MixedPriceOracle_MissingFeed();
</code></pre>
<h2 id="structs-12"><a class="header" href="#structs-12">Structs</a></h2>
<h3 id="priceconfig-1"><a class="header" href="#priceconfig-1">PriceConfig</a></h3>
<pre><code class="language-solidity">struct PriceConfig {
    address api3Feed;
    address eOracleFeed;
    string toSymbol;
    uint256 underlyingDecimals;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-18"><a class="header" href="#contents-18">Contents</a></h1>
<ul>
<li><a href="src/pauser/Pauser.sol/contract.Pauser.html">Pauser</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pauser"><a class="header" href="#pauser">Pauser</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/pauser/Pauser.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src/pauser/Pauser.sol//src/interfaces/IPauser.sol/interface.IPauser.html">IPauser</a></p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="roles-2"><a class="header" href="#roles-2">roles</a></h3>
<pre><code class="language-solidity">IRoles public immutable roles;
</code></pre>
<h3 id="operator-4"><a class="header" href="#operator-4">operator</a></h3>
<pre><code class="language-solidity">IOperator public immutable operator;
</code></pre>
<h3 id="pausablecontracts"><a class="header" href="#pausablecontracts">pausableContracts</a></h3>
<pre><code class="language-solidity">PausableContract[] public pausableContracts;
</code></pre>
<h3 id="registeredcontracts"><a class="header" href="#registeredcontracts">registeredContracts</a></h3>
<pre><code class="language-solidity">mapping(address _contract =&gt; bool _registered) public registeredContracts;
</code></pre>
<h3 id="contracttypes"><a class="header" href="#contracttypes">contractTypes</a></h3>
<pre><code class="language-solidity">mapping(address _contract =&gt; PausableType _type) public contractTypes;
</code></pre>
<h2 id="functions-59"><a class="header" href="#functions-59">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _operator, address _owner) Ownable(_owner);
</code></pre>
<h3 id="addpausablemarket"><a class="header" href="#addpausablemarket">addPausableMarket</a></h3>
<p>add pauable contract</p>
<pre><code class="language-solidity">function addPausableMarket(address _contract, PausableType _contractType) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the pausable contract</td></tr>
<tr><td><code>_contractType</code></td><td><code>PausableType</code></td><td>the pausable contract type</td></tr>
</tbody></table>
</div>
<h3 id="removepausablemarket"><a class="header" href="#removepausablemarket">removePausableMarket</a></h3>
<p>removes pauable contract</p>
<pre><code class="language-solidity">function removePausableMarket(address _contract) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the pausable contract</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarket-1"><a class="header" href="#emergencypausemarket-1">emergencyPauseMarket</a></h3>
<p>pauses all operations for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarket(address _market) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarketfor-1"><a class="header" href="#emergencypausemarketfor-1">emergencyPauseMarketFor</a></h3>
<p>pauses a specific operation for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarketFor(address _market, ImTokenOperationTypes.OperationType _pauseType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
<tr><td><code>_pauseType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="emergencypauseall-1"><a class="header" href="#emergencypauseall-1">emergencyPauseAll</a></h3>
<p>pauses all operations for all registered markets</p>
<pre><code class="language-solidity">function emergencyPauseAll() external;
</code></pre>
<h3 id="_pauseallmarketoperations"><a class="header" href="#_pauseallmarketoperations">_pauseAllMarketOperations</a></h3>
<pre><code class="language-solidity">function _pauseAllMarketOperations(address _market) private;
</code></pre>
<h3 id="_pausemarketoperation"><a class="header" href="#_pausemarketoperation">_pauseMarketOperation</a></h3>
<pre><code class="language-solidity">function _pauseMarketOperation(address _market, ImTokenOperationTypes.OperationType _pauseType) private;
</code></pre>
<h3 id="_pause"><a class="header" href="#_pause">_pause</a></h3>
<pre><code class="language-solidity">function _pause(address _market, ImTokenOperationTypes.OperationType _pauseType) private;
</code></pre>
<h3 id="_findindex"><a class="header" href="#_findindex">_findIndex</a></h3>
<pre><code class="language-solidity">function _findIndex(address _address) private view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-19"><a class="header" href="#contents-19">Contents</a></h1>
<ul>
<li><a href="src/rebalancer//src/rebalancer/bridges">bridges</a></li>
<li><a href="src/rebalancer/Rebalancer.sol/contract.Rebalancer.html">Rebalancer</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-20"><a class="header" href="#contents-20">Contents</a></h1>
<ul>
<li><a href="src/rebalancer/bridges/AcrossBridge.sol/contract.AccrossBridge.html">AccrossBridge</a></li>
<li><a href="src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html">BaseBridge</a></li>
<li><a href="src/rebalancer/bridges/ConnextBridge.sol/contract.ConnextBridge.html">ConnextBridge</a></li>
<li><a href="src/rebalancer/bridges/EverclearBridge.sol/contract.EverclearBridge.html">EverclearBridge</a></li>
<li><a href="src/rebalancer/bridges/LZBridge.sol/contract.LZBridge.html">LZBridge</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="accrossbridge"><a class="header" href="#accrossbridge">AccrossBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/bridges/AcrossBridge.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rebalancer/bridges/AcrossBridge.sol//src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html">BaseBridge</a>, <a href="src/rebalancer/bridges/AcrossBridge.sol//src/interfaces/IBridge.sol/interface.IBridge.html">IBridge</a>, ReentrancyGuard</p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="acrossspokepool"><a class="header" href="#acrossspokepool">acrossSpokePool</a></h3>
<pre><code class="language-solidity">address public immutable acrossSpokePool;
</code></pre>
<h3 id="maxslippage"><a class="header" href="#maxslippage">maxSlippage</a></h3>
<pre><code class="language-solidity">uint256 public immutable maxSlippage;
</code></pre>
<h3 id="whitelistedrelayers"><a class="header" href="#whitelistedrelayers">whitelistedRelayers</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; bool)) public whitelistedRelayers;
</code></pre>
<h3 id="slippage_precision"><a class="header" href="#slippage_precision">SLIPPAGE_PRECISION</a></h3>
<pre><code class="language-solidity">uint256 private constant SLIPPAGE_PRECISION = 1e5;
</code></pre>
<h2 id="functions-60"><a class="header" href="#functions-60">Functions</a></h2>
<h3 id="constructor-12"><a class="header" href="#constructor-12">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _spokePool) BaseBridge(_roles);
</code></pre>
<h3 id="onlyspokepool"><a class="header" href="#onlyspokepool">onlySpokePool</a></h3>
<pre><code class="language-solidity">modifier onlySpokePool();
</code></pre>
<h3 id="setwhitelistedrelayer"><a class="header" href="#setwhitelistedrelayer">setWhitelistedRelayer</a></h3>
<p>Whitelists a delegate address</p>
<pre><code class="language-solidity">function setWhitelistedRelayer(uint32 _dstId, address _relayer, bool status) external onlyBridgeConfigurator;
</code></pre>
<h3 id="getfee-1"><a class="header" href="#getfee-1">getFee</a></h3>
<p>computes fee for bridge operation</p>
<pre><code class="language-solidity">function getFee(uint32, bytes memory, bytes memory) external pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="isrelayerwhitelisted"><a class="header" href="#isrelayerwhitelisted">isRelayerWhitelisted</a></h3>
<p>returns if an address represents a whitelisted delegates</p>
<pre><code class="language-solidity">function isRelayerWhitelisted(uint32 dstChain, address relayer) external view returns (bool);
</code></pre>
<h3 id="sendmsg-2"><a class="header" href="#sendmsg-2">sendMsg</a></h3>
<p>rebalance through bridge</p>
<pre><code class="language-solidity">function sendMsg(
    uint256 _extractedAmount,
    address _market,
    uint32 _dstChainId,
    address _token,
    bytes memory _message,
    bytes memory
) external payable onlyRebalancer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_extractedAmount</code></td><td><code>uint256</code></td><td>extracted amount for rebalancing</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>destination address</td></tr>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to rebalance</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="handlev3acrossmessage-1"><a class="header" href="#handlev3acrossmessage-1">handleV3AcrossMessage</a></h3>
<p>handles AcrossV3 SpokePool message</p>
<pre><code class="language-solidity">function handleV3AcrossMessage(address tokenSent, uint256 amount, address, bytes memory message)
    external
    onlySpokePool
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>tokenSent</code></td><td><code>address</code></td><td>the token address received</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>the token amount</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>message</code></td><td><code>bytes</code></td><td>the custom message sent from source</td></tr>
</tbody></table>
</div>
<h3 id="_decodemessage"><a class="header" href="#_decodemessage">_decodeMessage</a></h3>
<pre><code class="language-solidity">function _decodeMessage(bytes memory _message) private pure returns (DecodedMessage memory);
</code></pre>
<h3 id="_depositv3now"><a class="header" href="#_depositv3now">_depositV3Now</a></h3>
<pre><code class="language-solidity">function _depositV3Now(bytes memory _message, address _token, uint32 _dstChainId, address _market) private;
</code></pre>
<h2 id="events-18"><a class="header" href="#events-18">Events</a></h2>
<h3 id="rebalanced"><a class="header" href="#rebalanced">Rebalanced</a></h3>
<pre><code class="language-solidity">event Rebalanced(address indexed market, uint256 amount);
</code></pre>
<h3 id="whitelistedrelayerstatusupdated"><a class="header" href="#whitelistedrelayerstatusupdated">WhitelistedRelayerStatusUpdated</a></h3>
<pre><code class="language-solidity">event WhitelistedRelayerStatusUpdated(
    address indexed sender, uint32 indexed dstId, address indexed delegate, bool status
);
</code></pre>
<h2 id="errors-18"><a class="header" href="#errors-18">Errors</a></h2>
<h3 id="acrossbridge_tokenmismatch"><a class="header" href="#acrossbridge_tokenmismatch">AcrossBridge_TokenMismatch</a></h3>
<pre><code class="language-solidity">error AcrossBridge_TokenMismatch();
</code></pre>
<h3 id="acrossbridge_notauthorized"><a class="header" href="#acrossbridge_notauthorized">AcrossBridge_NotAuthorized</a></h3>
<pre><code class="language-solidity">error AcrossBridge_NotAuthorized();
</code></pre>
<h3 id="acrossbridge_notimplemented"><a class="header" href="#acrossbridge_notimplemented">AcrossBridge_NotImplemented</a></h3>
<pre><code class="language-solidity">error AcrossBridge_NotImplemented();
</code></pre>
<h3 id="acrossbridge_addressnotvalid"><a class="header" href="#acrossbridge_addressnotvalid">AcrossBridge_AddressNotValid</a></h3>
<pre><code class="language-solidity">error AcrossBridge_AddressNotValid();
</code></pre>
<h3 id="acrossbridge_slippagenotvalid"><a class="header" href="#acrossbridge_slippagenotvalid">AcrossBridge_SlippageNotValid</a></h3>
<pre><code class="language-solidity">error AcrossBridge_SlippageNotValid();
</code></pre>
<h3 id="acrossbridge_relayernotvalid"><a class="header" href="#acrossbridge_relayernotvalid">AcrossBridge_RelayerNotValid</a></h3>
<pre><code class="language-solidity">error AcrossBridge_RelayerNotValid();
</code></pre>
<h2 id="structs-13"><a class="header" href="#structs-13">Structs</a></h2>
<h3 id="decodedmessage"><a class="header" href="#decodedmessage">DecodedMessage</a></h3>
<pre><code class="language-solidity">struct DecodedMessage {
    uint256 inputAmount;
    uint256 outputAmount;
    address relayer;
    uint32 deadline;
    uint32 exclusivityDeadline;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="basebridge"><a class="header" href="#basebridge">BaseBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/bridges/BaseBridge.sol">Git Source</a></p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="roles-3"><a class="header" href="#roles-3">roles</a></h3>
<pre><code class="language-solidity">IRoles public roles;
</code></pre>
<h2 id="functions-61"><a class="header" href="#functions-61">Functions</a></h2>
<h3 id="constructor-13"><a class="header" href="#constructor-13">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles);
</code></pre>
<h3 id="onlybridgeconfigurator"><a class="header" href="#onlybridgeconfigurator">onlyBridgeConfigurator</a></h3>
<pre><code class="language-solidity">modifier onlyBridgeConfigurator();
</code></pre>
<h3 id="onlyrebalancer"><a class="header" href="#onlyrebalancer">onlyRebalancer</a></h3>
<pre><code class="language-solidity">modifier onlyRebalancer();
</code></pre>
<h2 id="errors-19"><a class="header" href="#errors-19">Errors</a></h2>
<h3 id="basebridge_notauthorized"><a class="header" href="#basebridge_notauthorized">BaseBridge_NotAuthorized</a></h3>
<pre><code class="language-solidity">error BaseBridge_NotAuthorized();
</code></pre>
<h3 id="basebridge_amountmismatch"><a class="header" href="#basebridge_amountmismatch">BaseBridge_AmountMismatch</a></h3>
<pre><code class="language-solidity">error BaseBridge_AmountMismatch();
</code></pre>
<h3 id="basebridge_amountnotvalid"><a class="header" href="#basebridge_amountnotvalid">BaseBridge_AmountNotValid</a></h3>
<pre><code class="language-solidity">error BaseBridge_AmountNotValid();
</code></pre>
<h3 id="basebridge_addressnotvalid"><a class="header" href="#basebridge_addressnotvalid">BaseBridge_AddressNotValid</a></h3>
<pre><code class="language-solidity">error BaseBridge_AddressNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="connextbridge"><a class="header" href="#connextbridge">ConnextBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/bridges/ConnextBridge.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rebalancer/bridges/ConnextBridge.sol//src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html">BaseBridge</a>, <a href="src/rebalancer/bridges/ConnextBridge.sol//src/interfaces/IBridge.sol/interface.IBridge.html">IBridge</a></p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="connext"><a class="header" href="#connext">connext</a></h3>
<pre><code class="language-solidity">IConnext public immutable connext;
</code></pre>
<h3 id="domainids"><a class="header" href="#domainids">domainIds</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; uint32) public domainIds;
</code></pre>
<h3 id="whitelisteddelegates"><a class="header" href="#whitelisteddelegates">whitelistedDelegates</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; bool)) public whitelistedDelegates;
</code></pre>
<h2 id="functions-62"><a class="header" href="#functions-62">Functions</a></h2>
<h3 id="constructor-14"><a class="header" href="#constructor-14">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _connext) BaseBridge(_roles);
</code></pre>
<h3 id="setdomainid"><a class="header" href="#setdomainid">setDomainId</a></h3>
<p>Set domain id</p>
<pre><code class="language-solidity">function setDomainId(uint32 _dstId, uint32 _domainId) external onlyBridgeConfigurator;
</code></pre>
<h3 id="setwhitelisteddelegate"><a class="header" href="#setwhitelisteddelegate">setWhitelistedDelegate</a></h3>
<p>Whitelists a delegate address</p>
<pre><code class="language-solidity">function setWhitelistedDelegate(uint32 _dstId, address _delegate, bool status) external onlyBridgeConfigurator;
</code></pre>
<h3 id="getfee-2"><a class="header" href="#getfee-2">getFee</a></h3>
<p>computes fee for bridge operation</p>
<pre><code class="language-solidity">function getFee(uint32, bytes memory, bytes memory) external pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="isdelegatewhitelisted"><a class="header" href="#isdelegatewhitelisted">isDelegateWhitelisted</a></h3>
<p>returns if an address represents a whitelisted delegates</p>
<pre><code class="language-solidity">function isDelegateWhitelisted(uint32 dstChain, address delegate) external view returns (bool);
</code></pre>
<h3 id="sendmsg-3"><a class="header" href="#sendmsg-3">sendMsg</a></h3>
<p>rebalance through bridge</p>
<pre><code class="language-solidity">function sendMsg(
    uint256 _extractedAmount,
    address _market,
    uint32 _dstChainId,
    address _token,
    bytes memory _message,
    bytes memory
) external payable onlyRebalancer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_extractedAmount</code></td><td><code>uint256</code></td><td>extracted amount for rebalancing</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>destination address</td></tr>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to rebalance</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_decodemessage-1"><a class="header" href="#_decodemessage-1">_decodeMessage</a></h3>
<pre><code class="language-solidity">function _decodeMessage(bytes memory _message) private pure returns (DecodedMessage memory);
</code></pre>
<h2 id="events-19"><a class="header" href="#events-19">Events</a></h2>
<h3 id="msgsent-1"><a class="header" href="#msgsent-1">MsgSent</a></h3>
<pre><code class="language-solidity">event MsgSent(uint256 indexed dstChainId, address indexed market, uint256 amountLD, uint256 slippage, bytes32 id);
</code></pre>
<h3 id="domainidset"><a class="header" href="#domainidset">DomainIdSet</a></h3>
<pre><code class="language-solidity">event DomainIdSet(uint32 indexed dstId, uint32 indexed domainId);
</code></pre>
<h3 id="whitelisteddelegatestatusupdated"><a class="header" href="#whitelisteddelegatestatusupdated">WhitelistedDelegateStatusUpdated</a></h3>
<pre><code class="language-solidity">event WhitelistedDelegateStatusUpdated(
    address indexed sender, uint32 indexed dstId, address indexed delegate, bool status
);
</code></pre>
<h2 id="errors-20"><a class="header" href="#errors-20">Errors</a></h2>
<h3 id="connext_notenoughfees"><a class="header" href="#connext_notenoughfees">Connext_NotEnoughFees</a></h3>
<pre><code class="language-solidity">error Connext_NotEnoughFees();
</code></pre>
<h3 id="connext_notimplemented"><a class="header" href="#connext_notimplemented">Connext_NotImplemented</a></h3>
<pre><code class="language-solidity">error Connext_NotImplemented();
</code></pre>
<h3 id="connext_domainidnotset"><a class="header" href="#connext_domainidnotset">Connext_DomainIdNotSet</a></h3>
<pre><code class="language-solidity">error Connext_DomainIdNotSet();
</code></pre>
<h3 id="connext_delegatenotvalid"><a class="header" href="#connext_delegatenotvalid">Connext_DelegateNotValid</a></h3>
<pre><code class="language-solidity">error Connext_DelegateNotValid();
</code></pre>
<h2 id="structs-14"><a class="header" href="#structs-14">Structs</a></h2>
<h3 id="decodedmessage-1"><a class="header" href="#decodedmessage-1">DecodedMessage</a></h3>
<pre><code class="language-solidity">struct DecodedMessage {
    address delegate;
    uint256 amount;
    uint256 slippage;
    uint256 relayerFee;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="everclearbridge"><a class="header" href="#everclearbridge">EverclearBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/bridges/EverclearBridge.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rebalancer/bridges/EverclearBridge.sol//src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html">BaseBridge</a>, <a href="src/rebalancer/bridges/EverclearBridge.sol//src/interfaces/IBridge.sol/interface.IBridge.html">IBridge</a></p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="everclearspoke"><a class="header" href="#everclearspoke">everclearSpoke</a></h3>
<pre><code class="language-solidity">IEverclearSpoke public everclearSpoke;
</code></pre>
<h2 id="functions-63"><a class="header" href="#functions-63">Functions</a></h2>
<h3 id="constructor-15"><a class="header" href="#constructor-15">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _spoke) BaseBridge(_roles);
</code></pre>
<h3 id="getfee-3"><a class="header" href="#getfee-3">getFee</a></h3>
<p>computes fee for bridge operation</p>
<pre><code class="language-solidity">function getFee(uint32, bytes memory, bytes memory) external pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="sendmsg-4"><a class="header" href="#sendmsg-4">sendMsg</a></h3>
<p>rebalance through bridge</p>
<pre><code class="language-solidity">function sendMsg(
    uint256 _extractedAmount,
    address _market,
    uint32 _dstChainId,
    address _token,
    bytes memory _message,
    bytes memory
) external payable onlyRebalancer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_extractedAmount</code></td><td><code>uint256</code></td><td>extracted amount for rebalancing</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>destination address</td></tr>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to rebalance</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h2 id="events-20"><a class="header" href="#events-20">Events</a></h2>
<h3 id="msgsent-2"><a class="header" href="#msgsent-2">MsgSent</a></h3>
<pre><code class="language-solidity">event MsgSent(uint256 indexed dstChainId, address indexed market, uint256 amountLD, bytes32 id);
</code></pre>
<h2 id="errors-21"><a class="header" href="#errors-21">Errors</a></h2>
<h3 id="everclear_notimplemented"><a class="header" href="#everclear_notimplemented">Everclear_NotImplemented</a></h3>
<pre><code class="language-solidity">error Everclear_NotImplemented();
</code></pre>
<h3 id="everclear_addressnotvalid"><a class="header" href="#everclear_addressnotvalid">Everclear_AddressNotValid</a></h3>
<pre><code class="language-solidity">error Everclear_AddressNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="lzbridge"><a class="header" href="#lzbridge">LZBridge</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/bridges/LZBridge.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rebalancer/bridges/LZBridge.sol//src/rebalancer/bridges/BaseBridge.sol/abstract.BaseBridge.html">BaseBridge</a>, <a href="src/rebalancer/bridges/LZBridge.sol//src/interfaces/IBridge.sol/interface.IBridge.html">IBridge</a></p>
<h2 id="functions-64"><a class="header" href="#functions-64">Functions</a></h2>
<h3 id="constructor-16"><a class="header" href="#constructor-16">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles) BaseBridge(_roles);
</code></pre>
<h3 id="getfee-4"><a class="header" href="#getfee-4">getFee</a></h3>
<p>computes fee for bridge operation</p>
<p><em>use <code>getOptionsData</code> for <code>_bridgeData</code></em></p>
<pre><code class="language-solidity">function getFee(uint32 _dstChainId, bytes memory _message, bytes memory _composeMsg) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>_composeMsg</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="sendmsg-5"><a class="header" href="#sendmsg-5">sendMsg</a></h3>
<p>rebalance through bridge</p>
<pre><code class="language-solidity">function sendMsg(
    uint256 _extractedAmount,
    address _market,
    uint32 _dstChainId,
    address _token,
    bytes memory _message,
    bytes memory _composeMsg
) external payable onlyRebalancer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_extractedAmount</code></td><td><code>uint256</code></td><td>extracted amount for rebalancing</td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>destination address</td></tr>
<tr><td><code>_dstChainId</code></td><td><code>uint32</code></td><td>destination chain id</td></tr>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to rebalance</td></tr>
<tr><td><code>_message</code></td><td><code>bytes</code></td><td>operation message data</td></tr>
<tr><td><code>_composeMsg</code></td><td><code>bytes</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_getfee"><a class="header" href="#_getfee">_getFee</a></h3>
<pre><code class="language-solidity">function _getFee(uint32 dstEid, bytes memory _message, bytes memory _composeMsg)
    private
    view
    returns (MessagingFee memory fees, SendParam memory lzSendParams);
</code></pre>
<h2 id="events-21"><a class="header" href="#events-21">Events</a></h2>
<h3 id="msgsent-3"><a class="header" href="#msgsent-3">MsgSent</a></h3>
<pre><code class="language-solidity">event MsgSent(uint32 indexed dstChainId, address indexed market, uint256 amountLD, uint256 minAmountLD, bytes32 guid);
</code></pre>
<h2 id="errors-22"><a class="header" href="#errors-22">Errors</a></h2>
<h3 id="lzbridge_notenoughfees"><a class="header" href="#lzbridge_notenoughfees">LZBridge_NotEnoughFees</a></h3>
<pre><code class="language-solidity">error LZBridge_NotEnoughFees();
</code></pre>
<h3 id="lzbridge_chainnotregistered"><a class="header" href="#lzbridge_chainnotregistered">LZBridge_ChainNotRegistered</a></h3>
<pre><code class="language-solidity">error LZBridge_ChainNotRegistered();
</code></pre>
<h3 id="lzbridge_destinationmismatch"><a class="header" href="#lzbridge_destinationmismatch">LZBridge_DestinationMismatch</a></h3>
<pre><code class="language-solidity">error LZBridge_DestinationMismatch();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rebalancer-1"><a class="header" href="#rebalancer-1">Rebalancer</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rebalancer/Rebalancer.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rebalancer/Rebalancer.sol//src/interfaces/IRebalancer.sol/interface.IRebalancer.html">IRebalancer</a></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="roles-4"><a class="header" href="#roles-4">roles</a></h3>
<pre><code class="language-solidity">IRoles public roles;
</code></pre>
<h3 id="nonce-1"><a class="header" href="#nonce-1">nonce</a></h3>
<pre><code class="language-solidity">uint256 public nonce;
</code></pre>
<h3 id="logs"><a class="header" href="#logs">logs</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(uint256 =&gt; Msg)) public logs;
</code></pre>
<h3 id="whitelistedbridges"><a class="header" href="#whitelistedbridges">whitelistedBridges</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public whitelistedBridges;
</code></pre>
<h3 id="whitelisteddestinations"><a class="header" href="#whitelisteddestinations">whitelistedDestinations</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; bool) public whitelistedDestinations;
</code></pre>
<h3 id="allowedlist"><a class="header" href="#allowedlist">allowedList</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; bool) public allowedList;
</code></pre>
<h3 id="saveaddress"><a class="header" href="#saveaddress">saveAddress</a></h3>
<pre><code class="language-solidity">address public saveAddress;
</code></pre>
<h3 id="maxtransfersizes"><a class="header" href="#maxtransfersizes">maxTransferSizes</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; uint256)) public maxTransferSizes;
</code></pre>
<h3 id="mintransfersizes"><a class="header" href="#mintransfersizes">minTransferSizes</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; uint256)) public minTransferSizes;
</code></pre>
<h3 id="currenttransfersize"><a class="header" href="#currenttransfersize">currentTransferSize</a></h3>
<pre><code class="language-solidity">mapping(uint32 =&gt; mapping(address =&gt; TransferInfo)) public currentTransferSize;
</code></pre>
<h3 id="transfertimewindow"><a class="header" href="#transfertimewindow">transferTimeWindow</a></h3>
<pre><code class="language-solidity">uint256 public transferTimeWindow;
</code></pre>
<h2 id="functions-65"><a class="header" href="#functions-65">Functions</a></h2>
<h3 id="constructor-17"><a class="header" href="#constructor-17">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _saveAddress);
</code></pre>
<h3 id="setallowlist"><a class="header" href="#setallowlist">setAllowList</a></h3>
<pre><code class="language-solidity">function setAllowList(address[] calldata list, bool status) external;
</code></pre>
<h3 id="setwhitelistedbridgestatus"><a class="header" href="#setwhitelistedbridgestatus">setWhitelistedBridgeStatus</a></h3>
<pre><code class="language-solidity">function setWhitelistedBridgeStatus(address _bridge, bool _status) external;
</code></pre>
<h3 id="setwhitelisteddestination"><a class="header" href="#setwhitelisteddestination">setWhitelistedDestination</a></h3>
<pre><code class="language-solidity">function setWhitelistedDestination(uint32 _dstId, bool _status) external;
</code></pre>
<h3 id="saveeth"><a class="header" href="#saveeth">saveEth</a></h3>
<pre><code class="language-solidity">function saveEth() external;
</code></pre>
<h3 id="setmintransfersize"><a class="header" href="#setmintransfersize">setMinTransferSize</a></h3>
<pre><code class="language-solidity">function setMinTransferSize(uint32 _dstChainId, address _token, uint256 _limit) external;
</code></pre>
<h3 id="setmaxtransfersize"><a class="header" href="#setmaxtransfersize">setMaxTransferSize</a></h3>
<pre><code class="language-solidity">function setMaxTransferSize(uint32 _dstChainId, address _token, uint256 _limit) external;
</code></pre>
<h3 id="isbridgewhitelisted-1"><a class="header" href="#isbridgewhitelisted-1">isBridgeWhitelisted</a></h3>
<p>returns if a bridge implementation is whitelisted</p>
<pre><code class="language-solidity">function isBridgeWhitelisted(address bridge) external view returns (bool);
</code></pre>
<h3 id="isdestinationwhitelisted-1"><a class="header" href="#isdestinationwhitelisted-1">isDestinationWhitelisted</a></h3>
<p>returns if a destination is whitelisted</p>
<pre><code class="language-solidity">function isDestinationWhitelisted(uint32 dstId) external view returns (bool);
</code></pre>
<h3 id="sendmsg-6"><a class="header" href="#sendmsg-6">sendMsg</a></h3>
<p>sends a bridge message</p>
<pre><code class="language-solidity">function sendMsg(address _bridge, address _market, uint256 _amount, Msg calldata _msg) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_bridge</code></td><td><code>address</code></td><td></td></tr>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the market to rebalance from address</td></tr>
<tr><td><code>_amount</code></td><td><code>uint256</code></td><td>the amount to rebalance</td></tr>
<tr><td><code>_msg</code></td><td><code>Msg</code></td><td></td></tr>
</tbody></table>
</div>
<h2 id="structs-15"><a class="header" href="#structs-15">Structs</a></h2>
<h3 id="transferinfo"><a class="header" href="#transferinfo">TransferInfo</a></h3>
<pre><code class="language-solidity">struct TransferInfo {
    uint256 size;
    uint256 timestamp;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-21"><a class="header" href="#contents-21">Contents</a></h1>
<ul>
<li><a href="src/referral/ReferralSigning.sol/contract.ReferralSigning.html">ReferralSigning</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="referralsigning"><a class="header" href="#referralsigning">ReferralSigning</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/referral/ReferralSigning.sol">Git Source</a></p>
<h2 id="state-variables-19"><a class="header" href="#state-variables-19">State Variables</a></h2>
<h3 id="referredbyregistry"><a class="header" href="#referredbyregistry">referredByRegistry</a></h3>
<pre><code class="language-solidity">mapping(address referredBy =&gt; mapping(address user =&gt; bool wasReferred)) public referredByRegistry;
</code></pre>
<h3 id="referralsforuserregistry"><a class="header" href="#referralsforuserregistry">referralsForUserRegistry</a></h3>
<pre><code class="language-solidity">mapping(address user =&gt; address referredBy) public referralsForUserRegistry;
</code></pre>
<h3 id="referralregistry"><a class="header" href="#referralregistry">referralRegistry</a></h3>
<pre><code class="language-solidity">mapping(address referredBy =&gt; address[] users) public referralRegistry;
</code></pre>
<h3 id="totalreferred"><a class="header" href="#totalreferred">totalReferred</a></h3>
<pre><code class="language-solidity">mapping(address referredBy =&gt; uint256 total) public totalReferred;
</code></pre>
<h3 id="isuserreferred"><a class="header" href="#isuserreferred">isUserReferred</a></h3>
<pre><code class="language-solidity">mapping(address user =&gt; bool wasReferred) public isUserReferred;
</code></pre>
<h3 id="nonces"><a class="header" href="#nonces">nonces</a></h3>
<pre><code class="language-solidity">mapping(address user =&gt; uint256 nonce) public nonces;
</code></pre>
<h2 id="functions-66"><a class="header" href="#functions-66">Functions</a></h2>
<h3 id="onlynewuser"><a class="header" href="#onlynewuser">onlyNewUser</a></h3>
<pre><code class="language-solidity">modifier onlyNewUser();
</code></pre>
<h3 id="claimreferral"><a class="header" href="#claimreferral">claimReferral</a></h3>
<pre><code class="language-solidity">function claimReferral(bytes calldata signature, address referrer) external onlyNewUser;
</code></pre>
<h2 id="events-22"><a class="header" href="#events-22">Events</a></h2>
<h3 id="referralclaimed"><a class="header" href="#referralclaimed">ReferralClaimed</a></h3>
<pre><code class="language-solidity">event ReferralClaimed(address indexed referred, address indexed referrer);
</code></pre>
<h3 id="referralrejected"><a class="header" href="#referralrejected">ReferralRejected</a></h3>
<pre><code class="language-solidity">event ReferralRejected(address indexed referred, address indexed referrer, string reason);
</code></pre>
<h2 id="errors-23"><a class="header" href="#errors-23">Errors</a></h2>
<h3 id="referralsigning_sameuser"><a class="header" href="#referralsigning_sameuser">ReferralSigning_SameUser</a></h3>
<pre><code class="language-solidity">error ReferralSigning_SameUser();
</code></pre>
<h3 id="referralsigning_invalidsignature"><a class="header" href="#referralsigning_invalidsignature">ReferralSigning_InvalidSignature</a></h3>
<pre><code class="language-solidity">error ReferralSigning_InvalidSignature();
</code></pre>
<h3 id="referralsigning_useralreadyreferred"><a class="header" href="#referralsigning_useralreadyreferred">ReferralSigning_UserAlreadyReferred</a></h3>
<pre><code class="language-solidity">error ReferralSigning_UserAlreadyReferred();
</code></pre>
<h3 id="referralsigning_contractreferrernotallowed"><a class="header" href="#referralsigning_contractreferrernotallowed">ReferralSigning_ContractReferrerNotAllowed</a></h3>
<pre><code class="language-solidity">error ReferralSigning_ContractReferrerNotAllowed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-22"><a class="header" href="#contents-22">Contents</a></h1>
<ul>
<li><a href="src/rewards/RewardDistributor.sol/contract.RewardDistributor.html">RewardDistributor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rewarddistributor-2"><a class="header" href="#rewarddistributor-2">RewardDistributor</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/rewards/RewardDistributor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src/rewards/RewardDistributor.sol//src/interfaces/IRewardDistributor.sol/interface.IRewardDistributor.html">IRewardDistributor</a>, <a href="src/rewards/RewardDistributor.sol//src/utils/ExponentialNoError.sol/abstract.ExponentialNoError.html">ExponentialNoError</a>, Initializable, OwnableUpgradeable, ReentrancyGuardUpgradeable</p>
<h2 id="state-variables-20"><a class="header" href="#state-variables-20">State Variables</a></h2>
<h3 id="reward_initial_index"><a class="header" href="#reward_initial_index">REWARD_INITIAL_INDEX</a></h3>
<pre><code class="language-solidity">uint224 public constant REWARD_INITIAL_INDEX = 1e36;
</code></pre>
<h3 id="operator-5"><a class="header" href="#operator-5">operator</a></h3>
<p>The operator that rewards are distributed to</p>
<pre><code class="language-solidity">address public operator;
</code></pre>
<h3 id="rewardmarketstate-1"><a class="header" href="#rewardmarketstate-1">rewardMarketState</a></h3>
<p>The Reward state for each reward token for each market</p>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; IRewardDistributorData.RewardMarketState)) public rewardMarketState;
</code></pre>
<h3 id="rewardaccountstate-1"><a class="header" href="#rewardaccountstate-1">rewardAccountState</a></h3>
<p>The Reward state for each reward token for each account</p>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; IRewardDistributorData.RewardAccountState)) public rewardAccountState;
</code></pre>
<h3 id="rewardtokens"><a class="header" href="#rewardtokens">rewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">address[] public rewardTokens;
</code></pre>
<h3 id="isrewardtoken-1"><a class="header" href="#isrewardtoken-1">isRewardToken</a></h3>
<p>Flag to check if reward token added before</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isRewardToken;
</code></pre>
<h2 id="functions-67"><a class="header" href="#functions-67">Functions</a></h2>
<h3 id="onlyoperator"><a class="header" href="#onlyoperator">onlyOperator</a></h3>
<pre><code class="language-solidity">modifier onlyOperator();
</code></pre>
<h3 id="constructor-18"><a class="header" href="#constructor-18">constructor</a></h3>
<p><strong>Note:</strong>
oz-upgrades-unsafe-allow: constructor</p>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="claim-2"><a class="header" href="#claim-2">claim</a></h3>
<pre><code class="language-solidity">function claim(address[] memory holders) public override nonReentrant;
</code></pre>
<h3 id="getblocktimestamp-1"><a class="header" href="#getblocktimestamp-1">getBlockTimestamp</a></h3>
<p>Get block timestamp</p>
<pre><code class="language-solidity">function getBlockTimestamp() public view override returns (uint32);
</code></pre>
<h3 id="getrewardtokens-1"><a class="header" href="#getrewardtokens-1">getRewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">function getRewardTokens() public view override returns (address[] memory);
</code></pre>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _owner) public initializer;
</code></pre>
<h3 id="setoperator-1"><a class="header" href="#setoperator-1">setOperator</a></h3>
<pre><code class="language-solidity">function setOperator(address _operator) external onlyOwner;
</code></pre>
<h3 id="whitelisttoken"><a class="header" href="#whitelisttoken">whitelistToken</a></h3>
<pre><code class="language-solidity">function whitelistToken(address rewardToken_) public onlyOwner;
</code></pre>
<h3 id="updaterewardspeeds"><a class="header" href="#updaterewardspeeds">updateRewardSpeeds</a></h3>
<pre><code class="language-solidity">function updateRewardSpeeds(
    address rewardToken_,
    address[] memory mTokens,
    uint256[] memory supplySpeeds,
    uint256[] memory borrowSpeeds
) public onlyOwner;
</code></pre>
<h3 id="grantreward"><a class="header" href="#grantreward">grantReward</a></h3>
<pre><code class="language-solidity">function grantReward(address token, address user, uint256 amount) public onlyOwner;
</code></pre>
<h3 id="notifysupplyindex-1"><a class="header" href="#notifysupplyindex-1">notifySupplyIndex</a></h3>
<p>Notifies supply index</p>
<pre><code class="language-solidity">function notifySupplyIndex(address mToken) external override onlyOperator;
</code></pre>
<h3 id="notifyborrowindex-1"><a class="header" href="#notifyborrowindex-1">notifyBorrowIndex</a></h3>
<p>Notifies borrow index</p>
<pre><code class="language-solidity">function notifyBorrowIndex(address mToken) external override onlyOperator;
</code></pre>
<h3 id="notifysupplier-1"><a class="header" href="#notifysupplier-1">notifySupplier</a></h3>
<p>Notifies supplier</p>
<pre><code class="language-solidity">function notifySupplier(address mToken, address supplier) external override onlyOperator;
</code></pre>
<h3 id="notifyborrower-1"><a class="header" href="#notifyborrower-1">notifyBorrower</a></h3>
<p>Notifies borrower</p>
<pre><code class="language-solidity">function notifyBorrower(address mToken, address borrower) external override onlyOperator;
</code></pre>
<h3 id="_updaterewardspeed"><a class="header" href="#_updaterewardspeed">_updateRewardSpeed</a></h3>
<pre><code class="language-solidity">function _updateRewardSpeed(address rewardToken, address mToken, uint256 supplySpeed, uint256 borrowSpeed) private;
</code></pre>
<h3 id="_notifysupplyindex"><a class="header" href="#_notifysupplyindex">_notifySupplyIndex</a></h3>
<pre><code class="language-solidity">function _notifySupplyIndex(address rewardToken, address mToken) private;
</code></pre>
<h3 id="_notifyborrowindex"><a class="header" href="#_notifyborrowindex">_notifyBorrowIndex</a></h3>
<pre><code class="language-solidity">function _notifyBorrowIndex(address rewardToken, address mToken) private;
</code></pre>
<h3 id="_notifysupplier"><a class="header" href="#_notifysupplier">_notifySupplier</a></h3>
<pre><code class="language-solidity">function _notifySupplier(address rewardToken, address mToken, address supplier) private;
</code></pre>
<h3 id="_notifyborrower"><a class="header" href="#_notifyborrower">_notifyBorrower</a></h3>
<pre><code class="language-solidity">function _notifyBorrower(address rewardToken, address mToken, address borrower) private;
</code></pre>
<h3 id="_claim-1"><a class="header" href="#_claim-1">_claim</a></h3>
<pre><code class="language-solidity">function _claim(address rewardToken, address[] memory holders) internal;
</code></pre>
<h3 id="_grantreward"><a class="header" href="#_grantreward">_grantReward</a></h3>
<pre><code class="language-solidity">function _grantReward(address token, address user, uint256 amount) internal returns (uint256);
</code></pre>
<h2 id="errors-24"><a class="header" href="#errors-24">Errors</a></h2>
<h3 id="rewarddistributor_onlyoperator"><a class="header" href="#rewarddistributor_onlyoperator">RewardDistributor_OnlyOperator</a></h3>
<pre><code class="language-solidity">error RewardDistributor_OnlyOperator();
</code></pre>
<h3 id="rewarddistributor_transferfailed"><a class="header" href="#rewarddistributor_transferfailed">RewardDistributor_TransferFailed</a></h3>
<pre><code class="language-solidity">error RewardDistributor_TransferFailed();
</code></pre>
<h3 id="rewarddistributor_rewardnotvalid"><a class="header" href="#rewarddistributor_rewardnotvalid">RewardDistributor_RewardNotValid</a></h3>
<pre><code class="language-solidity">error RewardDistributor_RewardNotValid();
</code></pre>
<h3 id="rewarddistributor_addressnotvalid"><a class="header" href="#rewarddistributor_addressnotvalid">RewardDistributor_AddressNotValid</a></h3>
<pre><code class="language-solidity">error RewardDistributor_AddressNotValid();
</code></pre>
<h3 id="rewarddistributor_addressalreadyregistered"><a class="header" href="#rewarddistributor_addressalreadyregistered">RewardDistributor_AddressAlreadyRegistered</a></h3>
<pre><code class="language-solidity">error RewardDistributor_AddressAlreadyRegistered();
</code></pre>
<h3 id="rewarddistributor_supplyspeedarraylengthmismatch"><a class="header" href="#rewarddistributor_supplyspeedarraylengthmismatch">RewardDistributor_SupplySpeedArrayLengthMismatch</a></h3>
<pre><code class="language-solidity">error RewardDistributor_SupplySpeedArrayLengthMismatch();
</code></pre>
<h3 id="rewarddistributor_borrowspeedarraylengthmismatch"><a class="header" href="#rewarddistributor_borrowspeedarraylengthmismatch">RewardDistributor_BorrowSpeedArrayLengthMismatch</a></h3>
<pre><code class="language-solidity">error RewardDistributor_BorrowSpeedArrayLengthMismatch();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-23"><a class="header" href="#contents-23">Contents</a></h1>
<ul>
<li><a href="src/utils/Deployer.sol/contract.Deployer.html">Deployer</a></li>
<li><a href="src/utils/ExponentialNoError.sol/abstract.ExponentialNoError.html">ExponentialNoError</a></li>
<li><a href="src/utils/LiquidationHelper.sol/contract.LiquidationHelper.html">LiquidationHelper</a></li>
<li><a href="src/utils/WrapAndSupply.sol/interface.IWrappedNative.html">IWrappedNative</a></li>
<li><a href="src/utils/WrapAndSupply.sol/contract.WrapAndSupply.html">WrapAndSupply</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployer"><a class="header" href="#deployer">Deployer</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/utils/Deployer.sol">Git Source</a></p>
<h2 id="state-variables-21"><a class="header" href="#state-variables-21">State Variables</a></h2>
<h3 id="admin-2"><a class="header" href="#admin-2">admin</a></h3>
<pre><code class="language-solidity">address public admin;
</code></pre>
<h3 id="pendingadmin-2"><a class="header" href="#pendingadmin-2">pendingAdmin</a></h3>
<pre><code class="language-solidity">address public pendingAdmin;
</code></pre>
<h2 id="functions-68"><a class="header" href="#functions-68">Functions</a></h2>
<h3 id="onlyadmin-1"><a class="header" href="#onlyadmin-1">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="constructor-19"><a class="header" href="#constructor-19">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _admin);
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="setpendingadmin-1"><a class="header" href="#setpendingadmin-1">setPendingAdmin</a></h3>
<pre><code class="language-solidity">function setPendingAdmin(address newAdmin) external onlyAdmin;
</code></pre>
<h3 id="saveeth-1"><a class="header" href="#saveeth-1">saveEth</a></h3>
<pre><code class="language-solidity">function saveEth() external;
</code></pre>
<h3 id="setnewadmin"><a class="header" href="#setnewadmin">setNewAdmin</a></h3>
<pre><code class="language-solidity">function setNewAdmin(address _addr) external;
</code></pre>
<h3 id="precompute"><a class="header" href="#precompute">precompute</a></h3>
<pre><code class="language-solidity">function precompute(bytes32 salt) external view returns (address);
</code></pre>
<h3 id="create"><a class="header" href="#create">create</a></h3>
<pre><code class="language-solidity">function create(bytes32 salt, bytes memory code) external payable onlyAdmin returns (address);
</code></pre>
<h3 id="acceptadmin-1"><a class="header" href="#acceptadmin-1">acceptAdmin</a></h3>
<pre><code class="language-solidity">function acceptAdmin() external;
</code></pre>
<h2 id="events-23"><a class="header" href="#events-23">Events</a></h2>
<h3 id="adminset"><a class="header" href="#adminset">AdminSet</a></h3>
<pre><code class="language-solidity">event AdminSet(address indexed _admin);
</code></pre>
<h3 id="pendingadminset"><a class="header" href="#pendingadminset">PendingAdminSet</a></h3>
<pre><code class="language-solidity">event PendingAdminSet(address indexed _admin);
</code></pre>
<h3 id="adminaccepted"><a class="header" href="#adminaccepted">AdminAccepted</a></h3>
<pre><code class="language-solidity">event AdminAccepted(address indexed _admin);
</code></pre>
<h2 id="errors-25"><a class="header" href="#errors-25">Errors</a></h2>
<h3 id="notauthorized"><a class="header" href="#notauthorized">NotAuthorized</a></h3>
<pre><code class="language-solidity">error NotAuthorized(address admin, address sender);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exponentialnoerror"><a class="header" href="#exponentialnoerror">ExponentialNoError</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/utils/ExponentialNoError.sol">Git Source</a></p>
<p><strong>Author:</strong>
Compound</p>
<p>Exp is a struct which stores decimals with a fixed precision of 18 decimal places.
Thus, if we wanted to store the 5.1, mantissa would store 5.1e18. That is:
<code>Exp({mantissa: 5100000000000000000})</code>.</p>
<h2 id="state-variables-22"><a class="header" href="#state-variables-22">State Variables</a></h2>
<h3 id="expscale"><a class="header" href="#expscale">expScale</a></h3>
<pre><code class="language-solidity">uint256 constant expScale = 1e18;
</code></pre>
<h3 id="doublescale"><a class="header" href="#doublescale">doubleScale</a></h3>
<pre><code class="language-solidity">uint256 constant doubleScale = 1e36;
</code></pre>
<h3 id="halfexpscale"><a class="header" href="#halfexpscale">halfExpScale</a></h3>
<pre><code class="language-solidity">uint256 constant halfExpScale = expScale / 2;
</code></pre>
<h3 id="mantissaone"><a class="header" href="#mantissaone">mantissaOne</a></h3>
<pre><code class="language-solidity">uint256 constant mantissaOne = expScale;
</code></pre>
<h2 id="functions-69"><a class="header" href="#functions-69">Functions</a></h2>
<h3 id="truncate"><a class="header" href="#truncate">truncate</a></h3>
<p><em>Truncates the given exp to a whole number value.
For example, truncate(Exp{mantissa: 15 * expScale}) = 15</em></p>
<pre><code class="language-solidity">function truncate(Exp memory exp) internal pure returns (uint256);
</code></pre>
<h3 id="mul_scalartruncate"><a class="header" href="#mul_scalartruncate">mul_ScalarTruncate</a></h3>
<p><em>Multiply an Exp by a scalar, then truncate to return an unsigned integer.</em></p>
<pre><code class="language-solidity">function mul_ScalarTruncate(Exp memory a, uint256 scalar) internal pure returns (uint256);
</code></pre>
<h3 id="mul_scalartruncateadduint"><a class="header" href="#mul_scalartruncateadduint">mul_ScalarTruncateAddUInt</a></h3>
<p><em>Multiply an Exp by a scalar, truncate, then add an to an unsigned integer, returning an unsigned integer.</em></p>
<pre><code class="language-solidity">function mul_ScalarTruncateAddUInt(Exp memory a, uint256 scalar, uint256 addend) internal pure returns (uint256);
</code></pre>
<h3 id="lessthanexp"><a class="header" href="#lessthanexp">lessThanExp</a></h3>
<p><em>Checks if first Exp is less than second Exp.</em></p>
<pre><code class="language-solidity">function lessThanExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="lessthanorequalexp"><a class="header" href="#lessthanorequalexp">lessThanOrEqualExp</a></h3>
<p><em>Checks if left Exp &lt;= right Exp.</em></p>
<pre><code class="language-solidity">function lessThanOrEqualExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="greaterthanexp"><a class="header" href="#greaterthanexp">greaterThanExp</a></h3>
<p><em>Checks if left Exp &gt; right Exp.</em></p>
<pre><code class="language-solidity">function greaterThanExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="iszeroexp"><a class="header" href="#iszeroexp">isZeroExp</a></h3>
<p><em>returns true if Exp is exactly zero</em></p>
<pre><code class="language-solidity">function isZeroExp(Exp memory value) internal pure returns (bool);
</code></pre>
<h3 id="safe224"><a class="header" href="#safe224">safe224</a></h3>
<pre><code class="language-solidity">function safe224(uint256 n, string memory errorMessage) internal pure returns (uint224);
</code></pre>
<h3 id="safe32"><a class="header" href="#safe32">safe32</a></h3>
<pre><code class="language-solidity">function safe32(uint256 n, string memory errorMessage) internal pure returns (uint32);
</code></pre>
<h3 id="add_"><a class="header" href="#add_">add_</a></h3>
<pre><code class="language-solidity">function add_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="add_-1"><a class="header" href="#add_-1">add_</a></h3>
<pre><code class="language-solidity">function add_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="add_-2"><a class="header" href="#add_-2">add_</a></h3>
<pre><code class="language-solidity">function add_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub_"><a class="header" href="#sub_">sub_</a></h3>
<pre><code class="language-solidity">function sub_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="sub_-1"><a class="header" href="#sub_-1">sub_</a></h3>
<pre><code class="language-solidity">function sub_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="sub_-2"><a class="header" href="#sub_-2">sub_</a></h3>
<pre><code class="language-solidity">function sub_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_"><a class="header" href="#mul_">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="mul_-1"><a class="header" href="#mul_-1">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Exp memory a, uint256 b) internal pure returns (Exp memory);
</code></pre>
<h3 id="mul_-2"><a class="header" href="#mul_-2">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, Exp memory b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_-3"><a class="header" href="#mul_-3">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="mul_-4"><a class="header" href="#mul_-4">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Double memory a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h3 id="mul_-5"><a class="header" href="#mul_-5">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, Double memory b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_-6"><a class="header" href="#mul_-6">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div_"><a class="header" href="#div_">div_</a></h3>
<pre><code class="language-solidity">function div_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="div_-1"><a class="header" href="#div_-1">div_</a></h3>
<pre><code class="language-solidity">function div_(Exp memory a, uint256 b) internal pure returns (Exp memory);
</code></pre>
<h3 id="div_-2"><a class="header" href="#div_-2">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, Exp memory b) internal pure returns (uint256);
</code></pre>
<h3 id="div_-3"><a class="header" href="#div_-3">div_</a></h3>
<pre><code class="language-solidity">function div_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="div_-4"><a class="header" href="#div_-4">div_</a></h3>
<pre><code class="language-solidity">function div_(Double memory a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h3 id="div_-5"><a class="header" href="#div_-5">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, Double memory b) internal pure returns (uint256);
</code></pre>
<h3 id="div_-6"><a class="header" href="#div_-6">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="fraction"><a class="header" href="#fraction">fraction</a></h3>
<pre><code class="language-solidity">function fraction(uint256 a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h2 id="structs-16"><a class="header" href="#structs-16">Structs</a></h2>
<h3 id="exp"><a class="header" href="#exp">Exp</a></h3>
<pre><code class="language-solidity">struct Exp {
    uint256 mantissa;
}
</code></pre>
<h3 id="double"><a class="header" href="#double">Double</a></h3>
<pre><code class="language-solidity">struct Double {
    uint256 mantissa;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="liquidationhelper"><a class="header" href="#liquidationhelper">LiquidationHelper</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/utils/LiquidationHelper.sol">Git Source</a></p>
<h2 id="functions-70"><a class="header" href="#functions-70">Functions</a></h2>
<h3 id="getborrowerposition"><a class="header" href="#getborrowerposition">getBorrowerPosition</a></h3>
<pre><code class="language-solidity">function getBorrowerPosition(address borrower, address market)
    external
    view
    returns (bool shouldLiquidate, uint256 repayAmount);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iwrappednative"><a class="header" href="#iwrappednative">IWrappedNative</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/utils/WrapAndSupply.sol">Git Source</a></p>
<h2 id="functions-71"><a class="header" href="#functions-71">Functions</a></h2>
<h3 id="deposit"><a class="header" href="#deposit">deposit</a></h3>
<pre><code class="language-solidity">function deposit() external payable;
</code></pre>
<h3 id="transfer-3"><a class="header" href="#transfer-3">transfer</a></h3>
<pre><code class="language-solidity">function transfer(address to, uint256 value) external returns (bool);
</code></pre>
<h3 id="withdraw"><a class="header" href="#withdraw">withdraw</a></h3>
<pre><code class="language-solidity">function withdraw(uint256) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="wrapandsupply"><a class="header" href="#wrapandsupply">WrapAndSupply</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/utils/WrapAndSupply.sol">Git Source</a></p>
<h2 id="state-variables-23"><a class="header" href="#state-variables-23">State Variables</a></h2>
<h3 id="wrappednative"><a class="header" href="#wrappednative">wrappedNative</a></h3>
<pre><code class="language-solidity">IWrappedNative public immutable wrappedNative;
</code></pre>
<h2 id="functions-72"><a class="header" href="#functions-72">Functions</a></h2>
<h3 id="constructor-20"><a class="header" href="#constructor-20">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _wrappedNative);
</code></pre>
<h3 id="wrapandsupplyonhostmarket"><a class="header" href="#wrapandsupplyonhostmarket">wrapAndSupplyOnHostMarket</a></h3>
<p>Wraps a native coin into its wrapped version and supplies on a host market</p>
<pre><code class="language-solidity">function wrapAndSupplyOnHostMarket(address mToken, address receiver, uint256 minAmount) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market address</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The mToken receiver</td></tr>
<tr><td><code>minAmount</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="wrapandsupplyonextensionmarket"><a class="header" href="#wrapandsupplyonextensionmarket">wrapAndSupplyOnExtensionMarket</a></h3>
<p>Wraps a native coin into its wrapped version and supplies on an extension market</p>
<pre><code class="language-solidity">function wrapAndSupplyOnExtensionMarket(address mTokenGateway, address receiver, bytes4 selector) external payable;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenGateway</code></td><td><code>address</code></td><td>The market address</td></tr>
<tr><td><code>receiver</code></td><td><code>address</code></td><td>The receiver</td></tr>
<tr><td><code>selector</code></td><td><code>bytes4</code></td><td>The host chain function selector</td></tr>
</tbody></table>
</div>
<h3 id="_wrap"><a class="header" href="#_wrap">_wrap</a></h3>
<pre><code class="language-solidity">function _wrap() private returns (uint256);
</code></pre>
<h2 id="events-24"><a class="header" href="#events-24">Events</a></h2>
<h3 id="wrappedandsupplied"><a class="header" href="#wrappedandsupplied">WrappedAndSupplied</a></h3>
<pre><code class="language-solidity">event WrappedAndSupplied(address indexed sender, address indexed receiver, address indexed market, uint256 amount);
</code></pre>
<h2 id="errors-26"><a class="header" href="#errors-26">Errors</a></h2>
<h3 id="wrapandsupply_addressnotvalid"><a class="header" href="#wrapandsupply_addressnotvalid">WrapAndSupply_AddressNotValid</a></h3>
<pre><code class="language-solidity">error WrapAndSupply_AddressNotValid();
</code></pre>
<h3 id="wrapandsupply_amountnotvalid"><a class="header" href="#wrapandsupply_amountnotvalid">WrapAndSupply_AmountNotValid</a></h3>
<pre><code class="language-solidity">error WrapAndSupply_AmountNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-24"><a class="header" href="#contents-24">Contents</a></h1>
<ul>
<li><a href="src/verifier/ZkVerifier.sol/interface.IZkVerifier.html">IZkVerifier</a></li>
<li><a href="src/verifier/ZkVerifier.sol/contract.ZkVerifier.html">ZkVerifier</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="izkverifier"><a class="header" href="#izkverifier">IZkVerifier</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/verifier/ZkVerifier.sol">Git Source</a></p>
<h2 id="functions-73"><a class="header" href="#functions-73">Functions</a></h2>
<h3 id="verifyinput"><a class="header" href="#verifyinput">verifyInput</a></h3>
<pre><code class="language-solidity">function verifyInput(bytes calldata journalEntry, bytes calldata seal) external view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zkverifier"><a class="header" href="#zkverifier">ZkVerifier</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/verifier/ZkVerifier.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src/verifier/ZkVerifier.sol//src/verifier/ZkVerifier.sol/interface.IZkVerifier.html">IZkVerifier</a></p>
<h2 id="state-variables-24"><a class="header" href="#state-variables-24">State Variables</a></h2>
<h3 id="verifier-3"><a class="header" href="#verifier-3">verifier</a></h3>
<pre><code class="language-solidity">IRiscZeroVerifier public verifier;
</code></pre>
<h3 id="imageid"><a class="header" href="#imageid">imageId</a></h3>
<pre><code class="language-solidity">bytes32 public imageId;
</code></pre>
<h2 id="functions-74"><a class="header" href="#functions-74">Functions</a></h2>
<h3 id="constructor-21"><a class="header" href="#constructor-21">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner, bytes32 _imageId, address _verifier) Ownable(_owner);
</code></pre>
<h3 id="setverifier"><a class="header" href="#setverifier">setVerifier</a></h3>
<p>Sets the _risc0Verifier address</p>
<p><em>Admin check is needed on the external method</em></p>
<pre><code class="language-solidity">function setVerifier(address _risc0Verifier) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_risc0Verifier</code></td><td><code>address</code></td><td>the new IRiscZeroVerifier address</td></tr>
</tbody></table>
</div>
<h3 id="setimageid"><a class="header" href="#setimageid">setImageId</a></h3>
<p>Sets the image id</p>
<p><em>Admin check is needed on the external method</em></p>
<pre><code class="language-solidity">function setImageId(bytes32 _imageId) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageId</code></td><td><code>bytes32</code></td><td>the new image id</td></tr>
</tbody></table>
</div>
<h3 id="verifyinput-1"><a class="header" href="#verifyinput-1">verifyInput</a></h3>
<p>Verifies an input</p>
<pre><code class="language-solidity">function verifyInput(bytes calldata journalEntry, bytes calldata seal) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalEntry</code></td><td><code>bytes</code></td><td>the risc0 journal entry</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>the risc0 seal</td></tr>
</tbody></table>
</div>
<h3 id="_checkaddresses"><a class="header" href="#_checkaddresses">_checkAddresses</a></h3>
<pre><code class="language-solidity">function _checkAddresses() private view;
</code></pre>
<h3 id="__verify"><a class="header" href="#__verify">__verify</a></h3>
<pre><code class="language-solidity">function __verify(bytes calldata journalEntry, bytes calldata seal) private view;
</code></pre>
<h2 id="events-25"><a class="header" href="#events-25">Events</a></h2>
<h3 id="imageset"><a class="header" href="#imageset">ImageSet</a></h3>
<pre><code class="language-solidity">event ImageSet(bytes32 _imageId);
</code></pre>
<h3 id="verifierset"><a class="header" href="#verifierset">VerifierSet</a></h3>
<pre><code class="language-solidity">event VerifierSet(address indexed oldVerifier, address indexed newVerifier);
</code></pre>
<h2 id="errors-27"><a class="header" href="#errors-27">Errors</a></h2>
<h3 id="zkverifier_imagenotvalid"><a class="header" href="#zkverifier_imagenotvalid">ZkVerifier_ImageNotValid</a></h3>
<pre><code class="language-solidity">error ZkVerifier_ImageNotValid();
</code></pre>
<h3 id="zkverifier_inputnotvalid"><a class="header" href="#zkverifier_inputnotvalid">ZkVerifier_InputNotValid</a></h3>
<pre><code class="language-solidity">error ZkVerifier_InputNotValid();
</code></pre>
<h3 id="zkverifier_verifiernotset"><a class="header" href="#zkverifier_verifiernotset">ZkVerifier_VerifierNotSet</a></h3>
<pre><code class="language-solidity">error ZkVerifier_VerifierNotSet();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="counter"><a class="header" href="#counter">Counter</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/Counter.sol">Git Source</a></p>
<h2 id="state-variables-25"><a class="header" href="#state-variables-25">State Variables</a></h2>
<h3 id="number"><a class="header" href="#number">number</a></h3>
<pre><code class="language-solidity">uint256 public number;
</code></pre>
<h2 id="functions-75"><a class="header" href="#functions-75">Functions</a></h2>
<h3 id="setnumber"><a class="header" href="#setnumber">setNumber</a></h3>
<pre><code class="language-solidity">function setNumber(uint256 newNumber) public;
</code></pre>
<h3 id="increment"><a class="header" href="#increment">increment</a></h3>
<pre><code class="language-solidity">function increment() public;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roles-5"><a class="header" href="#roles-5">Roles</a></h1>
<p><a href="https://github.com/malda-protocol/malda-lending/blob/46ffe4f96e87e12ea92a35f2ba728f08edbf4246/src/Roles.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src/Roles.sol//src/interfaces/IRoles.sol/interface.IRoles.html">IRoles</a></p>
<h2 id="state-variables-26"><a class="header" href="#state-variables-26">State Variables</a></h2>
<h3 id="_roles"><a class="header" href="#_roles">_roles</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(bytes32 =&gt; bool)) private _roles;
</code></pre>
<h3 id="rebalancer-2"><a class="header" href="#rebalancer-2">REBALANCER</a></h3>
<pre><code class="language-solidity">bytes32 public constant REBALANCER = keccak256(&quot;REBALANCER&quot;);
</code></pre>
<h3 id="pause_manager-1"><a class="header" href="#pause_manager-1">PAUSE_MANAGER</a></h3>
<pre><code class="language-solidity">bytes32 public constant PAUSE_MANAGER = keccak256(&quot;PAUSE_MANAGER&quot;);
</code></pre>
<h3 id="rebalancer_eoa-1"><a class="header" href="#rebalancer_eoa-1">REBALANCER_EOA</a></h3>
<pre><code class="language-solidity">bytes32 public constant REBALANCER_EOA = keccak256(&quot;REBALANCER_EOA&quot;);
</code></pre>
<h3 id="guardian_pause-1"><a class="header" href="#guardian_pause-1">GUARDIAN_PAUSE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_PAUSE = keccak256(&quot;GUARDIAN_PAUSE&quot;);
</code></pre>
<h3 id="chains_manager-1"><a class="header" href="#chains_manager-1">CHAINS_MANAGER</a></h3>
<pre><code class="language-solidity">bytes32 public constant CHAINS_MANAGER = keccak256(&quot;CHAINS_MANAGER&quot;);
</code></pre>
<h3 id="proof_forwarder-1"><a class="header" href="#proof_forwarder-1">PROOF_FORWARDER</a></h3>
<pre><code class="language-solidity">bytes32 public constant PROOF_FORWARDER = keccak256(&quot;PROOF_FORWARDER&quot;);
</code></pre>
<h3 id="proof_batch_forwarder-1"><a class="header" href="#proof_batch_forwarder-1">PROOF_BATCH_FORWARDER</a></h3>
<pre><code class="language-solidity">bytes32 public constant PROOF_BATCH_FORWARDER = keccak256(&quot;PROOF_BATCH_FORWARDER&quot;);
</code></pre>
<h3 id="sequencer-1"><a class="header" href="#sequencer-1">SEQUENCER</a></h3>
<pre><code class="language-solidity">bytes32 public constant SEQUENCER = keccak256(&quot;SEQUENCER&quot;);
</code></pre>
<h3 id="guardian_bridge-1"><a class="header" href="#guardian_bridge-1">GUARDIAN_BRIDGE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_BRIDGE = keccak256(&quot;GUARDIAN_BRIDGE&quot;);
</code></pre>
<h3 id="guardian_oracle-1"><a class="header" href="#guardian_oracle-1">GUARDIAN_ORACLE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_ORACLE = keccak256(&quot;GUARDIAN_ORACLE&quot;);
</code></pre>
<h3 id="guardian_reserve-1"><a class="header" href="#guardian_reserve-1">GUARDIAN_RESERVE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_RESERVE = keccak256(&quot;GUARDIAN_RESERVE&quot;);
</code></pre>
<h3 id="guardian_borrow_cap-1"><a class="header" href="#guardian_borrow_cap-1">GUARDIAN_BORROW_CAP</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_BORROW_CAP = keccak256(&quot;GUARDIAN_BORROW_CAP&quot;);
</code></pre>
<h3 id="guardian_supply_cap-1"><a class="header" href="#guardian_supply_cap-1">GUARDIAN_SUPPLY_CAP</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_SUPPLY_CAP = keccak256(&quot;GUARDIAN_SUPPLY_CAP&quot;);
</code></pre>
<h2 id="functions-76"><a class="header" href="#functions-76">Functions</a></h2>
<h3 id="constructor-22"><a class="header" href="#constructor-22">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner) Ownable(_owner);
</code></pre>
<h3 id="isallowedfor-1"><a class="header" href="#isallowedfor-1">isAllowedFor</a></h3>
<pre><code class="language-solidity">function isAllowedFor(address _contract, bytes32 _role) external view override returns (bool);
</code></pre>
<h3 id="allowfor"><a class="header" href="#allowfor">allowFor</a></h3>
<p>Abiltity to allow a contract for a role or not</p>
<pre><code class="language-solidity">function allowFor(address _contract, bytes32 _role, bool _allowed) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the contract's address.</td></tr>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>the bytes32 role.</td></tr>
<tr><td><code>_allowed</code></td><td><code>bool</code></td><td>the new status.</td></tr>
</tbody></table>
</div>
<h2 id="events-26"><a class="header" href="#events-26">Events</a></h2>
<h3 id="allowed"><a class="header" href="#allowed">Allowed</a></h3>
<p>emitted when role is set</p>
<pre><code class="language-solidity">event Allowed(address indexed _contract, bytes32 indexed _role, bool _allowed);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            MathJax.Hub.Register.StartupHook('End', function() {
                window.setTimeout(window.print, 100);
            });
        });
        </script>

    </div>
    </body>
</html>
