<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="book.css">


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/https://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@malda-protocol/malda-lending" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="malda-lending"><a class="header" href="#malda-lending">malda-lending</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents"><a class="header" href="#contents">Contents</a></h1>
<ul>
<li><a href="src%5COperator/Operator.sol%5Ccontract.Operator.html">Operator</a></li>
<li><a href="src%5COperator/OperatorStorage.sol%5Cabstract.OperatorStorage.html">OperatorStorage</a></li>
<li><a href="src%5COperator/Unit.sol%5Ccontract.Unit.html">Unit</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operator"><a class="header" href="#operator">Operator</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5COperator%5COperator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5COperator%5COperator.sol//src%5COperator%5COperatorStorage.sol%5Cabstract.OperatorStorage.html">OperatorStorage</a>, <a href="src%5COperator%5COperator.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _rolesOperator, address _rewardDistributor, address _admin);
</code></pre>
<h3 id="setrolesoperator"><a class="header" href="#setrolesoperator">setRolesOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setRolesOperator(address _roles) external onlyAdmin;
</code></pre>
<h3 id="setpendingadmin"><a class="header" href="#setpendingadmin">setPendingAdmin</a></h3>
<p>Begins transfer of admin rights. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</p>
<p><em>Admin function to begin change of admin. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</em></p>
<pre><code class="language-solidity">function setPendingAdmin(address newPendingAdmin) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newPendingAdmin</code></td><td><code>address</code></td><td>New pending admin.</td></tr>
</tbody></table>
</div>
<h3 id="acceptadmin"><a class="header" href="#acceptadmin">acceptAdmin</a></h3>
<p>Accepts transfer of admin rights. msg.sender must be pendingAdmin</p>
<p><em>Admin function for pending admin to accept role and update admin</em></p>
<pre><code class="language-solidity">function acceptAdmin() external;
</code></pre>
<h3 id="setpriceoracle"><a class="header" href="#setpriceoracle">setPriceOracle</a></h3>
<p>Sets a new price oracle</p>
<p><em>Admin function to set a new price oracle</em></p>
<pre><code class="language-solidity">function setPriceOracle(address newOracle) external onlyAdmin;
</code></pre>
<h3 id="setclosefactor"><a class="header" href="#setclosefactor">setCloseFactor</a></h3>
<p>Sets the closeFactor used when liquidating borrows</p>
<p><em>Admin function to set closeFactor</em></p>
<pre><code class="language-solidity">function setCloseFactor(uint256 newCloseFactorMantissa) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newCloseFactorMantissa</code></td><td><code>uint256</code></td><td>New close factor, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="setcollateralfactor"><a class="header" href="#setcollateralfactor">setCollateralFactor</a></h3>
<p>Sets the collateralFactor for a market</p>
<p><em>Admin function to set per-market collateralFactor</em></p>
<pre><code class="language-solidity">function setCollateralFactor(address mToken, uint256 newCollateralFactorMantissa) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to set the factor on</td></tr>
<tr><td><code>newCollateralFactorMantissa</code></td><td><code>uint256</code></td><td>The new collateral factor, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="setliquidationincentive"><a class="header" href="#setliquidationincentive">setLiquidationIncentive</a></h3>
<p>Sets liquidationIncentive</p>
<p><em>Admin function to set liquidationIncentive</em></p>
<pre><code class="language-solidity">function setLiquidationIncentive(uint256 newLiquidationIncentiveMantissa) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newLiquidationIncentiveMantissa</code></td><td><code>uint256</code></td><td>New liquidationIncentive scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supportmarket"><a class="header" href="#supportmarket">supportMarket</a></h3>
<p>Add the market to the markets mapping and set it as listed</p>
<p><em>Admin function to set isListed and add support for the market</em></p>
<pre><code class="language-solidity">function supportMarket(address mToken) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The address of the market (token) to list</td></tr>
</tbody></table>
</div>
<h3 id="setmarketborrowcaps"><a class="header" href="#setmarketborrowcaps">setMarketBorrowCaps</a></h3>
<p>Set the given borrow caps for the given mToken markets. Borrowing that brings total borrows to or above borrow cap will revert.</p>
<pre><code class="language-solidity">function setMarketBorrowCaps(address[] calldata mTokens, uint256[] calldata newBorrowCaps) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The addresses of the markets (tokens) to change the borrow caps for</td></tr>
<tr><td><code>newBorrowCaps</code></td><td><code>uint256[]</code></td><td>The new borrow cap values in underlying to be set. A value of 0 corresponds to unlimited borrowing.</td></tr>
</tbody></table>
</div>
<h3 id="setmarketsupplycaps"><a class="header" href="#setmarketsupplycaps">setMarketSupplyCaps</a></h3>
<p>Set the given supply caps for the given mToken markets. Supplying that brings total supply to or above supply cap will revert.</p>
<pre><code class="language-solidity">function setMarketSupplyCaps(address[] calldata mTokens, uint256[] calldata newSupplyCaps) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The addresses of the markets (tokens) to change the supply caps for</td></tr>
<tr><td><code>newSupplyCaps</code></td><td><code>uint256[]</code></td><td>The new supply cap values in underlying to be set. A value of 0 corresponds to unlimited supplying.</td></tr>
</tbody></table>
</div>
<h3 id="setpaused"><a class="header" href="#setpaused">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(address mToken, ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market token address</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="setrewarddistributor"><a class="header" href="#setrewarddistributor">setRewardDistributor</a></h3>
<p>Admin function to change the Reward Distributor</p>
<pre><code class="language-solidity">function setRewardDistributor(address newRewardDistributor) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newRewardDistributor</code></td><td><code>address</code></td><td>The address of the new Reward Distributor</td></tr>
</tbody></table>
</div>
<h3 id="become"><a class="header" href="#become">become</a></h3>
<p>Accepts IUnit implementation</p>
<pre><code class="language-solidity">function become(address _unit) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_unit</code></td><td><code>address</code></td><td>the new unit implementation</td></tr>
</tbody></table>
</div>
<h3 id="isoperator"><a class="header" href="#isoperator">isOperator</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isOperator() external pure override returns (bool);
</code></pre>
<h3 id="ispaused"><a class="header" href="#ispaused">isPaused</a></h3>
<p>Returns if operation is paused</p>
<pre><code class="language-solidity">function isPaused(address mToken, ImTokenOperationTypes.OperationType _type) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="getassetsin"><a class="header" href="#getassetsin">getAssetsIn</a></h3>
<p>Returns the assets an account has entered</p>
<pre><code class="language-solidity">function getAssetsIn(address _user) external view override returns (address[] memory mTokens);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>The address of the account to pull assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>A dynamic list with the assets the account has entered</td></tr>
</tbody></table>
</div>
<h3 id="checkmembership"><a class="header" href="#checkmembership">checkMembership</a></h3>
<p>Returns whether the given account is entered in the given asset</p>
<pre><code class="language-solidity">function checkMembership(address account, address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account to check</td></tr>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the account is in the asset, otherwise false.</td></tr>
</tbody></table>
</div>
<h3 id="getallmarkets"><a class="header" href="#getallmarkets">getAllMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">function getAllMarkets() external view returns (address[] memory mTokens);
</code></pre>
<h3 id="isdeprecated"><a class="header" href="#isdeprecated">isDeprecated</a></h3>
<p>Returns true if the given mToken market has been deprecated</p>
<p><em>All borrows in a deprecated mToken market can be immediately liquidated</em></p>
<pre><code class="language-solidity">function isDeprecated(address mToken) external view override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to check if deprecated</td></tr>
</tbody></table>
</div>
<h3 id="getaccountliquidity"><a class="header" href="#getaccountliquidity">getAccountLiquidity</a></h3>
<p>Determine the current account liquidity wrt collateral requirements</p>
<pre><code class="language-solidity">function getAccountLiquidity(address account) public view returns (uint256, uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>account liquidity in excess of collateral requirements, account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="gethypotheticalaccountliquidity"><a class="header" href="#gethypotheticalaccountliquidity">getHypotheticalAccountLiquidity</a></h3>
<p>Determine what the account liquidity would be if the given amounts were redeemed/borrowed</p>
<pre><code class="language-solidity">function getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to determine liquidity for</td></tr>
<tr><td><code>mTokenModify</code></td><td><code>address</code></td><td>The market to hypothetically redeem/borrow in</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of tokens to hypothetically redeem</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to hypothetically borrow</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>hypothetical account liquidity in excess of collateral requirements, hypothetical account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="liquidatecalculateseizetokens"><a class="header" href="#liquidatecalculateseizetokens">liquidateCalculateSeizeTokens</a></h3>
<p>Calculate number of tokens of collateral asset to seize given an underlying amount</p>
<p><em>Used in liquidation (called in mTokenBorrowed.liquidate)</em></p>
<pre><code class="language-solidity">function liquidateCalculateSeizeTokens(address mTokenBorrowed, address mTokenCollateral, uint256 actualRepayAmount)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>The address of the borrowed mToken</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The address of the collateral mToken</td></tr>
<tr><td><code>actualRepayAmount</code></td><td><code>uint256</code></td><td>The amount of mTokenBorrowed underlying to convert into mTokenCollateral tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>number of mTokenCollateral tokens to be seized in a liquidation</td></tr>
</tbody></table>
</div>
<h3 id="entermarkets"><a class="header" href="#entermarkets">enterMarkets</a></h3>
<p>Add assets to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarkets(address[] calldata _mTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mTokens</code></td><td><code>address[]</code></td><td>The list of addresses of the mToken markets to be enabled</td></tr>
</tbody></table>
</div>
<h3 id="exitmarket"><a class="header" href="#exitmarket">exitMarket</a></h3>
<p>Removes asset from sender's account liquidity calculation</p>
<p><em>Sender must not have an outstanding borrow balance in the asset,
or be providing necessary collateral for an outstanding borrow.</em></p>
<pre><code class="language-solidity">function exitMarket(address _mToken) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mToken</code></td><td><code>address</code></td><td>The address of the asset to be removed</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda"><a class="header" href="#claimmalda">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in all markets</p>
<pre><code class="language-solidity">function claimMalda(address holder) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-1"><a class="header" href="#claimmalda-1">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in the specified markets</p>
<pre><code class="language-solidity">function claimMalda(address holder, address[] memory mTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-2"><a class="header" href="#claimmalda-2">claimMalda</a></h3>
<p>Claim all MALDA accrued by the holders</p>
<pre><code class="language-solidity">function claimMalda(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers)
    external
    override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>The addresses to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
<tr><td><code>borrowers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by borrowing</td></tr>
<tr><td><code>suppliers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by supplying</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokentransfer"><a class="header" href="#beforemtokentransfer">beforeMTokenTransfer</a></h3>
<p>Checks if the account should be allowed to transfer tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenTransfer(address mToken, address src, address dst, uint256 transferTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The account which sources the tokens</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The account which receives the tokens</td></tr>
<tr><td><code>transferTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to transfer</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenmint"><a class="header" href="#beforemtokenmint">beforeMTokenMint</a></h3>
<p>Checks if the account should be allowed to mint tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenMint(address mToken, address minter) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the mint against</td></tr>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The account which would get the minted tokens</td></tr>
</tbody></table>
</div>
<h3 id="aftermtokenmint"><a class="header" href="#aftermtokenmint">afterMTokenMint</a></h3>
<p>Validates mint and reverts on rejection. May emit logs.</p>
<pre><code class="language-solidity">function afterMTokenMint(address mToken) external view override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>Asset being minted</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenredeem"><a class="header" href="#beforemtokenredeem">beforeMTokenRedeem</a></h3>
<p>Checks if the account should be allowed to redeem tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRedeem(address mToken, address redeemer, uint256 redeemTokens) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the redeem against</td></tr>
<tr><td><code>redeemer</code></td><td><code>address</code></td><td>The account which would redeem the tokens</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to exchange for the underlying asset in the market</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenborrow"><a class="header" href="#beforemtokenborrow">beforeMTokenBorrow</a></h3>
<p>Checks if the account should be allowed to borrow the underlying asset of the given market</p>
<pre><code class="language-solidity">function beforeMTokenBorrow(address mToken, address borrower, uint256 borrowAmount) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the borrow against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrow the asset</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying the account would borrow</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenrepay"><a class="header" href="#beforemtokenrepay">beforeMTokenRepay</a></h3>
<p>Checks if the account should be allowed to repay a borrow in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRepay(address mToken, address borrower) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the repay against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrowed the asset</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenliquidate"><a class="header" href="#beforemtokenliquidate">beforeMTokenLiquidate</a></h3>
<p>Checks if the liquidation should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenLiquidate(address mTokenBorrowed, address mTokenCollateral, address borrower, uint256 repayAmount)
    external
    view
    override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of underlying being repaid</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenseize"><a class="header" href="#beforemtokenseize">beforeMTokenSeize</a></h3>
<p>Checks if the seizing of assets should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenSeize(address mTokenCollateral, address mTokenBorrowed, address liquidator, address borrower)
    external
    override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing the collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
</tbody></table>
</div>
<h3 id="_activatemarket"><a class="header" href="#_activatemarket">_activateMarket</a></h3>
<pre><code class="language-solidity">function _activateMarket(address _mToken, address borrower) private;
</code></pre>
<h3 id="_beforeredeem"><a class="header" href="#_beforeredeem">_beforeRedeem</a></h3>
<pre><code class="language-solidity">function _beforeRedeem(address mToken, address redeemer, uint256 redeemTokens) private view;
</code></pre>
<h3 id="_gethypotheticalaccountliquidity"><a class="header" href="#_gethypotheticalaccountliquidity">_getHypotheticalAccountLiquidity</a></h3>
<pre><code class="language-solidity">function _getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) private view returns (uint256, uint256);
</code></pre>
<h3 id="_updatemeldasupplyindex"><a class="header" href="#_updatemeldasupplyindex">_updateMeldaSupplyIndex</a></h3>
<p>Notify reward distributor for supply index update</p>
<pre><code class="language-solidity">function _updateMeldaSupplyIndex(address mToken) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market whose supply index to update</td></tr>
</tbody></table>
</div>
<h3 id="_updatemeldaborrowindex"><a class="header" href="#_updatemeldaborrowindex">_updateMeldaBorrowIndex</a></h3>
<p>Notify reward distributor for borrow index update</p>
<pre><code class="language-solidity">function _updateMeldaBorrowIndex(address mToken) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market whose borrow index to update</td></tr>
</tbody></table>
</div>
<h3 id="_distributesuppliermelda"><a class="header" href="#_distributesuppliermelda">_distributeSupplierMelda</a></h3>
<p>Notify reward distributor for supplier update</p>
<pre><code class="language-solidity">function _distributeSupplierMelda(address mToken, address supplier) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market in which the supplier is interacting</td></tr>
<tr><td><code>supplier</code></td><td><code>address</code></td><td>The address of the supplier to distribute MALDA to</td></tr>
</tbody></table>
</div>
<h3 id="_distributeborrowermelda"><a class="header" href="#_distributeborrowermelda">_distributeBorrowerMelda</a></h3>
<p>Notify reward distributor for borrower update</p>
<p><em>Borrowers will not begin to accrue until after the first interaction with the protocol.</em></p>
<pre><code class="language-solidity">function _distributeBorrowerMelda(address mToken, address borrower) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market in which the borrower is interacting</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower to distribute MALDA to</td></tr>
</tbody></table>
</div>
<h3 id="_claim"><a class="header" href="#_claim">_claim</a></h3>
<pre><code class="language-solidity">function _claim(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers) private;
</code></pre>
<h3 id="_isdeprecated"><a class="header" href="#_isdeprecated">_isDeprecated</a></h3>
<pre><code class="language-solidity">function _isDeprecated(address mToken) private view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="operatorstorage"><a class="header" href="#operatorstorage">OperatorStorage</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5COperator%5COperatorStorage.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5COperator%5COperatorStorage.sol//src%5Cinterfaces%5CIOperator.sol%5Cinterface.IOperator.html">IOperator</a>, <a href="src%5COperator%5COperatorStorage.sol//src%5Cinterfaces%5CIOperator.sol%5Cinterface.IOperatorDefender.html">IOperatorDefender</a>, <a href="src%5COperator%5COperatorStorage.sol//src%5Cutils%5CExponentialNoError.sol%5Cabstract.ExponentialNoError.html">ExponentialNoError</a></p>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="admin"><a class="header" href="#admin">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">address public admin;
</code></pre>
<h3 id="pendingadmin"><a class="header" href="#pendingadmin">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">address public pendingAdmin;
</code></pre>
<h3 id="rolesoperator"><a class="header" href="#rolesoperator">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="oracleoperator"><a class="header" href="#oracleoperator">oracleOperator</a></h3>
<p>Oracle which gives the price of any given asset</p>
<pre><code class="language-solidity">address public oracleOperator;
</code></pre>
<h3 id="closefactormantissa"><a class="header" href="#closefactormantissa">closeFactorMantissa</a></h3>
<p>Multiplier used to calculate the maximum repayAmount when liquidating a borrow</p>
<pre><code class="language-solidity">uint256 public closeFactorMantissa;
</code></pre>
<h3 id="liquidationincentivemantissa"><a class="header" href="#liquidationincentivemantissa">liquidationIncentiveMantissa</a></h3>
<p>Multiplier representing the discount on collateral that a liquidator receives</p>
<pre><code class="language-solidity">uint256 public liquidationIncentiveMantissa;
</code></pre>
<h3 id="accountassets"><a class="header" href="#accountassets">accountAssets</a></h3>
<p>Per-account mapping of "assets you are in", capped by maxAssets</p>
<pre><code class="language-solidity">mapping(address =&gt; address[]) public accountAssets;
</code></pre>
<h3 id="markets"><a class="header" href="#markets">markets</a></h3>
<p>Official mapping of mTokens -&gt; Market metadata</p>
<p><em>Used e.g. to determine if a market is supported</em></p>
<pre><code class="language-solidity">mapping(address =&gt; IOperatorData.Market) public markets;
</code></pre>
<h3 id="allmarkets"><a class="header" href="#allmarkets">allMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">address[] public allMarkets;
</code></pre>
<h3 id="borrowcaps"><a class="header" href="#borrowcaps">borrowCaps</a></h3>
<p>Borrow caps enforced by borrowAllowed for each mToken address. Defaults to zero which corresponds to unlimited borrowing.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public borrowCaps;
</code></pre>
<h3 id="supplycaps"><a class="header" href="#supplycaps">supplyCaps</a></h3>
<p>Supply caps enforced by supplyAllowed for each mToken address. Defaults to zero which corresponds to unlimited supplying.</p>
<pre><code class="language-solidity">mapping(address =&gt; uint256) public supplyCaps;
</code></pre>
<h3 id="rewarddistributor"><a class="header" href="#rewarddistributor">rewardDistributor</a></h3>
<p>Reward Distributor to markets supply and borrow (including protocol token)</p>
<pre><code class="language-solidity">address public rewardDistributor;
</code></pre>
<h3 id="_paused"><a class="header" href="#_paused">_paused</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(ImTokenOperationTypes.OperationType =&gt; bool)) internal _paused;
</code></pre>
<h3 id="close_factor_min_mantissa"><a class="header" href="#close_factor_min_mantissa">CLOSE_FACTOR_MIN_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant CLOSE_FACTOR_MIN_MANTISSA = 0.05e18;
</code></pre>
<h3 id="close_factor_max_mantissa"><a class="header" href="#close_factor_max_mantissa">CLOSE_FACTOR_MAX_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant CLOSE_FACTOR_MAX_MANTISSA = 0.9e18;
</code></pre>
<h3 id="collateral_factor_max_mantissa"><a class="header" href="#collateral_factor_max_mantissa">COLLATERAL_FACTOR_MAX_MANTISSA</a></h3>
<pre><code class="language-solidity">uint256 internal constant COLLATERAL_FACTOR_MAX_MANTISSA = 0.9e18;
</code></pre>
<h2 id="functions-1"><a class="header" href="#functions-1">Functions</a></h2>
<h3 id="onlyadmin"><a class="header" href="#onlyadmin">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="actionpaused"><a class="header" href="#actionpaused">ActionPaused</a></h3>
<p>Emitted when pause status is changed</p>
<pre><code class="language-solidity">event ActionPaused(address indexed mToken, ImTokenOperationTypes.OperationType _type, bool state);
</code></pre>
<h3 id="newrewarddistributor"><a class="header" href="#newrewarddistributor">NewRewardDistributor</a></h3>
<p>Emitted when reward distributor is changed</p>
<pre><code class="language-solidity">event NewRewardDistributor(address indexed oldRewardDistributor, address indexed newRewardDistributor);
</code></pre>
<h3 id="newborrowcap"><a class="header" href="#newborrowcap">NewBorrowCap</a></h3>
<p>Emitted when borrow cap for a mToken is changed</p>
<pre><code class="language-solidity">event NewBorrowCap(address indexed mToken, uint256 newBorrowCap);
</code></pre>
<h3 id="newsupplycap"><a class="header" href="#newsupplycap">NewSupplyCap</a></h3>
<p>Emitted when supply cap for a mToken is changed</p>
<pre><code class="language-solidity">event NewSupplyCap(address indexed mToken, uint256 newBorrowCap);
</code></pre>
<h3 id="marketlisted"><a class="header" href="#marketlisted">MarketListed</a></h3>
<p>Emitted when an admin supports a market</p>
<pre><code class="language-solidity">event MarketListed(address mToken);
</code></pre>
<h3 id="marketentered"><a class="header" href="#marketentered">MarketEntered</a></h3>
<p>Emitted when an account enters a market</p>
<pre><code class="language-solidity">event MarketEntered(address indexed mToken, address indexed account);
</code></pre>
<h3 id="marketexited"><a class="header" href="#marketexited">MarketExited</a></h3>
<p>Emitted when an account exits a market</p>
<pre><code class="language-solidity">event MarketExited(address indexed mToken, address indexed account);
</code></pre>
<h3 id="newclosefactor"><a class="header" href="#newclosefactor">NewCloseFactor</a></h3>
<p>Emitted Emitted when close factor is changed by admin</p>
<pre><code class="language-solidity">event NewCloseFactor(uint256 oldCloseFactorMantissa, uint256 newCloseFactorMantissa);
</code></pre>
<h3 id="newcollateralfactor"><a class="header" href="#newcollateralfactor">NewCollateralFactor</a></h3>
<p>Emitted when a collateral factor is changed by admin</p>
<pre><code class="language-solidity">event NewCollateralFactor(
    address indexed mToken, uint256 oldCollateralFactorMantissa, uint256 newCollateralFactorMantissa
);
</code></pre>
<h3 id="newliquidationincentive"><a class="header" href="#newliquidationincentive">NewLiquidationIncentive</a></h3>
<p>Emitted when liquidation incentive is changed by admin</p>
<pre><code class="language-solidity">event NewLiquidationIncentive(uint256 oldLiquidationIncentiveMantissa, uint256 newLiquidationIncentiveMantissa);
</code></pre>
<h3 id="newpriceoracle"><a class="header" href="#newpriceoracle">NewPriceOracle</a></h3>
<p>Emitted when price oracle is changed</p>
<pre><code class="language-solidity">event NewPriceOracle(address indexed oldPriceOracle, address indexed newPriceOracle);
</code></pre>
<h3 id="newpendingadmin"><a class="header" href="#newpendingadmin">NewPendingAdmin</a></h3>
<p>Emitted when pendingAdmin is changed</p>
<pre><code class="language-solidity">event NewPendingAdmin(address indexed oldPendingAdmin, address indexed newPendingAdmin);
</code></pre>
<h3 id="newadmin"><a class="header" href="#newadmin">NewAdmin</a></h3>
<p>Emitted when pendingAdmin is accepted, which means admin is updated</p>
<pre><code class="language-solidity">event NewAdmin(address indexed oldAdmin, address indexed newAdmin);
</code></pre>
<h3 id="newrolesoperator"><a class="header" href="#newrolesoperator">NewRolesOperator</a></h3>
<p>Event emitted when rolesOperator is changed</p>
<pre><code class="language-solidity">event NewRolesOperator(address indexed oldRoles, address indexed newRoles);
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="operator_paused"><a class="header" href="#operator_paused">Operator_Paused</a></h3>
<pre><code class="language-solidity">error Operator_Paused();
</code></pre>
<h3 id="operator_mismatch"><a class="header" href="#operator_mismatch">Operator_Mismatch</a></h3>
<pre><code class="language-solidity">error Operator_Mismatch();
</code></pre>
<h3 id="operator_onlyadmin"><a class="header" href="#operator_onlyadmin">Operator_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error Operator_OnlyAdmin();
</code></pre>
<h3 id="operator_emptyprice"><a class="header" href="#operator_emptyprice">Operator_EmptyPrice</a></h3>
<pre><code class="language-solidity">error Operator_EmptyPrice();
</code></pre>
<h3 id="operator_wrongmarket"><a class="header" href="#operator_wrongmarket">Operator_WrongMarket</a></h3>
<pre><code class="language-solidity">error Operator_WrongMarket();
</code></pre>
<h3 id="operator_invalidinput"><a class="header" href="#operator_invalidinput">Operator_InvalidInput</a></h3>
<pre><code class="language-solidity">error Operator_InvalidInput();
</code></pre>
<h3 id="operator_assetnotfound"><a class="header" href="#operator_assetnotfound">Operator_AssetNotFound</a></h3>
<pre><code class="language-solidity">error Operator_AssetNotFound();
</code></pre>
<h3 id="operator_repayingtoomuch"><a class="header" href="#operator_repayingtoomuch">Operator_RepayingTooMuch</a></h3>
<pre><code class="language-solidity">error Operator_RepayingTooMuch();
</code></pre>
<h3 id="operator_onlyadminorrole"><a class="header" href="#operator_onlyadminorrole">Operator_OnlyAdminOrRole</a></h3>
<pre><code class="language-solidity">error Operator_OnlyAdminOrRole();
</code></pre>
<h3 id="operator_marketnotlisted"><a class="header" href="#operator_marketnotlisted">Operator_MarketNotListed</a></h3>
<pre><code class="language-solidity">error Operator_MarketNotListed();
</code></pre>
<h3 id="operator_pricefetchfailed"><a class="header" href="#operator_pricefetchfailed">Operator_PriceFetchFailed</a></h3>
<pre><code class="language-solidity">error Operator_PriceFetchFailed();
</code></pre>
<h3 id="operator_sendermustbetoken"><a class="header" href="#operator_sendermustbetoken">Operator_SenderMustBeToken</a></h3>
<pre><code class="language-solidity">error Operator_SenderMustBeToken();
</code></pre>
<h3 id="operator_marketsupplyreached"><a class="header" href="#operator_marketsupplyreached">Operator_MarketSupplyReached</a></h3>
<pre><code class="language-solidity">error Operator_MarketSupplyReached();
</code></pre>
<h3 id="operator_repayamountnotvalid"><a class="header" href="#operator_repayamountnotvalid">Operator_RepayAmountNotValid</a></h3>
<pre><code class="language-solidity">error Operator_RepayAmountNotValid();
</code></pre>
<h3 id="operator_marketalreadylisted"><a class="header" href="#operator_marketalreadylisted">Operator_MarketAlreadyListed</a></h3>
<pre><code class="language-solidity">error Operator_MarketAlreadyListed();
</code></pre>
<h3 id="operator_invalidrolesoperator"><a class="header" href="#operator_invalidrolesoperator">Operator_InvalidRolesOperator</a></h3>
<pre><code class="language-solidity">error Operator_InvalidRolesOperator();
</code></pre>
<h3 id="operator_insufficientliquidity"><a class="header" href="#operator_insufficientliquidity">Operator_InsufficientLiquidity</a></h3>
<pre><code class="language-solidity">error Operator_InsufficientLiquidity();
</code></pre>
<h3 id="operator_marketborrowcapreached"><a class="header" href="#operator_marketborrowcapreached">Operator_MarketBorrowCapReached</a></h3>
<pre><code class="language-solidity">error Operator_MarketBorrowCapReached();
</code></pre>
<h3 id="operator_invalidcollateralfactor"><a class="header" href="#operator_invalidcollateralfactor">Operator_InvalidCollateralFactor</a></h3>
<pre><code class="language-solidity">error Operator_InvalidCollateralFactor();
</code></pre>
<h3 id="operator_invalidrewarddistributor"><a class="header" href="#operator_invalidrewarddistributor">Operator_InvalidRewardDistributor</a></h3>
<pre><code class="language-solidity">error Operator_InvalidRewardDistributor();
</code></pre>
<h3 id="operator_oracleunderlyingfetcherror"><a class="header" href="#operator_oracleunderlyingfetcherror">Operator_OracleUnderlyingFetchError</a></h3>
<pre><code class="language-solidity">error Operator_OracleUnderlyingFetchError();
</code></pre>
<h3 id="operator_deactivate_marketbalanceowed"><a class="header" href="#operator_deactivate_marketbalanceowed">Operator_Deactivate_MarketBalanceOwed</a></h3>
<pre><code class="language-solidity">error Operator_Deactivate_MarketBalanceOwed();
</code></pre>
<h3 id="operator_deactivate_snapshotfetchingfailed"><a class="header" href="#operator_deactivate_snapshotfetchingfailed">Operator_Deactivate_SnapshotFetchingFailed</a></h3>
<pre><code class="language-solidity">error Operator_Deactivate_SnapshotFetchingFailed();
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="accountliquiditylocalvars"><a class="header" href="#accountliquiditylocalvars">AccountLiquidityLocalVars</a></h3>
<p><em>Local vars for avoiding stack-depth limits in calculating account liquidity.
Note that <code>mTokenBalance</code> is the number of mTokens the account owns in the market,
whereas <code>borrowBalance</code> is the amount of underlying that the account has borrowed.</em></p>
<pre><code class="language-solidity">struct AccountLiquidityLocalVars {
    uint256 sumCollateral;
    uint256 sumBorrowPlusEffects;
    uint256 mTokenBalance;
    uint256 borrowBalance;
    uint256 exchangeRateMantissa;
    uint256 oraclePriceMantissa;
    Exp collateralFactor;
    Exp exchangeRate;
    Exp oraclePrice;
    Exp tokensToDenom;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="unit"><a class="header" href="#unit">Unit</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5COperator%5CUnit.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5COperator%5CUnit.sol//src%5Cinterfaces%5CIUnit.sol%5Cinterface.IUnit.html">IUnit</a>, <a href="src%5COperator%5CUnit.sol//src%5Cinterfaces%5CIUnit.sol%5Cinterface.IUnitAccess.html">IUnitAccess</a></p>
<h2 id="state-variables-1"><a class="header" href="#state-variables-1">State Variables</a></h2>
<h3 id="admin-1"><a class="header" href="#admin-1">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">address public admin;
</code></pre>
<h3 id="pendingadmin-1"><a class="header" href="#pendingadmin-1">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">address public pendingAdmin;
</code></pre>
<h3 id="operatorimplementation"><a class="header" href="#operatorimplementation">operatorImplementation</a></h3>
<p>Active brains of Unit</p>
<pre><code class="language-solidity">address public operatorImplementation;
</code></pre>
<h3 id="pendingoperatorimplementation"><a class="header" href="#pendingoperatorimplementation">pendingOperatorImplementation</a></h3>
<p>Pending brains of Unit</p>
<pre><code class="language-solidity">address public pendingOperatorImplementation;
</code></pre>
<h2 id="functions-2"><a class="header" href="#functions-2">Functions</a></h2>
<h3 id="onlyadmin-1"><a class="header" href="#onlyadmin-1">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="constructor-1"><a class="header" href="#constructor-1">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _admin);
</code></pre>
<h3 id="setpendingimplementation"><a class="header" href="#setpendingimplementation">setPendingImplementation</a></h3>
<p>Sets a pending implementation</p>
<pre><code class="language-solidity">function setPendingImplementation(address newPendingImplementation) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newPendingImplementation</code></td><td><code>address</code></td><td>The new implementation address</td></tr>
</tbody></table>
</div>
<h3 id="acceptimplementation"><a class="header" href="#acceptimplementation">acceptImplementation</a></h3>
<p>Accepts new implementation of Operator. msg.sender must be pendingImplementation</p>
<p><em>Admin function for new implementation to accept it's role as implementation</em></p>
<pre><code class="language-solidity">function acceptImplementation() external override;
</code></pre>
<h3 id="setpendingadmin-1"><a class="header" href="#setpendingadmin-1">setPendingAdmin</a></h3>
<p>Begins transfer of admin rights. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</p>
<p><em>Admin function to begin change of admin. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</em></p>
<pre><code class="language-solidity">function setPendingAdmin(address newPendingAdmin) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newPendingAdmin</code></td><td><code>address</code></td><td>New pending admin.</td></tr>
</tbody></table>
</div>
<h3 id="acceptadmin-1"><a class="header" href="#acceptadmin-1">acceptAdmin</a></h3>
<p>Accepts transfer of admin rights. msg.sender must be pendingAdmin</p>
<p><em>Admin function for pending admin to accept role and update admin</em></p>
<pre><code class="language-solidity">function acceptAdmin() external override;
</code></pre>
<h3 id="fallback"><a class="header" href="#fallback">fallback</a></h3>
<p><em>Delegates execution to an implementation contract.
It returns to the external caller whatever the implementation returns
or forwards reverts.</em></p>
<pre><code class="language-solidity">fallback() external payable;
</code></pre>
<h3 id="receive"><a class="header" href="#receive">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h2 id="events-1"><a class="header" href="#events-1">Events</a></h2>
<h3 id="newpendingimplementation"><a class="header" href="#newpendingimplementation">NewPendingImplementation</a></h3>
<p>Emitted when pendingOperatorImplementation is changed</p>
<pre><code class="language-solidity">event NewPendingImplementation(address oldPendingImplementation, address newPendingImplementation);
</code></pre>
<h3 id="newimplementation"><a class="header" href="#newimplementation">NewImplementation</a></h3>
<p>Emitted when pendingOperatorImplementation is accepted, which means Operator implementation is updated</p>
<pre><code class="language-solidity">event NewImplementation(address oldImplementation, address newImplementation);
</code></pre>
<h3 id="newpendingadmin-1"><a class="header" href="#newpendingadmin-1">NewPendingAdmin</a></h3>
<p>Emitted when pendingAdmin is changed</p>
<pre><code class="language-solidity">event NewPendingAdmin(address oldPendingAdmin, address newPendingAdmin);
</code></pre>
<h3 id="newadmin-1"><a class="header" href="#newadmin-1">NewAdmin</a></h3>
<p>Emitted when pendingAdmin is accepted, which means admin is updated</p>
<pre><code class="language-solidity">event NewAdmin(address oldAdmin, address newAdmin);
</code></pre>
<h2 id="errors-1"><a class="header" href="#errors-1">Errors</a></h2>
<h3 id="unit_onlyadmin"><a class="header" href="#unit_onlyadmin">Unit_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error Unit_OnlyAdmin();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-1"><a class="header" href="#contents-1">Contents</a></h1>
<ul>
<li><a href="src%5Cinterest/JumpRateModelV2.sol%5Ccontract.JumpRateModelV2.html">JumpRateModelV2</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jumpratemodelv2"><a class="header" href="#jumpratemodelv2">JumpRateModelV2</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterest%5CJumpRateModelV2.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5Cinterest%5CJumpRateModelV2.sol//src%5Cinterfaces%5CIInterestRateModel.sol%5Cinterface.IInterestRateModel.html">IInterestRateModel</a>, Ownable</p>
<p>Implementation of the IInterestRateModel interface for calculating interest rates</p>
<h2 id="state-variables-2"><a class="header" href="#state-variables-2">State Variables</a></h2>
<h3 id="blocksperyear"><a class="header" href="#blocksperyear">blocksPerYear</a></h3>
<p>The approximate number of blocks per year that is assumed by the interest rate model</p>
<pre><code class="language-solidity">uint256 public override blocksPerYear;
</code></pre>
<h3 id="multiplierperblock"><a class="header" href="#multiplierperblock">multiplierPerBlock</a></h3>
<p>The multiplier of utilization rate that gives the slope of the interest rate</p>
<pre><code class="language-solidity">uint256 public override multiplierPerBlock;
</code></pre>
<h3 id="baserateperblock"><a class="header" href="#baserateperblock">baseRatePerBlock</a></h3>
<p>The base interest rate which is the y-intercept when utilization rate is 0</p>
<pre><code class="language-solidity">uint256 public override baseRatePerBlock;
</code></pre>
<h3 id="jumpmultiplierperblock"><a class="header" href="#jumpmultiplierperblock">jumpMultiplierPerBlock</a></h3>
<p>The multiplierPerBlock after hitting a specified utilization point</p>
<pre><code class="language-solidity">uint256 public override jumpMultiplierPerBlock;
</code></pre>
<h3 id="kink"><a class="header" href="#kink">kink</a></h3>
<p>The utilization point at which the jump multiplier is applied</p>
<pre><code class="language-solidity">uint256 public override kink;
</code></pre>
<h3 id="name"><a class="header" href="#name">name</a></h3>
<p>A name for user-friendliness, e.g. WBTC</p>
<pre><code class="language-solidity">string public override name;
</code></pre>
<h2 id="functions-3"><a class="header" href="#functions-3">Functions</a></h2>
<h3 id="constructor-2"><a class="header" href="#constructor-2">constructor</a></h3>
<p>Construct an interest rate model</p>
<pre><code class="language-solidity">constructor(
    uint256 blocksPerYear_,
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_,
    address owner_,
    string memory name_
) Ownable(owner_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>blocksPerYear_</code></td><td><code>uint256</code></td><td>The estimated number of blocks per year</td></tr>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The base APR, scaled by 1e18</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate increase in interest wrt utilization, scaled by 1e18</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplier per block after utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier applies</td></tr>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>The owner of the contract</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>A user-friendly name for the contract</td></tr>
</tbody></table>
</div>
<h3 id="updatejumpratemodel"><a class="header" href="#updatejumpratemodel">updateJumpRateModel</a></h3>
<p>Update the parameters of the interest rate model (only callable by owner, i.e. Timelock)</p>
<pre><code class="language-solidity">function updateJumpRateModel(
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_
) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The approximate target base APR, as a mantissa (scaled by 1e18)</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate of increase in interest rate wrt utilization (scaled by 1e18)</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplierPerBlock after hitting a specified utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point at which the jump multiplier is applied</td></tr>
</tbody></table>
</div>
<h3 id="updateblocksperyear"><a class="header" href="#updateblocksperyear">updateBlocksPerYear</a></h3>
<p>Updates the blocksPerYear in order to make interest calculations simpler</p>
<pre><code class="language-solidity">function updateBlocksPerYear(uint256 blocksPerYear_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>blocksPerYear_</code></td><td><code>uint256</code></td><td>The new estimated eth blocks per year.</td></tr>
</tbody></table>
</div>
<h3 id="isinterestratemodel"><a class="header" href="#isinterestratemodel">isInterestRateModel</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isInterestRateModel() external pure override returns (bool);
</code></pre>
<h3 id="utilizationrate"><a class="header" href="#utilizationrate">utilizationRate</a></h3>
<p>Calculates the utilization rate of the market</p>
<pre><code class="language-solidity">function utilizationRate(uint256 cash, uint256 borrows, uint256 reserves) public pure override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization rate as a mantissa between [0, 1e18]</td></tr>
</tbody></table>
</div>
<h3 id="getborrowrate"><a class="header" href="#getborrowrate">getBorrowRate</a></h3>
<p>Returns the current borrow rate per block for the market</p>
<pre><code class="language-solidity">function getBorrowRate(uint256 cash, uint256 borrows, uint256 reserves) public view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="getsupplyrate"><a class="header" href="#getsupplyrate">getSupplyRate</a></h3>
<p>Returns the current supply rate per block for the market</p>
<pre><code class="language-solidity">function getSupplyRate(uint256 cash, uint256 borrows, uint256 reserves, uint256 reserveFactorMantissa)
    external
    view
    override
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
<tr><td><code>reserveFactorMantissa</code></td><td><code>uint256</code></td><td>The current reserve factor for the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="_updatejumpratemodel"><a class="header" href="#_updatejumpratemodel">_updateJumpRateModel</a></h3>
<p>Internal function to update the parameters of the interest rate model</p>
<pre><code class="language-solidity">function _updateJumpRateModel(
    uint256 baseRatePerYear,
    uint256 multiplierPerYear,
    uint256 jumpMultiplierPerYear,
    uint256 kink_
) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerYear</code></td><td><code>uint256</code></td><td>The base APR, scaled by 1e18</td></tr>
<tr><td><code>multiplierPerYear</code></td><td><code>uint256</code></td><td>The rate increase wrt utilization, scaled by 1e18</td></tr>
<tr><td><code>jumpMultiplierPerYear</code></td><td><code>uint256</code></td><td>The multiplier per block after utilization point</td></tr>
<tr><td><code>kink_</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier applies</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="contents-2"><a class="header" href="#contents-2">Contents</a></h1>
<ul>
<li><a href="src%5Cinterfaces//src%5Cinterfaces%5Cexternal">external</a></li>
<li><a href="src%5Cinterfaces/IInterestRateModel.sol%5Cinterface.IInterestRateModel.html">IInterestRateModel</a></li>
<li><a href="src%5Cinterfaces/IOperator.sol%5Cinterface.IOperatorData.html">IOperatorData</a></li>
<li><a href="src%5Cinterfaces/IOperator.sol%5Cinterface.IOperatorDefender.html">IOperatorDefender</a></li>
<li><a href="src%5Cinterfaces/IOperator.sol%5Cinterface.IOperator.html">IOperator</a></li>
<li><a href="src%5Cinterfaces/IOracleOperator.sol%5Cinterface.IOracleOperator.html">IOracleOperator</a></li>
<li><a href="src%5Cinterfaces/IPauser.sol%5Cinterface.IPauser.html">IPauser</a></li>
<li><a href="src%5Cinterfaces/IRewardDistributor.sol%5Cinterface.IRewardDistributorData.html">IRewardDistributorData</a></li>
<li><a href="src%5Cinterfaces/IRewardDistributor.sol%5Cinterface.IRewardDistributor.html">IRewardDistributor</a></li>
<li><a href="src%5Cinterfaces/IRoles.sol%5Cinterface.IRoles.html">IRoles</a></li>
<li><a href="src%5Cinterfaces/IUnit.sol%5Cinterface.IUnitAccess.html">IUnitAccess</a></li>
<li><a href="src%5Cinterfaces/IUnit.sol%5Cinterface.IUnit.html">IUnit</a></li>
<li><a href="src%5Cinterfaces/IZkVerifierImageRegistry.sol%5Cinterface.IZkVerifierImageRegistry.html">IZkVerifierImageRegistry</a></li>
<li><a href="src%5Cinterfaces/ImErc20.sol%5Cinterface.ImErc20.html">ImErc20</a></li>
<li><a href="src%5Cinterfaces/ImErc20Host.sol%5Cinterface.ImErc20Host.html">ImErc20Host</a></li>
<li><a href="src%5Cinterfaces/ImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></li>
<li><a href="src%5Cinterfaces/ImToken.sol%5Cinterface.ImTokenDelegator.html">ImTokenDelegator</a></li>
<li><a href="src%5Cinterfaces/ImToken.sol%5Cinterface.ImTokenMinimal.html">ImTokenMinimal</a></li>
<li><a href="src%5Cinterfaces/ImToken.sol%5Cinterface.ImToken.html">ImToken</a></li>
<li><a href="src%5Cinterfaces/ImTokenGateway.sol%5Cinterface.ImTokenGateway.html">ImTokenGateway</a></li>
<li><a href="src%5Cinterfaces/ImTokenLogs.sol%5Cinterface.ImTokenLogs.html">ImTokenLogs</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-3"><a class="header" href="#contents-3">Contents</a></h1>
<ul>
<li><a href="src%5Cinterfaces%5Cexternal//src%5Cinterfaces%5Cexternal%5Cchainlink">chainlink</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-4"><a class="header" href="#contents-4">Contents</a></h1>
<ul>
<li><a href="src%5Cinterfaces%5Cexternal%5Cchainlink/IAggregatorV3.sol%5Cinterface.IAggregatorV3.html">IAggregatorV3</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iaggregatorv3"><a class="header" href="#iaggregatorv3">IAggregatorV3</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5Cexternal%5Cchainlink%5CIAggregatorV3.sol">Git Source</a></p>
<h2 id="functions-4"><a class="header" href="#functions-4">Functions</a></h2>
<h3 id="decimals"><a class="header" href="#decimals">decimals</a></h3>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="latestrounddata"><a class="header" href="#latestrounddata">latestRoundData</a></h3>
<pre><code class="language-solidity">function latestRoundData()
    external
    view
    returns (uint80 roundId, int256 answer, uint256 startedAt, uint256 updatedAt, uint80 answeredInRound);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iinterestratemodel"><a class="header" href="#iinterestratemodel">IInterestRateModel</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIInterestRateModel.sol">Git Source</a></p>
<p>Interface for the interest rate contracts</p>
<h2 id="functions-5"><a class="header" href="#functions-5">Functions</a></h2>
<h3 id="isinterestratemodel-1"><a class="header" href="#isinterestratemodel-1">isInterestRateModel</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isInterestRateModel() external view returns (bool);
</code></pre>
<h3 id="blocksperyear-1"><a class="header" href="#blocksperyear-1">blocksPerYear</a></h3>
<p>The approximate number of blocks per year that is assumed by the interest rate model</p>
<pre><code class="language-solidity">function blocksPerYear() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The number of blocks per year</td></tr>
</tbody></table>
</div>
<h3 id="multiplierperblock-1"><a class="header" href="#multiplierperblock-1">multiplierPerBlock</a></h3>
<p>The multiplier of utilization rate that gives the slope of the interest rate</p>
<pre><code class="language-solidity">function multiplierPerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The multiplier per block</td></tr>
</tbody></table>
</div>
<h3 id="baserateperblock-1"><a class="header" href="#baserateperblock-1">baseRatePerBlock</a></h3>
<p>The base interest rate which is the y-intercept when utilization rate is 0</p>
<pre><code class="language-solidity">function baseRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The base rate per block</td></tr>
</tbody></table>
</div>
<h3 id="jumpmultiplierperblock-1"><a class="header" href="#jumpmultiplierperblock-1">jumpMultiplierPerBlock</a></h3>
<p>The multiplierPerBlock after hitting a specified utilization point</p>
<pre><code class="language-solidity">function jumpMultiplierPerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The jump multiplier per block</td></tr>
</tbody></table>
</div>
<h3 id="kink-1"><a class="header" href="#kink-1">kink</a></h3>
<p>The utilization point at which the jump multiplier is applied</p>
<pre><code class="language-solidity">function kink() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization point (kink)</td></tr>
</tbody></table>
</div>
<h3 id="name-1"><a class="header" href="#name-1">name</a></h3>
<p>A name for user-friendliness, e.g. WBTC</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>string</code></td><td>The name of the interest rate model</td></tr>
</tbody></table>
</div>
<h3 id="utilizationrate-1"><a class="header" href="#utilizationrate-1">utilizationRate</a></h3>
<p>Calculates the utilization rate of the market</p>
<pre><code class="language-solidity">function utilizationRate(uint256 cash, uint256 borrows, uint256 reserves) external pure returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The utilization rate as a mantissa between [0, 1e18]</td></tr>
</tbody></table>
</div>
<h3 id="getborrowrate-1"><a class="header" href="#getborrowrate-1">getBorrowRate</a></h3>
<p>Returns the current borrow rate per block for the market</p>
<pre><code class="language-solidity">function getBorrowRate(uint256 cash, uint256 borrows, uint256 reserves) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="getsupplyrate-1"><a class="header" href="#getsupplyrate-1">getSupplyRate</a></h3>
<p>Returns the current supply rate per block for the market</p>
<pre><code class="language-solidity">function getSupplyRate(uint256 cash, uint256 borrows, uint256 reserves, uint256 reserveFactorMantissa)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>cash</code></td><td><code>uint256</code></td><td>The total cash in the market</td></tr>
<tr><td><code>borrows</code></td><td><code>uint256</code></td><td>The total borrows in the market</td></tr>
<tr><td><code>reserves</code></td><td><code>uint256</code></td><td>The total reserves in the market</td></tr>
<tr><td><code>reserveFactorMantissa</code></td><td><code>uint256</code></td><td>The current reserve factor for the market</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h2 id="events-2"><a class="header" href="#events-2">Events</a></h2>
<h3 id="newinterestparams"><a class="header" href="#newinterestparams">NewInterestParams</a></h3>
<p>Emitted when interest rate parameters are updated</p>
<pre><code class="language-solidity">event NewInterestParams(
    uint256 baseRatePerBlock, uint256 multiplierPerBlock, uint256 jumpMultiplierPerBlock, uint256 kink
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>baseRatePerBlock</code></td><td><code>uint256</code></td><td>The base rate per block</td></tr>
<tr><td><code>multiplierPerBlock</code></td><td><code>uint256</code></td><td>The multiplier per block for the interest rate slope</td></tr>
<tr><td><code>jumpMultiplierPerBlock</code></td><td><code>uint256</code></td><td>The multiplier after hitting the kink</td></tr>
<tr><td><code>kink</code></td><td><code>uint256</code></td><td>The utilization point where the jump multiplier is applied</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioperatordata"><a class="header" href="#ioperatordata">IOperatorData</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIOperator.sol">Git Source</a></p>
<h2 id="structs-1"><a class="header" href="#structs-1">Structs</a></h2>
<h3 id="market"><a class="header" href="#market">Market</a></h3>
<pre><code class="language-solidity">struct Market {
    bool isListed;
    uint256 collateralFactorMantissa;
    mapping(address =&gt; bool) accountMembership;
    bool isMalded;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ioperatordefender"><a class="header" href="#ioperatordefender">IOperatorDefender</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIOperator.sol">Git Source</a></p>
<h2 id="functions-6"><a class="header" href="#functions-6">Functions</a></h2>
<h3 id="beforemtokentransfer-1"><a class="header" href="#beforemtokentransfer-1">beforeMTokenTransfer</a></h3>
<p>Checks if the account should be allowed to transfer tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenTransfer(address mToken, address src, address dst, uint256 transferTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the transfer against</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The account which sources the tokens</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The account which receives the tokens</td></tr>
<tr><td><code>transferTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to transfer</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenmint-1"><a class="header" href="#beforemtokenmint-1">beforeMTokenMint</a></h3>
<p>Checks if the account should be allowed to mint tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenMint(address mToken, address minter) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the mint against</td></tr>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The account which would get the minted tokens</td></tr>
</tbody></table>
</div>
<h3 id="aftermtokenmint-1"><a class="header" href="#aftermtokenmint-1">afterMTokenMint</a></h3>
<p>Validates mint and reverts on rejection. May emit logs.</p>
<pre><code class="language-solidity">function afterMTokenMint(address mToken) external view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>Asset being minted</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenredeem-1"><a class="header" href="#beforemtokenredeem-1">beforeMTokenRedeem</a></h3>
<p>Checks if the account should be allowed to redeem tokens in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRedeem(address mToken, address redeemer, uint256 redeemTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the redeem against</td></tr>
<tr><td><code>redeemer</code></td><td><code>address</code></td><td>The account which would redeem the tokens</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to exchange for the underlying asset in the market</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenborrow-1"><a class="header" href="#beforemtokenborrow-1">beforeMTokenBorrow</a></h3>
<p>Checks if the account should be allowed to borrow the underlying asset of the given market</p>
<pre><code class="language-solidity">function beforeMTokenBorrow(address mToken, address borrower, uint256 borrowAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the borrow against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrow the asset</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying the account would borrow</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenrepay-1"><a class="header" href="#beforemtokenrepay-1">beforeMTokenRepay</a></h3>
<p>Checks if the account should be allowed to repay a borrow in the given market</p>
<pre><code class="language-solidity">function beforeMTokenRepay(address mToken, address borrower) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to verify the repay against</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account which would borrowed the asset</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenliquidate-1"><a class="header" href="#beforemtokenliquidate-1">beforeMTokenLiquidate</a></h3>
<p>Checks if the liquidation should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenLiquidate(address mTokenBorrowed, address mTokenCollateral, address borrower, uint256 repayAmount)
    external
    view;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of underlying being repaid</td></tr>
</tbody></table>
</div>
<h3 id="beforemtokenseize-1"><a class="header" href="#beforemtokenseize-1">beforeMTokenSeize</a></h3>
<p>Checks if the seizing of assets should be allowed to occur</p>
<pre><code class="language-solidity">function beforeMTokenSeize(address mTokenCollateral, address mTokenBorrowed, address liquidator, address borrower)
    external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>Asset which was used as collateral and will be seized</td></tr>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>Asset which was borrowed by the borrower</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing the collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The address of the borrower</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioperator"><a class="header" href="#ioperator">IOperator</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIOperator.sol">Git Source</a></p>
<h2 id="functions-7"><a class="header" href="#functions-7">Functions</a></h2>
<h3 id="isoperator-1"><a class="header" href="#isoperator-1">isOperator</a></h3>
<p>Should return true</p>
<pre><code class="language-solidity">function isOperator() external view returns (bool);
</code></pre>
<h3 id="ispaused-1"><a class="header" href="#ispaused-1">isPaused</a></h3>
<p>Returns if operation is paused</p>
<pre><code class="language-solidity">function isPaused(address mToken, ImTokenOperationTypes.OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="rolesoperator-1"><a class="header" href="#rolesoperator-1">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="oracleoperator-1"><a class="header" href="#oracleoperator-1">oracleOperator</a></h3>
<p>Oracle which gives the price of any given asset</p>
<pre><code class="language-solidity">function oracleOperator() external view returns (address);
</code></pre>
<h3 id="closefactormantissa-1"><a class="header" href="#closefactormantissa-1">closeFactorMantissa</a></h3>
<p>Multiplier used to calculate the maximum repayAmount when liquidating a borrow</p>
<pre><code class="language-solidity">function closeFactorMantissa() external view returns (uint256);
</code></pre>
<h3 id="liquidationincentivemantissa-1"><a class="header" href="#liquidationincentivemantissa-1">liquidationIncentiveMantissa</a></h3>
<p>Multiplier representing the discount on collateral that a liquidator receives</p>
<pre><code class="language-solidity">function liquidationIncentiveMantissa() external view returns (uint256);
</code></pre>
<h3 id="getassetsin-1"><a class="header" href="#getassetsin-1">getAssetsIn</a></h3>
<p>Returns the assets an account has entered</p>
<pre><code class="language-solidity">function getAssetsIn(address _user) external view returns (address[] memory mTokens);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_user</code></td><td><code>address</code></td><td>The address of the account to pull assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>A dynamic list with the assets the account has entered</td></tr>
</tbody></table>
</div>
<h3 id="getallmarkets-1"><a class="header" href="#getallmarkets-1">getAllMarkets</a></h3>
<p>A list of all markets</p>
<pre><code class="language-solidity">function getAllMarkets() external view returns (address[] memory mTokens);
</code></pre>
<h3 id="borrowcaps-1"><a class="header" href="#borrowcaps-1">borrowCaps</a></h3>
<p>Borrow caps enforced by borrowAllowed for each mToken address. Defaults to zero which corresponds to unlimited borrowing.</p>
<pre><code class="language-solidity">function borrowCaps(address _mToken) external view returns (uint256);
</code></pre>
<h3 id="supplycaps-1"><a class="header" href="#supplycaps-1">supplyCaps</a></h3>
<p>Supply caps enforced by supplyAllowed for each mToken address. Defaults to zero which corresponds to unlimited supplying.</p>
<pre><code class="language-solidity">function supplyCaps(address _mToken) external view returns (uint256);
</code></pre>
<h3 id="rewarddistributor-1"><a class="header" href="#rewarddistributor-1">rewardDistributor</a></h3>
<p>Reward Distributor to markets supply and borrow (including protocol token)</p>
<pre><code class="language-solidity">function rewardDistributor() external view returns (address);
</code></pre>
<h3 id="checkmembership-1"><a class="header" href="#checkmembership-1">checkMembership</a></h3>
<p>Returns whether the given account is entered in the given asset</p>
<pre><code class="language-solidity">function checkMembership(address account, address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address of the account to check</td></tr>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to check</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>True if the account is in the asset, otherwise false.</td></tr>
</tbody></table>
</div>
<h3 id="getaccountliquidity-1"><a class="header" href="#getaccountliquidity-1">getAccountLiquidity</a></h3>
<p>Determine the current account liquidity wrt collateral requirements</p>
<pre><code class="language-solidity">function getAccountLiquidity(address account) external view returns (uint256, uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>account liquidity in excess of collateral requirements, account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="gethypotheticalaccountliquidity-1"><a class="header" href="#gethypotheticalaccountliquidity-1">getHypotheticalAccountLiquidity</a></h3>
<p>Determine what the account liquidity would be if the given amounts were redeemed/borrowed</p>
<pre><code class="language-solidity">function getHypotheticalAccountLiquidity(
    address account,
    address mTokenModify,
    uint256 redeemTokens,
    uint256 borrowAmount
) external view returns (uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to determine liquidity for</td></tr>
<tr><td><code>mTokenModify</code></td><td><code>address</code></td><td>The market to hypothetically redeem/borrow in</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of tokens to hypothetically redeem</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to hypothetically borrow</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>hypothetical account liquidity in excess of collateral requirements, hypothetical account shortfall below collateral requirements)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="liquidatecalculateseizetokens-1"><a class="header" href="#liquidatecalculateseizetokens-1">liquidateCalculateSeizeTokens</a></h3>
<p>Calculate number of tokens of collateral asset to seize given an underlying amount</p>
<p><em>Used in liquidation (called in mTokenBorrowed.liquidate)</em></p>
<pre><code class="language-solidity">function liquidateCalculateSeizeTokens(address mTokenBorrowed, address mTokenCollateral, uint256 actualRepayAmount)
    external
    view
    returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mTokenBorrowed</code></td><td><code>address</code></td><td>The address of the borrowed mToken</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The address of the collateral mToken</td></tr>
<tr><td><code>actualRepayAmount</code></td><td><code>uint256</code></td><td>The amount of mTokenBorrowed underlying to convert into mTokenCollateral tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>number of mTokenCollateral tokens to be seized in a liquidation</td></tr>
</tbody></table>
</div>
<h3 id="isdeprecated-1"><a class="header" href="#isdeprecated-1">isDeprecated</a></h3>
<p>Returns true if the given mToken market has been deprecated</p>
<p><em>All borrows in a deprecated mToken market can be immediately liquidated</em></p>
<pre><code class="language-solidity">function isDeprecated(address mToken) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market to check if deprecated</td></tr>
</tbody></table>
</div>
<h3 id="setpaused-1"><a class="header" href="#setpaused-1">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(address mToken, ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The market token address</td></tr>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="entermarkets-1"><a class="header" href="#entermarkets-1">enterMarkets</a></h3>
<p>Add assets to be included in account liquidity calculation</p>
<pre><code class="language-solidity">function enterMarkets(address[] calldata _mTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mTokens</code></td><td><code>address[]</code></td><td>The list of addresses of the mToken markets to be enabled</td></tr>
</tbody></table>
</div>
<h3 id="exitmarket-1"><a class="header" href="#exitmarket-1">exitMarket</a></h3>
<p>Removes asset from sender's account liquidity calculation</p>
<p><em>Sender must not have an outstanding borrow balance in the asset,
or be providing necessary collateral for an outstanding borrow.</em></p>
<pre><code class="language-solidity">function exitMarket(address _mToken) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_mToken</code></td><td><code>address</code></td><td>The address of the asset to be removed</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-3"><a class="header" href="#claimmalda-3">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in all markets</p>
<pre><code class="language-solidity">function claimMalda(address holder) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-4"><a class="header" href="#claimmalda-4">claimMalda</a></h3>
<p>Claim all the MALDA accrued by holder in the specified markets</p>
<pre><code class="language-solidity">function claimMalda(address holder, address[] memory mTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holder</code></td><td><code>address</code></td><td>The address to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
</tbody></table>
</div>
<h3 id="claimmalda-5"><a class="header" href="#claimmalda-5">claimMalda</a></h3>
<p>Claim all MALDA accrued by the holders</p>
<pre><code class="language-solidity">function claimMalda(address[] memory holders, address[] memory mTokens, bool borrowers, bool suppliers) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>The addresses to claim MALDA for</td></tr>
<tr><td><code>mTokens</code></td><td><code>address[]</code></td><td>The list of markets to claim MALDA in</td></tr>
<tr><td><code>borrowers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by borrowing</td></tr>
<tr><td><code>suppliers</code></td><td><code>bool</code></td><td>Whether or not to claim MALDA earned by supplying</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ioracleoperator"><a class="header" href="#ioracleoperator">IOracleOperator</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIOracleOperator.sol">Git Source</a></p>
<p>Prices are returned in USD</p>
<h2 id="functions-8"><a class="header" href="#functions-8">Functions</a></h2>
<h3 id="getprice"><a class="header" href="#getprice">getPrice</a></h3>
<p>Get the price of a mToken asset</p>
<pre><code class="language-solidity">function getPrice(address mToken) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="getunderlyingprice"><a class="header" href="#getunderlyingprice">getUnderlyingPrice</a></h3>
<p>Get the underlying price of a mToken asset</p>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the underlying price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="ipauser"><a class="header" href="#ipauser">IPauser</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIPauser.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5Cinterfaces%5CIPauser.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="functions-9"><a class="header" href="#functions-9">Functions</a></h2>
<h3 id="emergencypausemarket"><a class="header" href="#emergencypausemarket">emergencyPauseMarket</a></h3>
<p>pauses all operations for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarket(address _market) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarketfor"><a class="header" href="#emergencypausemarketfor">emergencyPauseMarketFor</a></h3>
<p>pauses a specific operation for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarketFor(address _market, OperationType _pauseType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
<tr><td><code>_pauseType</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="emergencypauseall"><a class="header" href="#emergencypauseall">emergencyPauseAll</a></h3>
<p>pauses all operations for all registered markets</p>
<pre><code class="language-solidity">function emergencyPauseAll() external;
</code></pre>
<h2 id="events-3"><a class="header" href="#events-3">Events</a></h2>
<h3 id="pauseall"><a class="header" href="#pauseall">PauseAll</a></h3>
<pre><code class="language-solidity">event PauseAll();
</code></pre>
<h3 id="marketpaused"><a class="header" href="#marketpaused">MarketPaused</a></h3>
<pre><code class="language-solidity">event MarketPaused(address indexed market);
</code></pre>
<h3 id="marketremoved"><a class="header" href="#marketremoved">MarketRemoved</a></h3>
<pre><code class="language-solidity">event MarketRemoved(address indexed market);
</code></pre>
<h3 id="marketadded"><a class="header" href="#marketadded">MarketAdded</a></h3>
<pre><code class="language-solidity">event MarketAdded(address indexed market, PausableType marketType);
</code></pre>
<h3 id="marketpausedfor"><a class="header" href="#marketpausedfor">MarketPausedFor</a></h3>
<pre><code class="language-solidity">event MarketPausedFor(address indexed market, OperationType pauseType);
</code></pre>
<h2 id="errors-2"><a class="header" href="#errors-2">Errors</a></h2>
<h3 id="pauser_entrynotfound"><a class="header" href="#pauser_entrynotfound">Pauser_EntryNotFound</a></h3>
<pre><code class="language-solidity">error Pauser_EntryNotFound();
</code></pre>
<h3 id="pauser_notauthorized"><a class="header" href="#pauser_notauthorized">Pauser_NotAuthorized</a></h3>
<pre><code class="language-solidity">error Pauser_NotAuthorized();
</code></pre>
<h3 id="pauser_addressnotvalid"><a class="header" href="#pauser_addressnotvalid">Pauser_AddressNotValid</a></h3>
<pre><code class="language-solidity">error Pauser_AddressNotValid();
</code></pre>
<h3 id="pauser_alreadyregistered"><a class="header" href="#pauser_alreadyregistered">Pauser_AlreadyRegistered</a></h3>
<pre><code class="language-solidity">error Pauser_AlreadyRegistered();
</code></pre>
<h2 id="structs-2"><a class="header" href="#structs-2">Structs</a></h2>
<h3 id="pausablecontract"><a class="header" href="#pausablecontract">PausableContract</a></h3>
<pre><code class="language-solidity">struct PausableContract {
    address market;
    PausableType contractType;
}
</code></pre>
<h2 id="enums"><a class="header" href="#enums">Enums</a></h2>
<h3 id="pausabletype"><a class="header" href="#pausabletype">PausableType</a></h3>
<pre><code class="language-solidity">enum PausableType {
    Host,
    Extension
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irewarddistributordata"><a class="header" href="#irewarddistributordata">IRewardDistributorData</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIRewardDistributor.sol">Git Source</a></p>
<h2 id="structs-3"><a class="header" href="#structs-3">Structs</a></h2>
<h3 id="rewardmarketstate"><a class="header" href="#rewardmarketstate">RewardMarketState</a></h3>
<pre><code class="language-solidity">struct RewardMarketState {
    uint256 supplySpeed;
    uint224 supplyIndex;
    uint32 supplyBlock;
    uint256 borrowSpeed;
    uint224 borrowIndex;
    uint32 borrowBlock;
}
</code></pre>
<h3 id="rewardaccountstate"><a class="header" href="#rewardaccountstate">RewardAccountState</a></h3>
<pre><code class="language-solidity">struct RewardAccountState {
    mapping(address =&gt; uint256) supplierIndex;
    mapping(address =&gt; uint256) borrowerIndex;
    uint256 rewardAccrued;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="irewarddistributor"><a class="header" href="#irewarddistributor">IRewardDistributor</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIRewardDistributor.sol">Git Source</a></p>
<h2 id="functions-10"><a class="header" href="#functions-10">Functions</a></h2>
<h3 id="operator-1"><a class="header" href="#operator-1">operator</a></h3>
<p>The operator that rewards are distributed to</p>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="isrewardtoken"><a class="header" href="#isrewardtoken">isRewardToken</a></h3>
<p>Flag to check if reward token added before</p>
<pre><code class="language-solidity">function isRewardToken(address _token) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_token</code></td><td><code>address</code></td><td>the token to check for</td></tr>
</tbody></table>
</div>
<h3 id="getrewardtokens"><a class="header" href="#getrewardtokens">getRewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">function getRewardTokens() external view returns (address[] memory);
</code></pre>
<h3 id="getblocknumber"><a class="header" href="#getblocknumber">getBlockNumber</a></h3>
<p>Get block number</p>
<pre><code class="language-solidity">function getBlockNumber() external view returns (uint32);
</code></pre>
<h3 id="notifysupplyindex"><a class="header" href="#notifysupplyindex">notifySupplyIndex</a></h3>
<p>Notifies supply index</p>
<pre><code class="language-solidity">function notifySupplyIndex(address mToken) external;
</code></pre>
<h3 id="notifyborrowindex"><a class="header" href="#notifyborrowindex">notifyBorrowIndex</a></h3>
<p>Notifies borrow index</p>
<pre><code class="language-solidity">function notifyBorrowIndex(address mToken) external;
</code></pre>
<h3 id="notifysupplier"><a class="header" href="#notifysupplier">notifySupplier</a></h3>
<p>Notifies supplier</p>
<pre><code class="language-solidity">function notifySupplier(address mToken, address supplier) external;
</code></pre>
<h3 id="notifyborrower"><a class="header" href="#notifyborrower">notifyBorrower</a></h3>
<p>Notifies borrower</p>
<pre><code class="language-solidity">function notifyBorrower(address mToken, address borrower) external;
</code></pre>
<h3 id="claim"><a class="header" href="#claim">claim</a></h3>
<p>Claim tokens for `holders</p>
<pre><code class="language-solidity">function claim(address[] memory holders) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>holders</code></td><td><code>address[]</code></td><td>the accounts to claim for</td></tr>
</tbody></table>
</div>
<h2 id="events-4"><a class="header" href="#events-4">Events</a></h2>
<h3 id="rewardaccrued"><a class="header" href="#rewardaccrued">RewardAccrued</a></h3>
<pre><code class="language-solidity">event RewardAccrued(address indexed rewardToken, address indexed user, uint256 deltaAccrued, uint256 totalAccrued);
</code></pre>
<h3 id="rewardgranted"><a class="header" href="#rewardgranted">RewardGranted</a></h3>
<pre><code class="language-solidity">event RewardGranted(address indexed rewardToken, address indexed user, uint256 amount);
</code></pre>
<h3 id="supplyspeedupdated"><a class="header" href="#supplyspeedupdated">SupplySpeedUpdated</a></h3>
<pre><code class="language-solidity">event SupplySpeedUpdated(address indexed rewardToken, address indexed mToken, uint256 supplySpeed);
</code></pre>
<h3 id="borrowspeedupdated"><a class="header" href="#borrowspeedupdated">BorrowSpeedUpdated</a></h3>
<pre><code class="language-solidity">event BorrowSpeedUpdated(address indexed rewardToken, address indexed mToken, uint256 borrowSpeed);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iroles"><a class="header" href="#iroles">IRoles</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIRoles.sol">Git Source</a></p>
<h2 id="functions-11"><a class="header" href="#functions-11">Functions</a></h2>
<h3 id="guardian_pause"><a class="header" href="#guardian_pause">GUARDIAN_PAUSE</a></h3>
<p>Returns GUARDIAN_PAUSE role</p>
<pre><code class="language-solidity">function GUARDIAN_PAUSE() external view returns (bytes32);
</code></pre>
<h3 id="guardian_transfer"><a class="header" href="#guardian_transfer">GUARDIAN_TRANSFER</a></h3>
<p>Returns GUARDIAN_TRANSFER role</p>
<pre><code class="language-solidity">function GUARDIAN_TRANSFER() external view returns (bytes32);
</code></pre>
<h3 id="guardian_seize"><a class="header" href="#guardian_seize">GUARDIAN_SEIZE</a></h3>
<p>Returns GUARDIAN_SEIZE role</p>
<pre><code class="language-solidity">function GUARDIAN_SEIZE() external view returns (bytes32);
</code></pre>
<h3 id="guardian_mint"><a class="header" href="#guardian_mint">GUARDIAN_MINT</a></h3>
<p>Returns GUARDIAN_MINT role</p>
<pre><code class="language-solidity">function GUARDIAN_MINT() external view returns (bytes32);
</code></pre>
<h3 id="guardian_borrow"><a class="header" href="#guardian_borrow">GUARDIAN_BORROW</a></h3>
<p>Returns GUARDIAN_BORROW role</p>
<pre><code class="language-solidity">function GUARDIAN_BORROW() external view returns (bytes32);
</code></pre>
<h3 id="guardian_borrow_cap"><a class="header" href="#guardian_borrow_cap">GUARDIAN_BORROW_CAP</a></h3>
<p>Returns GUARDIAN_BORROW_CAP role</p>
<pre><code class="language-solidity">function GUARDIAN_BORROW_CAP() external view returns (bytes32);
</code></pre>
<h3 id="guardian_supply_cap"><a class="header" href="#guardian_supply_cap">GUARDIAN_SUPPLY_CAP</a></h3>
<p>Returns GUARDIAN_SUPPLY_CAP role</p>
<pre><code class="language-solidity">function GUARDIAN_SUPPLY_CAP() external view returns (bytes32);
</code></pre>
<h3 id="guardian_reserve"><a class="header" href="#guardian_reserve">GUARDIAN_RESERVE</a></h3>
<p>Returns GUARDIAN_RESERVE role</p>
<pre><code class="language-solidity">function GUARDIAN_RESERVE() external view returns (bytes32);
</code></pre>
<h3 id="proof_forwarder"><a class="header" href="#proof_forwarder">PROOF_FORWARDER</a></h3>
<p>Returns PROOF_FORWARDER role</p>
<pre><code class="language-solidity">function PROOF_FORWARDER() external view returns (bytes32);
</code></pre>
<h3 id="logs_add"><a class="header" href="#logs_add">LOGS_ADD</a></h3>
<p>Returns LOGS_ADD role</p>
<pre><code class="language-solidity">function LOGS_ADD() external view returns (bytes32);
</code></pre>
<h3 id="pause_manager"><a class="header" href="#pause_manager">PAUSE_MANAGER</a></h3>
<p>Returns PAUSE_MANAGER role</p>
<pre><code class="language-solidity">function PAUSE_MANAGER() external view returns (bytes32);
</code></pre>
<h3 id="isallowedfor"><a class="header" href="#isallowedfor">isAllowedFor</a></h3>
<p>Returns allowance status for a contract and a role</p>
<pre><code class="language-solidity">function isAllowedFor(address _contract, bytes32 _role) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the contract address</td></tr>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>the bytes32 role</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="iunitaccess"><a class="header" href="#iunitaccess">IUnitAccess</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIUnit.sol">Git Source</a></p>
<h2 id="functions-12"><a class="header" href="#functions-12">Functions</a></h2>
<h3 id="admin-2"><a class="header" href="#admin-2">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">function admin() external view returns (address);
</code></pre>
<h3 id="pendingadmin-2"><a class="header" href="#pendingadmin-2">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">function pendingAdmin() external view returns (address);
</code></pre>
<h3 id="acceptadmin-2"><a class="header" href="#acceptadmin-2">acceptAdmin</a></h3>
<p>Accepts transfer of admin rights. msg.sender must be pendingAdmin</p>
<p><em>Admin function for pending admin to accept role and update admin</em></p>
<pre><code class="language-solidity">function acceptAdmin() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="iunit"><a class="header" href="#iunit">IUnit</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIUnit.sol">Git Source</a></p>
<h2 id="functions-13"><a class="header" href="#functions-13">Functions</a></h2>
<h3 id="operatorimplementation-1"><a class="header" href="#operatorimplementation-1">operatorImplementation</a></h3>
<p>Active brains of Unit</p>
<pre><code class="language-solidity">function operatorImplementation() external view returns (address);
</code></pre>
<h3 id="pendingoperatorimplementation-1"><a class="header" href="#pendingoperatorimplementation-1">pendingOperatorImplementation</a></h3>
<p>Pending brains of Unit</p>
<pre><code class="language-solidity">function pendingOperatorImplementation() external view returns (address);
</code></pre>
<h3 id="acceptimplementation-1"><a class="header" href="#acceptimplementation-1">acceptImplementation</a></h3>
<p>Accepts new implementation of Operator. msg.sender must be pendingImplementation</p>
<p><em>Admin function for new implementation to accept it's role as implementation</em></p>
<pre><code class="language-solidity">function acceptImplementation() external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="izkverifierimageregistry"><a class="header" href="#izkverifierimageregistry">IZkVerifierImageRegistry</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CIZkVerifierImageRegistry.sol">Git Source</a></p>
<h2 id="functions-14"><a class="header" href="#functions-14">Functions</a></h2>
<h3 id="getimageforindex"><a class="header" href="#getimageforindex">getImageForIndex</a></h3>
<p>Returns bytes32 image by index</p>
<pre><code class="language-solidity">function getImageForIndex(uint256 _index) external view returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>the array index</td></tr>
</tbody></table>
</div>
<h3 id="isactive"><a class="header" href="#isactive">isActive</a></h3>
<p>Returns whitelist state for an image id</p>
<pre><code class="language-solidity">function isActive(bytes32 _imageId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageId</code></td><td><code>bytes32</code></td><td>the bytes32 image id</td></tr>
</tbody></table>
</div>
<h3 id="imageindex"><a class="header" href="#imageindex">imageIndex</a></h3>
<p>Returns index array for image id</p>
<pre><code class="language-solidity">function imageIndex(bytes32 _imageId) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageId</code></td><td><code>bytes32</code></td><td>the bytes32 image id</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imerc20"><a class="header" href="#imerc20">ImErc20</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImErc20.sol">Git Source</a></p>
<h2 id="functions-15"><a class="header" href="#functions-15">Functions</a></h2>
<h3 id="mint"><a class="header" href="#mint">mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function mint(uint256 mintAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
</tbody></table>
</div>
<h3 id="redeem"><a class="header" href="#redeem">redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeem(uint256 redeemTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeemunderlying"><a class="header" href="#redeemunderlying">redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeemUnderlying(uint256 redeemAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to redeem</td></tr>
</tbody></table>
</div>
<h3 id="borrow"><a class="header" href="#borrow">borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function borrow(uint256 borrowAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
</tbody></table>
</div>
<h3 id="repay"><a class="header" href="#repay">repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function repay(uint256 repayAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="repaybehalf"><a class="header" href="#repaybehalf">repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function repayBehalf(address borrower, uint256 repayAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="liquidate"><a class="header" href="#liquidate">liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function liquidate(address borrower, uint256 repayAmount, address mTokenCollateral) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
</tbody></table>
</div>
<h3 id="addreserves"><a class="header" href="#addreserves">addReserves</a></h3>
<p>The sender adds to reserves.</p>
<pre><code class="language-solidity">function addReserves(uint256 addAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>The amount fo underlying token to add as reserves</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imerc20host"><a class="header" href="#imerc20host">ImErc20Host</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImErc20Host.sol">Git Source</a></p>
<h2 id="functions-16"><a class="header" href="#functions-16">Functions</a></h2>
<h3 id="logsoperator"><a class="header" href="#logsoperator">logsOperator</a></h3>
<p>Logs manager</p>
<pre><code class="language-solidity">function logsOperator() external view returns (ImTokenLogs);
</code></pre>
<h3 id="getnonce"><a class="header" href="#getnonce">getNonce</a></h3>
<p>Retrieves the current nonce for a user and operation type</p>
<pre><code class="language-solidity">function getNonce(address user, uint32 chainId, ImTokenOperationTypes.OperationType opType)
    external
    view
    returns (uint32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>The chainId to get the data for</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The operation type (Mint, Borrow, Repay, Redeem)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td>The current nonce for the specified user and operation type</td></tr>
</tbody></table>
</div>
<h3 id="liquidateexternal"><a class="header" href="#liquidateexternal">liquidateExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function liquidateExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="mintexternal"><a class="header" href="#mintexternal">mintExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function mintExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="borrowexternal"><a class="header" href="#borrowexternal">borrowExternal</a></h3>
<p>Borrows tokens after external verification</p>
<pre><code class="language-solidity">function borrowExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for borrowing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="borrowonextension"><a class="header" href="#borrowonextension">borrowOnExtension</a></h3>
<p>Initiates a borrowing operation</p>
<pre><code class="language-solidity">function borrowOnExtension(uint256 amount, bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to borrow</td></tr>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for borrowing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="repayexternal"><a class="header" href="#repayexternal">repayExternal</a></h3>
<p>Repays tokens after external verification</p>
<pre><code class="language-solidity">function repayExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for repayment</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="withdrawexternal"><a class="header" href="#withdrawexternal">withdrawExternal</a></h3>
<p>Withdraws tokens after external verification</p>
<pre><code class="language-solidity">function withdrawExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for withdrawing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonextension"><a class="header" href="#withdrawonextension">withdrawOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<pre><code class="language-solidity">function withdrawOnExtension(uint256 amount, bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for withdrawing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h2 id="events-5"><a class="header" href="#events-5">Events</a></h2>
<h3 id="merc20host_liquidateexternal"><a class="header" href="#merc20host_liquidateexternal">mErc20Host_LiquidateExternal</a></h3>
<p>Emitted when a liquidate operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_LiquidateExternal(
    address indexed liquidator,
    address indexed user,
    address indexed collateral,
    uint256 amount,
    uint32 nonce,
    uint32 chainId
);
</code></pre>
<h3 id="merc20host_mintexternal"><a class="header" href="#merc20host_mintexternal">mErc20Host_MintExternal</a></h3>
<p>Emitted when a mint operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_MintExternal(address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="merc20host_borrowexternal"><a class="header" href="#merc20host_borrowexternal">mErc20Host_BorrowExternal</a></h3>
<p>Emitted when a borrow operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_BorrowExternal(
    address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId
);
</code></pre>
<h3 id="merc20host_borrowonexternsionchain"><a class="header" href="#merc20host_borrowonexternsionchain">mErc20Host_BorrowOnExternsionChain</a></h3>
<p>Emitted when a borrow operation is triggered for an extension chain</p>
<pre><code class="language-solidity">event mErc20Host_BorrowOnExternsionChain(
    address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId
);
</code></pre>
<h3 id="merc20host_repayexternal"><a class="header" href="#merc20host_repayexternal">mErc20Host_RepayExternal</a></h3>
<p>Emitted when a repay operation is executed</p>
<pre><code class="language-solidity">event mErc20Host_RepayExternal(
    address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId
);
</code></pre>
<h3 id="merc20host_withdrawexternal"><a class="header" href="#merc20host_withdrawexternal">mErc20Host_WithdrawExternal</a></h3>
<p>Emitted when a withdrawal is executed</p>
<pre><code class="language-solidity">event mErc20Host_WithdrawExternal(
    address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId
);
</code></pre>
<h3 id="merc20host_withdrawonextensionchain"><a class="header" href="#merc20host_withdrawonextensionchain">mErc20Host_WithdrawOnExtensionChain</a></h3>
<p>Emitted when a withdraw operation is triggered for an extension chain</p>
<pre><code class="language-solidity">event mErc20Host_WithdrawOnExtensionChain(
    address indexed from, address indexed user, uint256 amount, uint32 nonce, uint32 chainId
);
</code></pre>
<h2 id="errors-3"><a class="header" href="#errors-3">Errors</a></h2>
<h3 id="merc20host_amountnotvalid"><a class="header" href="#merc20host_amountnotvalid">mErc20Host_AmountNotValid</a></h3>
<p>Thrown when the amount specified is invalid (e.g., zero)</p>
<pre><code class="language-solidity">error mErc20Host_AmountNotValid();
</code></pre>
<h3 id="merc20host_journalnotvalid"><a class="header" href="#merc20host_journalnotvalid">mErc20Host_JournalNotValid</a></h3>
<p>Thrown when the journal data provided is invalid or corrupted</p>
<pre><code class="language-solidity">error mErc20Host_JournalNotValid();
</code></pre>
<h3 id="merc20host_noncenotvalid"><a class="header" href="#merc20host_noncenotvalid">mErc20Host_NonceNotValid</a></h3>
<p>Thrown when the nonce provided is invalid or does not match the expected value</p>
<pre><code class="language-solidity">error mErc20Host_NonceNotValid();
</code></pre>
<h3 id="merc20host_callernotallowed"><a class="header" href="#merc20host_callernotallowed">mErc20Host_CallerNotAllowed</a></h3>
<p>Thrown when caller is not allowed</p>
<pre><code class="language-solidity">error mErc20Host_CallerNotAllowed();
</code></pre>
<h2 id="structs-4"><a class="header" href="#structs-4">Structs</a></h2>
<h3 id="initdata"><a class="header" href="#initdata">InitData</a></h3>
<pre><code class="language-solidity">struct InitData {
    address underlyingToken;
    address operator;
    address interestModel;
    uint256 exchaneRateMantissa;
    string name;
    string symbol;
    uint8 decimals;
    address zkVerifier;
    address imageRegistry;
    address owner;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokenoperationtypes"><a class="header" href="#imtokenoperationtypes">ImTokenOperationTypes</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImToken.sol">Git Source</a></p>
<h2 id="enums-1"><a class="header" href="#enums-1">Enums</a></h2>
<h3 id="operationtype"><a class="header" href="#operationtype">OperationType</a></h3>
<pre><code class="language-solidity">enum OperationType {
    Mint,
    MintOnOtherChain,
    Borrow,
    BorrowOnOtherChain,
    Repay,
    RepayOnOtherChain,
    Redeem,
    RedeemOnOtherChain,
    Transfer,
    Seize,
    Liquidate,
    LiquidateOnOtherChain
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokendelegator"><a class="header" href="#imtokendelegator">ImTokenDelegator</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImToken.sol">Git Source</a></p>
<h2 id="functions-17"><a class="header" href="#functions-17">Functions</a></h2>
<h3 id="delegate"><a class="header" href="#delegate">delegate</a></h3>
<p>Non-standard token able to delegate</p>
<pre><code class="language-solidity">function delegate(address delegatee) external;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokenminimal"><a class="header" href="#imtokenminimal">ImTokenMinimal</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImToken.sol">Git Source</a></p>
<h2 id="functions-18"><a class="header" href="#functions-18">Functions</a></h2>
<h3 id="name-2"><a class="header" href="#name-2">name</a></h3>
<p>EIP-20 token name for this token</p>
<pre><code class="language-solidity">function name() external view returns (string memory);
</code></pre>
<h3 id="symbol"><a class="header" href="#symbol">symbol</a></h3>
<p>EIP-20 token symbol for this token</p>
<pre><code class="language-solidity">function symbol() external view returns (string memory);
</code></pre>
<h3 id="decimals-1"><a class="header" href="#decimals-1">decimals</a></h3>
<p>EIP-20 token decimals for this token</p>
<pre><code class="language-solidity">function decimals() external view returns (uint8);
</code></pre>
<h3 id="totalsupply"><a class="header" href="#totalsupply">totalSupply</a></h3>
<p>Returns the value of tokens in existence.</p>
<pre><code class="language-solidity">function totalSupply() external view returns (uint256);
</code></pre>
<h3 id="balanceof"><a class="header" href="#balanceof">balanceOf</a></h3>
<p>Returns the value of tokens owned by <code>account</code>.</p>
<pre><code class="language-solidity">function balanceOf(address account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The account to check for</td></tr>
</tbody></table>
</div>
<h3 id="ismtoken"><a class="header" href="#ismtoken">isMToken</a></h3>
<p><em>Returns true</em></p>
<pre><code class="language-solidity">function isMToken() external view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtoken"><a class="header" href="#imtoken">ImToken</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5Cinterfaces%5CImToken.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenMinimal.html">ImTokenMinimal</a></p>
<h2 id="functions-19"><a class="header" href="#functions-19">Functions</a></h2>
<h3 id="rolesoperator-2"><a class="header" href="#rolesoperator-2">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="admin-3"><a class="header" href="#admin-3">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">function admin() external view returns (address payable);
</code></pre>
<h3 id="pendingadmin-3"><a class="header" href="#pendingadmin-3">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">function pendingAdmin() external view returns (address payable);
</code></pre>
<h3 id="operator-2"><a class="header" href="#operator-2">operator</a></h3>
<p>Contract which oversees inter-mToken operations</p>
<pre><code class="language-solidity">function operator() external view returns (address);
</code></pre>
<h3 id="interestratemodel"><a class="header" href="#interestratemodel">interestRateModel</a></h3>
<p>Model which tells what the current interest rate should be</p>
<pre><code class="language-solidity">function interestRateModel() external view returns (address);
</code></pre>
<h3 id="reservefactormantissa"><a class="header" href="#reservefactormantissa">reserveFactorMantissa</a></h3>
<p>Fraction of interest currently set aside for reserves</p>
<pre><code class="language-solidity">function reserveFactorMantissa() external view returns (uint256);
</code></pre>
<h3 id="accrualblocknumber"><a class="header" href="#accrualblocknumber">accrualBlockNumber</a></h3>
<p>Block number that interest was last accrued at</p>
<pre><code class="language-solidity">function accrualBlockNumber() external view returns (uint256);
</code></pre>
<h3 id="borrowindex"><a class="header" href="#borrowindex">borrowIndex</a></h3>
<p>Accumulator of the total earned interest rate since the opening of the market</p>
<pre><code class="language-solidity">function borrowIndex() external view returns (uint256);
</code></pre>
<h3 id="totalborrows"><a class="header" href="#totalborrows">totalBorrows</a></h3>
<p>Total amount of outstanding borrows of the underlying in this market</p>
<pre><code class="language-solidity">function totalBorrows() external view returns (uint256);
</code></pre>
<h3 id="totalreserves"><a class="header" href="#totalreserves">totalReserves</a></h3>
<p>Total amount of reserves of the underlying held in this market</p>
<pre><code class="language-solidity">function totalReserves() external view returns (uint256);
</code></pre>
<h3 id="transfer"><a class="header" href="#transfer">transfer</a></h3>
<p>Transfers <code>amount</code> tokens to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transfer(address dst, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the recipient</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="transferfrom"><a class="header" href="#transferfrom">transferFrom</a></h3>
<p>Transfers <code>amount</code> tokens from the <code>src</code> address to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transferFrom(address src, address dst, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address from which tokens are transferred</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address to which tokens are transferred</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="approve"><a class="header" href="#approve">approve</a></h3>
<p>Approves <code>spender</code> to spend <code>amount</code> tokens on behalf of the caller</p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to approve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the approval was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="allowance"><a class="header" href="#allowance">allowance</a></h3>
<p>Returns the current allowance the <code>spender</code> has from the <code>owner</code></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the token holder</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend the tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current remaining number of tokens <code>spender</code> can spend</td></tr>
</tbody></table>
</div>
<h3 id="balanceof-1"><a class="header" href="#balanceof-1">balanceOf</a></h3>
<p>Returns the balance of tokens held by <code>owner</code></p>
<pre><code class="language-solidity">function balanceOf(address owner) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of tokens owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="balanceofunderlying"><a class="header" href="#balanceofunderlying">balanceOfUnderlying</a></h3>
<p>Returns the underlying asset balance of the <code>owner</code></p>
<pre><code class="language-solidity">function balanceOfUnderlying(address owner) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance of underlying assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of underlying assets owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountsnapshot"><a class="header" href="#getaccountsnapshot">getAccountSnapshot</a></h3>
<p>Returns the snapshot of account details for the given <code>account</code></p>
<pre><code class="language-solidity">function getAccountSnapshot(address account) external view returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the account snapshot for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(token balance, borrow balance, exchange rate)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="borrowrateperblock"><a class="header" href="#borrowrateperblock">borrowRatePerBlock</a></h3>
<p>Returns the current borrow rate per block</p>
<pre><code class="language-solidity">function borrowRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supplyrateperblock"><a class="header" href="#supplyrateperblock">supplyRatePerBlock</a></h3>
<p>Returns the current supply rate per block</p>
<pre><code class="language-solidity">function supplyRatePerBlock() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="totalborrowscurrent"><a class="header" href="#totalborrowscurrent">totalBorrowsCurrent</a></h3>
<p>Returns the total amount of borrows, accounting for interest</p>
<pre><code class="language-solidity">function totalBorrowsCurrent() external returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of borrows</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancecurrent"><a class="header" href="#borrowbalancecurrent">borrowBalanceCurrent</a></h3>
<p>Returns the current borrow balance for <code>account</code>, accounting for interest</p>
<pre><code class="language-solidity">function borrowBalanceCurrent(address account) external returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancestored"><a class="header" href="#borrowbalancestored">borrowBalanceStored</a></h3>
<p>Returns the stored borrow balance for <code>account</code>, without accruing interest</p>
<pre><code class="language-solidity">function borrowBalanceStored(address account) external view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the stored borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratecurrent"><a class="header" href="#exchangeratecurrent">exchangeRateCurrent</a></h3>
<p>Returns the current exchange rate, with interest accrued</p>
<pre><code class="language-solidity">function exchangeRateCurrent() external returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratestored"><a class="header" href="#exchangeratestored">exchangeRateStored</a></h3>
<p>Returns the stored exchange rate, without accruing interest</p>
<pre><code class="language-solidity">function exchangeRateStored() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="getcash"><a class="header" href="#getcash">getCash</a></h3>
<p>Returns the total amount of available cash in the contract</p>
<pre><code class="language-solidity">function getCash() external view returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of cash</td></tr>
</tbody></table>
</div>
<h3 id="accrueinterest"><a class="header" href="#accrueinterest">accrueInterest</a></h3>
<p>Accrues interest on the contract's outstanding loans</p>
<pre><code class="language-solidity">function accrueInterest() external;
</code></pre>
<h3 id="seize"><a class="header" href="#seize">seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Will fail unless called by another mToken during the process of liquidation.
Its absolutely critical to use msg.sender as the borrowed mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function seize(address liquidator, address borrower, uint256 seizeTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="reducereserves"><a class="header" href="#reducereserves">reduceReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring to admin</p>
<pre><code class="language-solidity">function reduceReserves(uint256 reduceAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reduceAmount</code></td><td><code>uint256</code></td><td>Amount of reduction to reserves</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="imtokengateway"><a class="header" href="#imtokengateway">ImTokenGateway</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImTokenGateway.sol">Git Source</a></p>
<h2 id="functions-20"><a class="header" href="#functions-20">Functions</a></h2>
<h3 id="rolesoperator-3"><a class="header" href="#rolesoperator-3">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">function rolesOperator() external view returns (IRoles);
</code></pre>
<h3 id="logsoperator-1"><a class="header" href="#logsoperator-1">logsOperator</a></h3>
<p>Logs manager</p>
<pre><code class="language-solidity">function logsOperator() external view returns (ImTokenLogs);
</code></pre>
<h3 id="underlying"><a class="header" href="#underlying">underlying</a></h3>
<p>Returns the address of the underlying token</p>
<pre><code class="language-solidity">function underlying() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>The address of the underlying token</td></tr>
</tbody></table>
</div>
<h3 id="getnonce-1"><a class="header" href="#getnonce-1">getNonce</a></h3>
<p>Retrieves the current nonce for a user and operation type</p>
<pre><code class="language-solidity">function getNonce(address user, uint32 chainId, ImTokenOperationTypes.OperationType opType)
    external
    view
    returns (uint32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>The chainId to get the data for</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The operation type (Mint, Borrow, Repay, Withdraw, Release)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td>The current nonce for the specified user and operation type</td></tr>
</tbody></table>
</div>
<h3 id="nonces"><a class="header" href="#nonces">nonces</a></h3>
<p>Retrieves the current nonce for a user and a specific operation type</p>
<pre><code class="language-solidity">function nonces(address user, uint32 chainId, ImTokenOperationTypes.OperationType opType)
    external
    view
    returns (uint32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>The chainId to get the data for</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The operation type (Mint, Borrow, Repay, Withdraw, Release)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td>The nonce for the specified user and operation type</td></tr>
</tbody></table>
</div>
<h3 id="ispaused-2"><a class="header" href="#ispaused-2">isPaused</a></h3>
<p>returns pause state for operation</p>
<pre><code class="language-solidity">function isPaused(ImTokenOperationTypes.OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="setpaused-2"><a class="header" href="#setpaused-2">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(ImTokenOperationTypes.OperationType _type, bool state) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="liquidateonhost"><a class="header" href="#liquidateonhost">liquidateOnHost</a></h3>
<p>Initiates a liquidation request to be fulfilled on host</p>
<p><em><code>collateral</code> can be address(0)</em></p>
<pre><code class="language-solidity">function liquidateOnHost(uint256 amount, address user, address collateral) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to liquidate</td></tr>
<tr><td><code>user</code></td><td><code>address</code></td><td>The position to liquidate</td></tr>
<tr><td><code>collateral</code></td><td><code>address</code></td><td>The collateral to receive</td></tr>
</tbody></table>
</div>
<h3 id="mintonhost"><a class="header" href="#mintonhost">mintOnHost</a></h3>
<p>Mints new tokens by transferring the underlying token from the user</p>
<pre><code class="language-solidity">function mintOnHost(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint</td></tr>
</tbody></table>
</div>
<h3 id="borrowonhost"><a class="header" href="#borrowonhost">borrowOnHost</a></h3>
<p>Initiates a borrowing operation</p>
<pre><code class="language-solidity">function borrowOnHost(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to borrow</td></tr>
</tbody></table>
</div>
<h3 id="borrowexternal-1"><a class="header" href="#borrowexternal-1">borrowExternal</a></h3>
<p>Finalizes a borrow action initiated from host chain</p>
<pre><code class="language-solidity">function borrowExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data containing the release information</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The zk-proof data required to verify the release</td></tr>
</tbody></table>
</div>
<h3 id="repayonhost"><a class="header" href="#repayonhost">repayOnHost</a></h3>
<p>Repays a borrowed amount by transferring the underlying token from the user</p>
<pre><code class="language-solidity">function repayOnHost(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to repay</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonhost"><a class="header" href="#withdrawonhost">withdrawOnHost</a></h3>
<p>Withdraws tokens and burns the corresponding minted tokens</p>
<pre><code class="language-solidity">function withdrawOnHost(uint256 amount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="withdrawexternal-1"><a class="header" href="#withdrawexternal-1">withdrawExternal</a></h3>
<p>Releases tokens to a user based on a validated zk-proof and journal data</p>
<pre><code class="language-solidity">function withdrawExternal(bytes calldata journalData, bytes calldata seal) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data containing the release information</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The zk-proof data required to verify the release</td></tr>
</tbody></table>
</div>
<h2 id="events-6"><a class="header" href="#events-6">Events</a></h2>
<h3 id="mtokengateway_liquidateinitiated"><a class="header" href="#mtokengateway_liquidateinitiated">mTokenGateway_LiquidateInitiated</a></h3>
<p>Emitted when a liquidate operation is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_LiquidateInitiated(
    address indexed liquidator,
    address indexed user,
    address indexed collateral,
    uint256 amount,
    uint32 nonce,
    uint32 chainId
);
</code></pre>
<h3 id="mtokengateway_mintinitiated"><a class="header" href="#mtokengateway_mintinitiated">mTokenGateway_MintInitiated</a></h3>
<p>Emitted when a mint operation is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_MintInitiated(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="mtokengateway_borrowinitiated"><a class="header" href="#mtokengateway_borrowinitiated">mTokenGateway_BorrowInitiated</a></h3>
<p>Emitted when a borrow operation is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_BorrowInitiated(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="mtokengateway_repayinitiated"><a class="header" href="#mtokengateway_repayinitiated">mTokenGateway_RepayInitiated</a></h3>
<p>Emitted when a repay operation is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_RepayInitiated(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="mtokengateway_withdrawinitiated"><a class="header" href="#mtokengateway_withdrawinitiated">mTokenGateway_WithdrawInitiated</a></h3>
<p>Emitted when a withdrawal is initiated</p>
<pre><code class="language-solidity">event mTokenGateway_WithdrawInitiated(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="mtokengateway_released"><a class="header" href="#mtokengateway_released">mTokenGateway_Released</a></h3>
<p>Emitted when a release operation is executed</p>
<pre><code class="language-solidity">event mTokenGateway_Released(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h3 id="mtokengateway_borrowexternal"><a class="header" href="#mtokengateway_borrowexternal">mTokenGateway_BorrowExternal</a></h3>
<p>Emitted when a borrow operation is finalized</p>
<pre><code class="language-solidity">event mTokenGateway_BorrowExternal(address indexed from, uint256 amount, uint32 nonce, uint32 chainId);
</code></pre>
<h2 id="errors-4"><a class="header" href="#errors-4">Errors</a></h2>
<h3 id="mtokengateway_addressnotvalid"><a class="header" href="#mtokengateway_addressnotvalid">mTokenGateway_AddressNotValid</a></h3>
<p>Thrown when the address is not valid</p>
<pre><code class="language-solidity">error mTokenGateway_AddressNotValid();
</code></pre>
<h3 id="mtokengateway_amounttoobig"><a class="header" href="#mtokengateway_amounttoobig">mTokenGateway_AmountTooBig</a></h3>
<p>Thrown when the amount specified is too large for the operation</p>
<pre><code class="language-solidity">error mTokenGateway_AmountTooBig();
</code></pre>
<h3 id="mtokengateway_noncenotvalid"><a class="header" href="#mtokengateway_noncenotvalid">mTokenGateway_NonceNotValid</a></h3>
<p>Thrown when the nonce provided is invalid for the operation</p>
<pre><code class="language-solidity">error mTokenGateway_NonceNotValid();
</code></pre>
<h3 id="mtokengateway_amountnotvalid"><a class="header" href="#mtokengateway_amountnotvalid">mTokenGateway_AmountNotValid</a></h3>
<p>Thrown when the amount specified is invalid (e.g., zero)</p>
<pre><code class="language-solidity">error mTokenGateway_AmountNotValid();
</code></pre>
<h3 id="mtokengateway_journalnotvalid"><a class="header" href="#mtokengateway_journalnotvalid">mTokenGateway_JournalNotValid</a></h3>
<p>Thrown when the journal data provided is invalid</p>
<pre><code class="language-solidity">error mTokenGateway_JournalNotValid();
</code></pre>
<h3 id="mtokengateway_releasecashnotavailable"><a class="header" href="#mtokengateway_releasecashnotavailable">mTokenGateway_ReleaseCashNotAvailable</a></h3>
<p>Thrown when there is insufficient cash to release the specified amount</p>
<pre><code class="language-solidity">error mTokenGateway_ReleaseCashNotAvailable();
</code></pre>
<h3 id="mtokengateway_nontransferable"><a class="header" href="#mtokengateway_nontransferable">mTokenGateway_NonTransferable</a></h3>
<p>Thrown when token is tranferred</p>
<pre><code class="language-solidity">error mTokenGateway_NonTransferable();
</code></pre>
<h3 id="mtokengateway_callernotallowed"><a class="header" href="#mtokengateway_callernotallowed">mTokenGateway_CallerNotAllowed</a></h3>
<p>Thrown when caller is not allowed</p>
<pre><code class="language-solidity">error mTokenGateway_CallerNotAllowed();
</code></pre>
<h3 id="mtokengateway_paused"><a class="header" href="#mtokengateway_paused">mTokenGateway_Paused</a></h3>
<p>Thrown when market is paused for operation type</p>
<pre><code class="language-solidity">error mTokenGateway_Paused(ImTokenOperationTypes.OperationType _type);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="imtokenlogs"><a class="header" href="#imtokenlogs">ImTokenLogs</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cinterfaces%5CImTokenLogs.sol">Git Source</a></p>
<h2 id="functions-21"><a class="header" href="#functions-21">Functions</a></h2>
<h3 id="getlog"><a class="header" href="#getlog">getLog</a></h3>
<p>returns registered journal for a specific chain</p>
<pre><code class="language-solidity">function getLog(address user, ImTokenOperationTypes.OperationType opType, uint32 nonce)
    external
    view
    returns (uint32 dstChainId, bytes memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
</tbody></table>
</div>
<h3 id="getlogforchain"><a class="header" href="#getlogforchain">getLogForChain</a></h3>
<p>returns registered journal for a specific chain</p>
<pre><code class="language-solidity">function getLogForChain(address user, ImTokenOperationTypes.OperationType opType, uint32 nonce, uint32 chainId)
    external
    view
    returns (uint32 dstChainId, bytes memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>the source chain id type</td></tr>
</tbody></table>
</div>
<h3 id="registerlog"><a class="header" href="#registerlog">registerLog</a></h3>
<p>registers a journal data</p>
<pre><code class="language-solidity">function registerLog(
    address user,
    ImTokenOperationTypes.OperationType opType,
    uint32 srcChainId,
    uint32 dstChainId,
    uint32 nonce,
    bytes memory data
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>srcChainId</code></td><td><code>uint32</code></td><td>the source chain id type</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>the destination chain id type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>the encoded journal data</td></tr>
</tbody></table>
</div>
<h2 id="events-7"><a class="header" href="#events-7">Events</a></h2>
<h3 id="journalregistered"><a class="header" href="#journalregistered">JournalRegistered</a></h3>
<pre><code class="language-solidity">event JournalRegistered(
    address indexed user, ImTokenOperationTypes.OperationType opType, uint32 nonce, uint32 srcChainId, uint32 dstChainId
);
</code></pre>
<h2 id="errors-5"><a class="header" href="#errors-5">Errors</a></h2>
<h3 id="mtokenlogs_notallowed"><a class="header" href="#mtokenlogs_notallowed">mTokenLogs_NotAllowed</a></h3>
<pre><code class="language-solidity">error mTokenLogs_NotAllowed();
</code></pre>
<h3 id="mtokenlogs_addressnotvalid"><a class="header" href="#mtokenlogs_addressnotvalid">mTokenLogs_AddressNotValid</a></h3>
<pre><code class="language-solidity">error mTokenLogs_AddressNotValid();
</code></pre>
<h2 id="structs-5"><a class="header" href="#structs-5">Structs</a></h2>
<h3 id="logdata"><a class="header" href="#logdata">LogData</a></h3>
<pre><code class="language-solidity">struct LogData {
    uint32 chainId;
    bytes data;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-5"><a class="header" href="#contents-5">Contents</a></h1>
<ul>
<li><a href="src%5Clibraries/Bytes32AddressLib.sol%5Clibrary.Bytes32AddressLib.html">Bytes32AddressLib</a></li>
<li><a href="src%5Clibraries/BytesLib.sol%5Clibrary.BytesLib.html">BytesLib</a></li>
<li><a href="src%5Clibraries/CREATE3.sol%5Clibrary.CREATE3.html">CREATE3</a></li>
<li><a href="src%5Clibraries/SafeApprove.sol%5Cinterface.IToken.html">IToken</a></li>
<li><a href="src%5Clibraries/SafeApprove.sol%5Clibrary.SafeApprove.html">SafeApprove</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="bytes32addresslib"><a class="header" href="#bytes32addresslib">Bytes32AddressLib</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Clibraries%5CBytes32AddressLib.sol">Git Source</a></p>
<p><strong>Author:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/Bytes32AddressLib.sol)</p>
<p>Library for converting between addresses and bytes32 values.</p>
<h2 id="functions-22"><a class="header" href="#functions-22">Functions</a></h2>
<h3 id="fromlast20bytes"><a class="header" href="#fromlast20bytes">fromLast20Bytes</a></h3>
<pre><code class="language-solidity">function fromLast20Bytes(bytes32 bytesValue) internal pure returns (address);
</code></pre>
<h3 id="filllast12bytes"><a class="header" href="#filllast12bytes">fillLast12Bytes</a></h3>
<pre><code class="language-solidity">function fillLast12Bytes(address addressValue) internal pure returns (bytes32);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="byteslib"><a class="header" href="#byteslib">BytesLib</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Clibraries%5CBytesLib.sol">Git Source</a></p>
<h2 id="functions-23"><a class="header" href="#functions-23">Functions</a></h2>
<h3 id="concat"><a class="header" href="#concat">concat</a></h3>
<pre><code class="language-solidity">function concat(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bytes memory);
</code></pre>
<h3 id="concatstorage"><a class="header" href="#concatstorage">concatStorage</a></h3>
<pre><code class="language-solidity">function concatStorage(bytes storage _preBytes, bytes memory _postBytes) internal;
</code></pre>
<h3 id="slice"><a class="header" href="#slice">slice</a></h3>
<pre><code class="language-solidity">function slice(bytes memory _bytes, uint256 _start, uint256 _length) internal pure returns (bytes memory);
</code></pre>
<h3 id="toaddress"><a class="header" href="#toaddress">toAddress</a></h3>
<pre><code class="language-solidity">function toAddress(bytes memory _bytes, uint256 _start) internal pure returns (address);
</code></pre>
<h3 id="touint8"><a class="header" href="#touint8">toUint8</a></h3>
<pre><code class="language-solidity">function toUint8(bytes memory _bytes, uint256 _start) internal pure returns (uint8);
</code></pre>
<h3 id="touint16"><a class="header" href="#touint16">toUint16</a></h3>
<pre><code class="language-solidity">function toUint16(bytes memory _bytes, uint256 _start) internal pure returns (uint16);
</code></pre>
<h3 id="touint32"><a class="header" href="#touint32">toUint32</a></h3>
<pre><code class="language-solidity">function toUint32(bytes memory _bytes, uint256 _start) internal pure returns (uint32);
</code></pre>
<h3 id="touint64"><a class="header" href="#touint64">toUint64</a></h3>
<pre><code class="language-solidity">function toUint64(bytes memory _bytes, uint256 _start) internal pure returns (uint64);
</code></pre>
<h3 id="touint96"><a class="header" href="#touint96">toUint96</a></h3>
<pre><code class="language-solidity">function toUint96(bytes memory _bytes, uint256 _start) internal pure returns (uint96);
</code></pre>
<h3 id="touint128"><a class="header" href="#touint128">toUint128</a></h3>
<pre><code class="language-solidity">function toUint128(bytes memory _bytes, uint256 _start) internal pure returns (uint128);
</code></pre>
<h3 id="touint256"><a class="header" href="#touint256">toUint256</a></h3>
<pre><code class="language-solidity">function toUint256(bytes memory _bytes, uint256 _start) internal pure returns (uint256);
</code></pre>
<h3 id="tobytes32"><a class="header" href="#tobytes32">toBytes32</a></h3>
<pre><code class="language-solidity">function toBytes32(bytes memory _bytes, uint256 _start) internal pure returns (bytes32);
</code></pre>
<h3 id="equal"><a class="header" href="#equal">equal</a></h3>
<pre><code class="language-solidity">function equal(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bool);
</code></pre>
<h3 id="equal_nonaligned"><a class="header" href="#equal_nonaligned">equal_nonAligned</a></h3>
<pre><code class="language-solidity">function equal_nonAligned(bytes memory _preBytes, bytes memory _postBytes) internal pure returns (bool);
</code></pre>
<h3 id="equalstorage"><a class="header" href="#equalstorage">equalStorage</a></h3>
<pre><code class="language-solidity">function equalStorage(bytes storage _preBytes, bytes memory _postBytes) internal view returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="create3"><a class="header" href="#create3">CREATE3</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Clibraries%5CCREATE3.sol">Git Source</a></p>
<p><strong>Authors:</strong>
Solmate (https://github.com/transmissions11/solmate/blob/main/src/utils/CREATE3.sol), Modified from 0xSequence (https://github.com/0xSequence/create3/blob/master/contracts/Create3.sol)</p>
<p>Deploy to deterministic addresses without an initcode factor.</p>
<h2 id="state-variables-3"><a class="header" href="#state-variables-3">State Variables</a></h2>
<h3 id="proxy_bytecode"><a class="header" href="#proxy_bytecode">PROXY_BYTECODE</a></h3>
<pre><code class="language-solidity">bytes internal constant PROXY_BYTECODE = hex"67363d3d37363d34f03d5260086018f3";
</code></pre>
<h3 id="proxy_bytecode_hash"><a class="header" href="#proxy_bytecode_hash">PROXY_BYTECODE_HASH</a></h3>
<pre><code class="language-solidity">bytes32 internal constant PROXY_BYTECODE_HASH = keccak256(PROXY_BYTECODE);
</code></pre>
<h2 id="functions-24"><a class="header" href="#functions-24">Functions</a></h2>
<h3 id="deploy"><a class="header" href="#deploy">deploy</a></h3>
<pre><code class="language-solidity">function deploy(bytes32 salt, bytes memory creationCode, uint256 value) internal returns (address deployed);
</code></pre>
<h3 id="getdeployed"><a class="header" href="#getdeployed">getDeployed</a></h3>
<pre><code class="language-solidity">function getDeployed(bytes32 salt) internal view returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="itoken"><a class="header" href="#itoken">IToken</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Clibraries%5CSafeApprove.sol">Git Source</a></p>
<h2 id="functions-25"><a class="header" href="#functions-25">Functions</a></h2>
<h3 id="approve-1"><a class="header" href="#approve-1">approve</a></h3>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external returns (bool);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="safeapprove"><a class="header" href="#safeapprove">SafeApprove</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Clibraries%5CSafeApprove.sol">Git Source</a></p>
<h2 id="functions-26"><a class="header" href="#functions-26">Functions</a></h2>
<h3 id="safeapprove-1"><a class="header" href="#safeapprove-1">safeApprove</a></h3>
<pre><code class="language-solidity">function safeApprove(address token, address to, uint256 value) internal;
</code></pre>
<h2 id="errors-6"><a class="header" href="#errors-6">Errors</a></h2>
<h3 id="safeapprove_nocontract"><a class="header" href="#safeapprove_nocontract">SafeApprove_NoContract</a></h3>
<pre><code class="language-solidity">error SafeApprove_NoContract();
</code></pre>
<h3 id="safeapprove_failed"><a class="header" href="#safeapprove_failed">SafeApprove_Failed</a></h3>
<pre><code class="language-solidity">error SafeApprove_Failed();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-6"><a class="header" href="#contents-6">Contents</a></h1>
<ul>
<li><a href="src%5CmToken//src%5CmToken%5Cextension">extension</a></li>
<li><a href="src%5CmToken//src%5CmToken%5Chost">host</a></li>
<li><a href="src%5CmToken/mErc20.sol%5Ccontract.mErc20.html">mErc20</a></li>
<li><a href="src%5CmToken/mErc20Immutable.sol%5Ccontract.mErc20Immutable.html">mErc20Immutable</a></li>
<li><a href="src%5CmToken/mErc20Upgradable.sol%5Ccontract.mErc20Upgradable.html">mErc20Upgradable</a></li>
<li><a href="src%5CmToken/mToken.sol%5Cabstract.mToken.html">mToken</a></li>
<li><a href="src%5CmToken/mTokenConfiguration.sol%5Cabstract.mTokenConfiguration.html">mTokenConfiguration</a></li>
<li><a href="src%5CmToken/mTokenLogs.sol%5Ccontract.mTokenLogs.html">mTokenLogs</a></li>
<li><a href="src%5CmToken/mTokenStorage.sol%5Cabstract.mTokenStorage.html">mTokenStorage</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-7"><a class="header" href="#contents-7">Contents</a></h1>
<ul>
<li><a href="src%5CmToken%5Cextension/mTokenGateway.sol%5Ccontract.mTokenGateway.html">mTokenGateway</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mtokengateway"><a class="header" href="#mtokengateway">mTokenGateway</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5Cextension%5CmTokenGateway.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, ERC20, <a href="src%5CmToken%5Cextension%5CmTokenGateway.sol//src%5Cverifier%5CZkVerifier.sol%5Cabstract.ZkVerifier.html">ZkVerifier</a>, <a href="src%5CmToken%5Cextension%5CmTokenGateway.sol//src%5Cinterfaces%5CImTokenGateway.sol%5Cinterface.ImTokenGateway.html">ImTokenGateway</a>, <a href="src%5CmToken%5Cextension%5CmTokenGateway.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="state-variables-4"><a class="header" href="#state-variables-4">State Variables</a></h2>
<h3 id="rolesoperator-4"><a class="header" href="#rolesoperator-4">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="logsoperator-2"><a class="header" href="#logsoperator-2">logsOperator</a></h3>
<p>Logs manager</p>
<pre><code class="language-solidity">ImTokenLogs public logsOperator;
</code></pre>
<h3 id="paused"><a class="header" href="#paused">paused</a></h3>
<pre><code class="language-solidity">mapping(OperationType =&gt; bool) public paused;
</code></pre>
<h3 id="underlying-1"><a class="header" href="#underlying-1">underlying</a></h3>
<p>Returns the address of the underlying token</p>
<pre><code class="language-solidity">address public underlying;
</code></pre>
<h3 id="nonces-1"><a class="header" href="#nonces-1">nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(uint32 =&gt; mapping(OperationType =&gt; uint32))) public nonces;
</code></pre>
<h3 id="_underlyingdecimals"><a class="header" href="#_underlyingdecimals">_underlyingDecimals</a></h3>
<pre><code class="language-solidity">uint8 private _underlyingDecimals;
</code></pre>
<h3 id="linea_chain_id"><a class="header" href="#linea_chain_id">LINEA_CHAIN_ID</a></h3>
<pre><code class="language-solidity">uint32 private constant LINEA_CHAIN_ID = 59144;
</code></pre>
<h2 id="functions-27"><a class="header" href="#functions-27">Functions</a></h2>
<h3 id="constructor-3"><a class="header" href="#constructor-3">constructor</a></h3>
<pre><code class="language-solidity">constructor(
    address payable _owner,
    address _underlying,
    address _roles,
    address zkVerifier_,
    address zkVerifierImageRegistry_,
    address _logs
)
    Ownable(_owner)
    ERC20(
        string.concat("pending_", IERC20Metadata(_underlying).name()),
        string.concat("p_", IERC20Metadata(_underlying).symbol())
    );
</code></pre>
<h3 id="notpaused"><a class="header" href="#notpaused">notPaused</a></h3>
<pre><code class="language-solidity">modifier notPaused(OperationType _type);
</code></pre>
<h3 id="decimals-2"><a class="header" href="#decimals-2">decimals</a></h3>
<p>return the decimals value</p>
<pre><code class="language-solidity">function decimals() public view override returns (uint8);
</code></pre>
<h3 id="getnonce-2"><a class="header" href="#getnonce-2">getNonce</a></h3>
<p>Retrieves the current nonce for a user and operation type</p>
<pre><code class="language-solidity">function getNonce(address user, uint32 chainId, OperationType opType) external view returns (uint32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>The chainId to get the data for</td></tr>
<tr><td><code>opType</code></td><td><code>OperationType</code></td><td>The operation type (Mint, Borrow, Repay, Withdraw, Release)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td>The current nonce for the specified user and operation type</td></tr>
</tbody></table>
</div>
<h3 id="ispaused-3"><a class="header" href="#ispaused-3">isPaused</a></h3>
<p>returns pause state for operation</p>
<pre><code class="language-solidity">function isPaused(OperationType _type) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="setpaused-3"><a class="header" href="#setpaused-3">setPaused</a></h3>
<p>Set pause for a specific operation</p>
<pre><code class="language-solidity">function setPaused(OperationType _type, bool state) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_type</code></td><td><code>OperationType</code></td><td>The pause operation type</td></tr>
<tr><td><code>state</code></td><td><code>bool</code></td><td>The pause operation status</td></tr>
</tbody></table>
</div>
<h3 id="setverifier"><a class="header" href="#setverifier">setVerifier</a></h3>
<p>Sets the _risc0Verifier address</p>
<pre><code class="language-solidity">function setVerifier(address _risc0Verifier) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_risc0Verifier</code></td><td><code>address</code></td><td>the new IRiscZeroVerifier address</td></tr>
</tbody></table>
</div>
<h3 id="setverifierimageregistry"><a class="header" href="#setverifierimageregistry">setVerifierImageRegistry</a></h3>
<p>Sets the ZkVerifierImageRegistry</p>
<pre><code class="language-solidity">function setVerifierImageRegistry(address _imageRegistry) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageRegistry</code></td><td><code>address</code></td><td>the new image registry address</td></tr>
</tbody></table>
</div>
<h3 id="liquidateonhost-1"><a class="header" href="#liquidateonhost-1">liquidateOnHost</a></h3>
<p>Initiates a liquidation request to be fulfilled on host</p>
<p><em><code>collateral</code> can be address(0)</em></p>
<pre><code class="language-solidity">function liquidateOnHost(uint256 amount, address user, address collateral)
    external
    override
    notPaused(OperationType.LiquidateOnOtherChain);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to liquidate</td></tr>
<tr><td><code>user</code></td><td><code>address</code></td><td>The position to liquidate</td></tr>
<tr><td><code>collateral</code></td><td><code>address</code></td><td>The collateral to receive</td></tr>
</tbody></table>
</div>
<h3 id="mintonhost-1"><a class="header" href="#mintonhost-1">mintOnHost</a></h3>
<p>Mints new tokens by transferring the underlying token from the user</p>
<pre><code class="language-solidity">function mintOnHost(uint256 amount) external override notPaused(OperationType.MintOnOtherChain);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount of tokens to mint</td></tr>
</tbody></table>
</div>
<h3 id="borrowonhost-1"><a class="header" href="#borrowonhost-1">borrowOnHost</a></h3>
<p>Initiates a borrowing operation</p>
<pre><code class="language-solidity">function borrowOnHost(uint256 amount) external override notPaused(OperationType.BorrowOnOtherChain);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to borrow</td></tr>
</tbody></table>
</div>
<h3 id="borrowexternal-2"><a class="header" href="#borrowexternal-2">borrowExternal</a></h3>
<p>Finalizes a borrow action initiated from host chain</p>
<pre><code class="language-solidity">function borrowExternal(bytes calldata journalData, bytes calldata seal)
    external
    override
    notPaused(OperationType.Borrow);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data containing the release information</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The zk-proof data required to verify the release</td></tr>
</tbody></table>
</div>
<h3 id="repayonhost-1"><a class="header" href="#repayonhost-1">repayOnHost</a></h3>
<p>Repays a borrowed amount by transferring the underlying token from the user</p>
<pre><code class="language-solidity">function repayOnHost(uint256 amount) external notPaused(OperationType.RepayOnOtherChain);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to repay</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonhost-1"><a class="header" href="#withdrawonhost-1">withdrawOnHost</a></h3>
<p>Withdraws tokens and burns the corresponding minted tokens</p>
<pre><code class="language-solidity">function withdrawOnHost(uint256 amount) external notPaused(OperationType.RedeemOnOtherChain);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to withdraw</td></tr>
</tbody></table>
</div>
<h3 id="withdrawexternal-2"><a class="header" href="#withdrawexternal-2">withdrawExternal</a></h3>
<p>Releases tokens to a user based on a validated zk-proof and journal data</p>
<pre><code class="language-solidity">function withdrawExternal(bytes calldata journalData, bytes calldata seal) external notPaused(OperationType.Redeem);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data containing the release information</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The zk-proof data required to verify the release</td></tr>
</tbody></table>
</div>
<h3 id="transfer-1"><a class="header" href="#transfer-1">transfer</a></h3>
<p><em>Non-transferable</em></p>
<pre><code class="language-solidity">function transfer(address, uint256) public pure override returns (bool);
</code></pre>
<h3 id="transferfrom-1"><a class="header" href="#transferfrom-1">transferFrom</a></h3>
<p><em>Non-transferable</em></p>
<pre><code class="language-solidity">function transferFrom(address, address, uint256) public pure override returns (bool);
</code></pre>
<h3 id="_verifyproof"><a class="header" href="#_verifyproof">_verifyProof</a></h3>
<pre><code class="language-solidity">function _verifyProof(OperationType imageType, bytes calldata journalData, bytes calldata seal) private;
</code></pre>
<h3 id="_getnonce"><a class="header" href="#_getnonce">_getNonce</a></h3>
<pre><code class="language-solidity">function _getNonce(address from, uint32 chainId, OperationType operation) private view returns (uint32);
</code></pre>
<h3 id="_increasenonce"><a class="header" href="#_increasenonce">_increaseNonce</a></h3>
<pre><code class="language-solidity">function _increaseNonce(address from, uint32 chainId, OperationType operation) private;
</code></pre>
<h3 id="_checksender"><a class="header" href="#_checksender">_checkSender</a></h3>
<pre><code class="language-solidity">function _checkSender(address sender, address user) private view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-8"><a class="header" href="#contents-8">Contents</a></h1>
<ul>
<li><a href="src%5CmToken%5Chost/mErc20Host.sol%5Ccontract.mErc20Host.html">mErc20Host</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20host"><a class="header" href="#merc20host">mErc20Host</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5Chost%5CmErc20Host.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5Chost%5CmErc20Host.sol//src%5CmToken%5CmErc20Immutable.sol%5Ccontract.mErc20Immutable.html">mErc20Immutable</a>, <a href="src%5CmToken%5Chost%5CmErc20Host.sol//src%5Cverifier%5CZkVerifier.sol%5Cabstract.ZkVerifier.html">ZkVerifier</a>, <a href="src%5CmToken%5Chost%5CmErc20Host.sol//src%5Cinterfaces%5CImErc20Host.sol%5Cinterface.ImErc20Host.html">ImErc20Host</a>, <a href="src%5CmToken%5Chost%5CmErc20Host.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="state-variables-5"><a class="header" href="#state-variables-5">State Variables</a></h2>
<h3 id="nonces-2"><a class="header" href="#nonces-2">nonces</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(uint32 =&gt; mapping(OperationType =&gt; uint32))) public nonces;
</code></pre>
<h3 id="logsoperator-3"><a class="header" href="#logsoperator-3">logsOperator</a></h3>
<p>Logs manager</p>
<pre><code class="language-solidity">ImTokenLogs public logsOperator;
</code></pre>
<h2 id="functions-28"><a class="header" href="#functions-28">Functions</a></h2>
<h3 id="constructor-4"><a class="header" href="#constructor-4">constructor</a></h3>
<p>Constructs the new money market</p>
<pre><code class="language-solidity">constructor(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_,
    address zkVerifier_,
    address zkVerifierImageRegistry_,
    address logs_
)
    mErc20Immutable(
        underlying_,
        operator_,
        interestRateModel_,
        initialExchangeRateMantissa_,
        name_,
        symbol_,
        decimals_,
        admin_
    );
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td>Address of the administrator of this token</td></tr>
<tr><td><code>zkVerifier_</code></td><td><code>address</code></td><td>The IRiscZeroVerifier address</td></tr>
<tr><td><code>zkVerifierImageRegistry_</code></td><td><code>address</code></td><td>The IZkVerifierImageRegistry address</td></tr>
<tr><td><code>logs_</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="getnonce-3"><a class="header" href="#getnonce-3">getNonce</a></h3>
<p>Retrieves the current nonce for a user and operation type</p>
<pre><code class="language-solidity">function getNonce(address user, uint32 chainId, OperationType opType) external view returns (uint32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The address of the user</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>The chainId to get the data for</td></tr>
<tr><td><code>opType</code></td><td><code>OperationType</code></td><td>The operation type (Mint, Borrow, Repay, Redeem)</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint32</code></td><td>The current nonce for the specified user and operation type</td></tr>
</tbody></table>
</div>
<h3 id="setverifier-1"><a class="header" href="#setverifier-1">setVerifier</a></h3>
<p>Sets the _risc0Verifier address</p>
<pre><code class="language-solidity">function setVerifier(address _risc0Verifier) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_risc0Verifier</code></td><td><code>address</code></td><td>the new IRiscZeroVerifier address</td></tr>
</tbody></table>
</div>
<h3 id="setverifierimageregistry-1"><a class="header" href="#setverifierimageregistry-1">setVerifierImageRegistry</a></h3>
<p>Sets the ZkVerifierImageRegistry</p>
<pre><code class="language-solidity">function setVerifierImageRegistry(address _imageRegistry) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageRegistry</code></td><td><code>address</code></td><td>the new image registry address</td></tr>
</tbody></table>
</div>
<h3 id="liquidateexternal-1"><a class="header" href="#liquidateexternal-1">liquidateExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function liquidateExternal(bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="mintexternal-1"><a class="header" href="#mintexternal-1">mintExternal</a></h3>
<p>Mints tokens after external verification</p>
<pre><code class="language-solidity">function mintExternal(bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for minting</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="borrowexternal-3"><a class="header" href="#borrowexternal-3">borrowExternal</a></h3>
<p>Borrows tokens after external verification</p>
<pre><code class="language-solidity">function borrowExternal(bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for borrowing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="borrowonextension-1"><a class="header" href="#borrowonextension-1">borrowOnExtension</a></h3>
<p>Initiates a borrowing operation</p>
<pre><code class="language-solidity">function borrowOnExtension(uint256 amount, bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The amount to borrow</td></tr>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for borrowing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="repayexternal-1"><a class="header" href="#repayexternal-1">repayExternal</a></h3>
<p>Repays tokens after external verification</p>
<pre><code class="language-solidity">function repayExternal(bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for repayment</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="withdrawexternal-3"><a class="header" href="#withdrawexternal-3">withdrawExternal</a></h3>
<p>Withdraws tokens after external verification</p>
<pre><code class="language-solidity">function withdrawExternal(bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for withdrawing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="withdrawonextension-1"><a class="header" href="#withdrawonextension-1">withdrawOnExtension</a></h3>
<p>Initiates a withdraw operation</p>
<pre><code class="language-solidity">function withdrawOnExtension(uint256 amount, bytes calldata journalData, bytes calldata seal) external override;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>journalData</code></td><td><code>bytes</code></td><td>The journal data for withdrawing</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>The Zk proof seal</td></tr>
</tbody></table>
</div>
<h3 id="_verifyproof-1"><a class="header" href="#_verifyproof-1">_verifyProof</a></h3>
<pre><code class="language-solidity">function _verifyProof(OperationType imageType, bytes calldata journalData, bytes calldata seal) private;
</code></pre>
<h3 id="_getnonce-1"><a class="header" href="#_getnonce-1">_getNonce</a></h3>
<pre><code class="language-solidity">function _getNonce(address from, uint32 chainId, OperationType operation) private view returns (uint32);
</code></pre>
<h3 id="_increasenonce-1"><a class="header" href="#_increasenonce-1">_increaseNonce</a></h3>
<pre><code class="language-solidity">function _increaseNonce(address from, uint32 chainId, OperationType operation) private;
</code></pre>
<h3 id="_checksender-1"><a class="header" href="#_checksender-1">_checkSender</a></h3>
<pre><code class="language-solidity">function _checkSender(address sender, address user) private view;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20"><a class="header" href="#merc20">mErc20</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmErc20.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmErc20.sol//src%5CmToken%5CmToken.sol%5Cabstract.mToken.html">mToken</a>, <a href="src%5CmToken%5CmErc20.sol//src%5Cinterfaces%5CImErc20.sol%5Cinterface.ImErc20.html">ImErc20</a></p>
<p>mTokens which wrap an EIP-20 underlying</p>
<h2 id="state-variables-6"><a class="header" href="#state-variables-6">State Variables</a></h2>
<h3 id="underlying-2"><a class="header" href="#underlying-2">underlying</a></h3>
<p>Underlying asset for this mToken</p>
<pre><code class="language-solidity">address public underlying;
</code></pre>
<h2 id="functions-29"><a class="header" href="#functions-29">Functions</a></h2>
<h3 id="initialize"><a class="header" href="#initialize">initialize</a></h3>
<p>Initialize the new money market</p>
<pre><code class="language-solidity">function initialize(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_
) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
</tbody></table>
</div>
<h3 id="delegatemeldaliketo"><a class="header" href="#delegatemeldaliketo">delegateMeldaLikeTo</a></h3>
<p>Admin call to delegate the votes of the MALDA-like underlying</p>
<p><em>mTokens whose underlying are not  should revert here</em></p>
<pre><code class="language-solidity">function delegateMeldaLikeTo(address delegatee) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>delegatee</code></td><td><code>address</code></td><td>The address to delegate votes to</td></tr>
</tbody></table>
</div>
<h3 id="sweeptoken"><a class="header" href="#sweeptoken">sweepToken</a></h3>
<p>A public function to sweep accidental ERC-20 transfers to this contract. Tokens are sent to admin (timelock)</p>
<pre><code class="language-solidity">function sweepToken(IERC20 token) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>token</code></td><td><code>IERC20</code></td><td>The address of the ERC-20 token to sweep</td></tr>
</tbody></table>
</div>
<h3 id="mint-1"><a class="header" href="#mint-1">mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function mint(uint256 mintAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
</tbody></table>
</div>
<h3 id="redeem-1"><a class="header" href="#redeem-1">redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeem(uint256 redeemTokens) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
</tbody></table>
</div>
<h3 id="redeemunderlying-1"><a class="header" href="#redeemunderlying-1">redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function redeemUnderlying(uint256 redeemAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to redeem</td></tr>
</tbody></table>
</div>
<h3 id="borrow-1"><a class="header" href="#borrow-1">borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function borrow(uint256 borrowAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
</tbody></table>
</div>
<h3 id="repay-1"><a class="header" href="#repay-1">repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function repay(uint256 repayAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="repaybehalf-1"><a class="header" href="#repaybehalf-1">repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function repayBehalf(address borrower, uint256 repayAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
</tbody></table>
</div>
<h3 id="liquidate-1"><a class="header" href="#liquidate-1">liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function liquidate(address borrower, uint256 repayAmount, address mTokenCollateral) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
</tbody></table>
</div>
<h3 id="addreserves-1"><a class="header" href="#addreserves-1">addReserves</a></h3>
<p>The sender adds to reserves.</p>
<pre><code class="language-solidity">function addReserves(uint256 addAmount) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>The amount fo underlying token to add as reserves</td></tr>
</tbody></table>
</div>
<h3 id="_getcashprior"><a class="header" href="#_getcashprior">_getCashPrior</a></h3>
<p>Gets balance of this contract in terms of the underlying</p>
<p><em>This excludes the value of the current message, if any</em></p>
<pre><code class="language-solidity">function _getCashPrior() internal view virtual override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The quantity of underlying tokens owned by this contract</td></tr>
</tbody></table>
</div>
<h3 id="_dotransferin"><a class="header" href="#_dotransferin">_doTransferIn</a></h3>
<p><em>Performs a transfer in, reverting upon failure. Returns the amount actually transferred to the protocol, in case of a fee.
This may revert due to insufficient balance or insufficient allowance.</em></p>
<pre><code class="language-solidity">function _doTransferIn(address from, uint256 amount) internal virtual override returns (uint256);
</code></pre>
<h3 id="_dotransferout"><a class="header" href="#_dotransferout">_doTransferOut</a></h3>
<p><em>Performs a transfer out, ideally returning an explanatory error code upon failure rather than reverting.
If caller has not called checked protocol's balance, may revert due to insufficient cash held in the contract.
If caller has checked protocol's balance, and verified it is &gt;= amount, this should not revert in normal conditions.</em></p>
<pre><code class="language-solidity">function _doTransferOut(address payable to, uint256 amount) internal virtual override;
</code></pre>
<h2 id="errors-7"><a class="header" href="#errors-7">Errors</a></h2>
<h3 id="merc20_tokennotvalid"><a class="header" href="#merc20_tokennotvalid">mErc20_TokenNotValid</a></h3>
<pre><code class="language-solidity">error mErc20_TokenNotValid();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="merc20immutable"><a class="header" href="#merc20immutable">mErc20Immutable</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmErc20Immutable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmErc20Immutable.sol//src%5CmToken%5CmErc20.sol%5Ccontract.mErc20.html">mErc20</a></p>
<h2 id="functions-30"><a class="header" href="#functions-30">Functions</a></h2>
<h3 id="constructor-5"><a class="header" href="#constructor-5">constructor</a></h3>
<p>Constructs the new money market</p>
<pre><code class="language-solidity">constructor(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_
);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td>Address of the administrator of this token</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="merc20upgradable"><a class="header" href="#merc20upgradable">mErc20Upgradable</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmErc20Upgradable.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmErc20Upgradable.sol//src%5CmToken%5CmErc20.sol%5Ccontract.mErc20.html">mErc20</a>, Initializable</p>
<h2 id="functions-31"><a class="header" href="#functions-31">Functions</a></h2>
<h3 id="proxyinitialize"><a class="header" href="#proxyinitialize">proxyInitialize</a></h3>
<p>Initialize the new money market</p>
<pre><code class="language-solidity">function proxyInitialize(
    address underlying_,
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_,
    address payable admin_
) external initializer;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>underlying_</code></td><td><code>address</code></td><td>The address of the underlying asset</td></tr>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>ERC-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>ERC-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>ERC-20 decimal precision of this token</td></tr>
<tr><td><code>admin_</code></td><td><code>address payable</code></td><td></td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mtoken"><a class="header" href="#mtoken">mToken</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmToken.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmToken.sol//src%5CmToken%5CmTokenConfiguration.sol%5Cabstract.mTokenConfiguration.html">mTokenConfiguration</a>, <a href="src%5CmToken%5CmToken.sol//src%5Cutils%5CReentrancyGuardTransient.sol%5Cabstract.ReentrancyGuardTransient.html">ReentrancyGuardTransient</a></p>
<h2 id="functions-32"><a class="header" href="#functions-32">Functions</a></h2>
<h3 id="initialize-1"><a class="header" href="#initialize-1">initialize</a></h3>
<p>Initialize the money market</p>
<pre><code class="language-solidity">function initialize(
    address operator_,
    address interestRateModel_,
    uint256 initialExchangeRateMantissa_,
    string memory name_,
    string memory symbol_,
    uint8 decimals_
) public onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>operator_</code></td><td><code>address</code></td><td>The address of the Operator</td></tr>
<tr><td><code>interestRateModel_</code></td><td><code>address</code></td><td>The address of the interest rate model</td></tr>
<tr><td><code>initialExchangeRateMantissa_</code></td><td><code>uint256</code></td><td>The initial exchange rate, scaled by 1e18</td></tr>
<tr><td><code>name_</code></td><td><code>string</code></td><td>EIP-20 name of this token</td></tr>
<tr><td><code>symbol_</code></td><td><code>string</code></td><td>EIP-20 symbol of this token</td></tr>
<tr><td><code>decimals_</code></td><td><code>uint8</code></td><td>EIP-20 decimal precision of this token</td></tr>
</tbody></table>
</div>
<h3 id="ismtoken-1"><a class="header" href="#ismtoken-1">isMToken</a></h3>
<pre><code class="language-solidity">function isMToken() external pure override returns (bool);
</code></pre>
<h3 id="allowance-1"><a class="header" href="#allowance-1">allowance</a></h3>
<p>Returns the current allowance the <code>spender</code> has from the <code>owner</code></p>
<pre><code class="language-solidity">function allowance(address owner, address spender) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address of the token holder</td></tr>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend the tokens</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current remaining number of tokens <code>spender</code> can spend</td></tr>
</tbody></table>
</div>
<h3 id="balanceof-2"><a class="header" href="#balanceof-2">balanceOf</a></h3>
<p>Returns the value of tokens owned by <code>account</code>.</p>
<pre><code class="language-solidity">function balanceOf(address owner) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="balanceofunderlying-1"><a class="header" href="#balanceofunderlying-1">balanceOfUnderlying</a></h3>
<p>Returns the underlying asset balance of the <code>owner</code></p>
<pre><code class="language-solidity">function balanceOfUnderlying(address owner) external override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>owner</code></td><td><code>address</code></td><td>The address to query the balance of underlying assets for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The balance of underlying assets owned by <code>owner</code></td></tr>
</tbody></table>
</div>
<h3 id="getaccountsnapshot-1"><a class="header" href="#getaccountsnapshot-1">getAccountSnapshot</a></h3>
<p>Returns the snapshot of account details for the given <code>account</code></p>
<pre><code class="language-solidity">function getAccountSnapshot(address account) external view override returns (uint256, uint256, uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the account snapshot for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(token balance, borrow balance, exchange rate)</td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="borrowrateperblock-1"><a class="header" href="#borrowrateperblock-1">borrowRatePerBlock</a></h3>
<p>Returns the current borrow rate per block</p>
<pre><code class="language-solidity">function borrowRatePerBlock() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="supplyrateperblock-1"><a class="header" href="#supplyrateperblock-1">supplyRatePerBlock</a></h3>
<p>Returns the current supply rate per block</p>
<pre><code class="language-solidity">function supplyRatePerBlock() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current supply rate per block, scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancestored-1"><a class="header" href="#borrowbalancestored-1">borrowBalanceStored</a></h3>
<p>Returns the stored borrow balance for <code>account</code>, without accruing interest</p>
<pre><code class="language-solidity">function borrowBalanceStored(address account) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the stored borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="getcash-1"><a class="header" href="#getcash-1">getCash</a></h3>
<p>Returns the total amount of available cash in the contract</p>
<pre><code class="language-solidity">function getCash() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of cash</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratestored-1"><a class="header" href="#exchangeratestored-1">exchangeRateStored</a></h3>
<p>Returns the stored exchange rate, without accruing interest</p>
<pre><code class="language-solidity">function exchangeRateStored() external view override returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The stored exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="transfer-2"><a class="header" href="#transfer-2">transfer</a></h3>
<p>Transfers <code>amount</code> tokens to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transfer(address dst, uint256 amount) external override nonReentrant returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the recipient</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="transferfrom-2"><a class="header" href="#transferfrom-2">transferFrom</a></h3>
<p>Transfers <code>amount</code> tokens from the <code>src</code> address to the <code>dst</code> address</p>
<pre><code class="language-solidity">function transferFrom(address src, address dst, uint256 amount) external override nonReentrant returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address from which tokens are transferred</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address to which tokens are transferred</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the transfer was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="approve-2"><a class="header" href="#approve-2">approve</a></h3>
<p>Approves <code>spender</code> to spend <code>amount</code> tokens on behalf of the caller</p>
<pre><code class="language-solidity">function approve(address spender, uint256 amount) external override returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address authorized to spend tokens</td></tr>
<tr><td><code>amount</code></td><td><code>uint256</code></td><td>The number of tokens to approve</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Whether the approval was successful or not</td></tr>
</tbody></table>
</div>
<h3 id="totalborrowscurrent-1"><a class="header" href="#totalborrowscurrent-1">totalBorrowsCurrent</a></h3>
<p>Returns the total amount of borrows, accounting for interest</p>
<pre><code class="language-solidity">function totalBorrowsCurrent() external override nonReentrant returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The total amount of borrows</td></tr>
</tbody></table>
</div>
<h3 id="borrowbalancecurrent-1"><a class="header" href="#borrowbalancecurrent-1">borrowBalanceCurrent</a></h3>
<p>Returns the current borrow balance for <code>account</code>, accounting for interest</p>
<pre><code class="language-solidity">function borrowBalanceCurrent(address account) external override nonReentrant returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address to query the borrow balance for</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current borrow balance</td></tr>
</tbody></table>
</div>
<h3 id="exchangeratecurrent-1"><a class="header" href="#exchangeratecurrent-1">exchangeRateCurrent</a></h3>
<p>Returns the current exchange rate, with interest accrued</p>
<pre><code class="language-solidity">function exchangeRateCurrent() public override nonReentrant returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The current exchange rate</td></tr>
</tbody></table>
</div>
<h3 id="seize-1"><a class="header" href="#seize-1">seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Will fail unless called by another mToken during the process of liquidation.
Its absolutely critical to use msg.sender as the borrowed mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function seize(address liquidator, address borrower, uint256 seizeTokens) external override nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="reducereserves-1"><a class="header" href="#reducereserves-1">reduceReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring to admin</p>
<pre><code class="language-solidity">function reduceReserves(uint256 reduceAmount) external override nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>reduceAmount</code></td><td><code>uint256</code></td><td>Amount of reduction to reserves</td></tr>
</tbody></table>
</div>
<h3 id="_borrowbalancestored"><a class="header" href="#_borrowbalancestored">_borrowBalanceStored</a></h3>
<p>Return the borrow balance of account based on stored data</p>
<pre><code class="language-solidity">function _borrowBalanceStored(address account) internal view returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>account</code></td><td><code>address</code></td><td>The address whose balance should be calculated</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>(error code, the calculated balance or 0 if error code is non-zero)</td></tr>
</tbody></table>
</div>
<h3 id="_mint"><a class="header" href="#_mint">_mint</a></h3>
<p>Sender supplies assets into the market and receives mTokens in exchange</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _mint(address user, uint256 mintAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_redeem"><a class="header" href="#_redeem">_redeem</a></h3>
<p>Sender redeems mTokens in exchange for the underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _redeem(address user, uint256 redeemTokens, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>redeemTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to redeem into underlying</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_redeemunderlying"><a class="header" href="#_redeemunderlying">_redeemUnderlying</a></h3>
<p>Sender redeems mTokens in exchange for a specified amount of underlying asset</p>
<p><em>Accrues interest whether or not the operation succeeds, unless reverted</em></p>
<pre><code class="language-solidity">function _redeemUnderlying(address user, uint256 redeemAmount) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>redeemAmount</code></td><td><code>uint256</code></td><td>The amount of underlying to receive from redeeming mTokens</td></tr>
</tbody></table>
</div>
<h3 id="_borrow"><a class="header" href="#_borrow">_borrow</a></h3>
<p>Sender borrows assets from the protocol to their own address</p>
<pre><code class="language-solidity">function _borrow(address user, uint256 borrowAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>The user address</td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_repay"><a class="header" href="#_repay">_repay</a></h3>
<p>Sender repays their own borrow</p>
<pre><code class="language-solidity">function _repay(uint256 repayAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_repaybehalf"><a class="header" href="#_repaybehalf">_repayBehalf</a></h3>
<p>Sender repays a borrow belonging to borrower</p>
<pre><code class="language-solidity">function _repayBehalf(address borrower, uint256 repayAmount, bool doTransfer) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount to repay, or -1 for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_liquidate"><a class="header" href="#_liquidate">_liquidate</a></h3>
<p>The sender liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function _liquidate(address borrower, uint256 repayAmount, address mTokenCollateral, bool doTransfer)
    internal
    nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_seize"><a class="header" href="#_seize">_seize</a></h3>
<p>Transfers collateral tokens (this market) to the liquidator.</p>
<p><em>Called only during an in-kind liquidation, or by liquidateBorrow during the liquidation of another mToken.
Its absolutely critical to use msg.sender as the seizer mToken and not a parameter.</em></p>
<pre><code class="language-solidity">function _seize(address seizerToken, address liquidator, address borrower, uint256 seizeTokens) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>seizerToken</code></td><td><code>address</code></td><td>The contract seizing the collateral (i.e. borrowed mToken)</td></tr>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The account receiving seized collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The account having collateral seized</td></tr>
<tr><td><code>seizeTokens</code></td><td><code>uint256</code></td><td>The number of mTokens to seize</td></tr>
</tbody></table>
</div>
<h3 id="_addreserves"><a class="header" href="#_addreserves">_addReserves</a></h3>
<p>Accrues interest and reduces reserves by transferring from msg.sender</p>
<pre><code class="language-solidity">function _addReserves(uint256 addAmount) internal nonReentrant;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>addAmount</code></td><td><code>uint256</code></td><td>Amount of addition to reserves</td></tr>
</tbody></table>
</div>
<h3 id="__liquidate"><a class="header" href="#__liquidate">__liquidate</a></h3>
<p>The liquidator liquidates the borrowers collateral.
The collateral seized is transferred to the liquidator.</p>
<pre><code class="language-solidity">function __liquidate(
    address liquidator,
    address borrower,
    uint256 repayAmount,
    address mTokenCollateral,
    bool doTransfer
) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>liquidator</code></td><td><code>address</code></td><td>The address repaying the borrow and seizing collateral</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>The borrower of this mToken to be liquidated</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying borrowed asset to repay</td></tr>
<tr><td><code>mTokenCollateral</code></td><td><code>address</code></td><td>The market in which to seize collateral from the borrower</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="__repay"><a class="header" href="#__repay">__repay</a></h3>
<p>Borrows are repaid by another user (possibly the borrower).</p>
<pre><code class="language-solidity">function __repay(address payer, address borrower, uint256 repayAmount, bool doTransfer) private returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>payer</code></td><td><code>address</code></td><td>the account paying off the borrow</td></tr>
<tr><td><code>borrower</code></td><td><code>address</code></td><td>the account with the debt being payed off</td></tr>
<tr><td><code>repayAmount</code></td><td><code>uint256</code></td><td>the amount of underlying tokens being returned, or -1 for the full outstanding amount</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="__borrow"><a class="header" href="#__borrow">__borrow</a></h3>
<p>Users borrow assets from the protocol to their own address</p>
<pre><code class="language-solidity">function __borrow(address payable borrower, uint256 borrowAmount, bool doTransfer) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>borrower</code></td><td><code>address payable</code></td><td></td></tr>
<tr><td><code>borrowAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to borrow</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="__redeem"><a class="header" href="#__redeem">__redeem</a></h3>
<pre><code class="language-solidity">function __redeem(address payable redeemer, uint256 redeemTokensIn, uint256 redeemAmountIn, bool doTransfer) private;
</code></pre>
<h3 id="__mint"><a class="header" href="#__mint">__mint</a></h3>
<p>User supplies assets into the market and receives mTokens in exchange</p>
<p><em>Assumes interest has already been accrued up to the current block</em></p>
<pre><code class="language-solidity">function __mint(address minter, uint256 mintAmount, bool doTransfer) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>minter</code></td><td><code>address</code></td><td>The address of the account which is supplying the assets</td></tr>
<tr><td><code>mintAmount</code></td><td><code>uint256</code></td><td>The amount of the underlying asset to supply</td></tr>
<tr><td><code>doTransfer</code></td><td><code>bool</code></td><td>If an actual transfer should be performed</td></tr>
</tbody></table>
</div>
<h3 id="_transfertokens"><a class="header" href="#_transfertokens">_transferTokens</a></h3>
<p>Transfer <code>tokens</code> tokens from <code>src</code> to <code>dst</code> by <code>spender</code></p>
<p><em>Called by both <code>transfer</code> and <code>transferFrom</code> internally</em></p>
<pre><code class="language-solidity">function _transferTokens(address spender, address src, address dst, uint256 tokens) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>spender</code></td><td><code>address</code></td><td>The address of the account performing the transfer</td></tr>
<tr><td><code>src</code></td><td><code>address</code></td><td>The address of the source account</td></tr>
<tr><td><code>dst</code></td><td><code>address</code></td><td>The address of the destination account</td></tr>
<tr><td><code>tokens</code></td><td><code>uint256</code></td><td>The number of tokens to transfer</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenconfiguration"><a class="header" href="#mtokenconfiguration">mTokenConfiguration</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmTokenConfiguration.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmTokenConfiguration.sol//src%5CmToken%5CmTokenStorage.sol%5Cabstract.mTokenStorage.html">mTokenStorage</a></p>
<h2 id="functions-33"><a class="header" href="#functions-33">Functions</a></h2>
<h3 id="onlyadmin-2"><a class="header" href="#onlyadmin-2">onlyAdmin</a></h3>
<pre><code class="language-solidity">modifier onlyAdmin();
</code></pre>
<h3 id="setoperator"><a class="header" href="#setoperator">setOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setOperator(address _operator) external onlyAdmin;
</code></pre>
<h3 id="setrolesoperator-1"><a class="header" href="#setrolesoperator-1">setRolesOperator</a></h3>
<p>Sets a new Operator for the market</p>
<p><em>Admin function to set a new operator</em></p>
<pre><code class="language-solidity">function setRolesOperator(address _roles) external onlyAdmin;
</code></pre>
<h3 id="setinterestratemodel"><a class="header" href="#setinterestratemodel">setInterestRateModel</a></h3>
<p>accrues interest and updates the interest rate model using _setInterestRateModelFresh</p>
<p><em>Admin function to accrue interest and update the interest rate model</em></p>
<pre><code class="language-solidity">function setInterestRateModel(address newInterestRateModel) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newInterestRateModel</code></td><td><code>address</code></td><td>the new interest rate model to use</td></tr>
</tbody></table>
</div>
<h3 id="setreservefactor"><a class="header" href="#setreservefactor">setReserveFactor</a></h3>
<p>accrues interest and sets a new reserve factor for the protocol using _setReserveFactorFresh</p>
<p><em>Admin function to accrue interest and set a new reserve factor</em></p>
<pre><code class="language-solidity">function setReserveFactor(uint256 newReserveFactorMantissa) external onlyAdmin;
</code></pre>
<h3 id="setpendingadmin-2"><a class="header" href="#setpendingadmin-2">setPendingAdmin</a></h3>
<p>Begins transfer of admin rights. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</p>
<p><em>Admin function to begin change of admin. The newPendingAdmin must call <code>_acceptAdmin</code> to finalize the transfer.</em></p>
<pre><code class="language-solidity">function setPendingAdmin(address payable newPendingAdmin) external onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newPendingAdmin</code></td><td><code>address payable</code></td><td>New pending admin.</td></tr>
</tbody></table>
</div>
<h3 id="acceptadmin-3"><a class="header" href="#acceptadmin-3">acceptAdmin</a></h3>
<p>Accepts transfer of admin rights. msg.sender must be pendingAdmin</p>
<p><em>Admin function for pending admin to accept role and update admin</em></p>
<pre><code class="language-solidity">function acceptAdmin() external;
</code></pre>
<h3 id="_setinterestratemodel"><a class="header" href="#_setinterestratemodel">_setInterestRateModel</a></h3>
<p>updates the interest rate model (*requires fresh interest accrual)</p>
<p><em>Admin function to update the interest rate model</em></p>
<pre><code class="language-solidity">function _setInterestRateModel(address newInterestRateModel) internal onlyAdmin;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>newInterestRateModel</code></td><td><code>address</code></td><td>the new interest rate model to use</td></tr>
</tbody></table>
</div>
<h3 id="_setoperator"><a class="header" href="#_setoperator">_setOperator</a></h3>
<pre><code class="language-solidity">function _setOperator(address _operator) internal;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenlogs"><a class="header" href="#mtokenlogs">mTokenLogs</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmTokenLogs.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmTokenLogs.sol//src%5Cinterfaces%5CImTokenLogs.sol%5Cinterface.ImTokenLogs.html">ImTokenLogs</a>, <a href="src%5CmToken%5CmTokenLogs.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImTokenOperationTypes.html">ImTokenOperationTypes</a></p>
<h2 id="state-variables-7"><a class="header" href="#state-variables-7">State Variables</a></h2>
<h3 id="roles"><a class="header" href="#roles">roles</a></h3>
<pre><code class="language-solidity">IRoles public roles;
</code></pre>
<h3 id="journals"><a class="header" href="#journals">journals</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(uint256 =&gt; mapping(OperationType =&gt; mapping(uint256 =&gt; LogData)))) public journals;
</code></pre>
<h2 id="functions-34"><a class="header" href="#functions-34">Functions</a></h2>
<h3 id="constructor-6"><a class="header" href="#constructor-6">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles);
</code></pre>
<h3 id="getlog-1"><a class="header" href="#getlog-1">getLog</a></h3>
<p>returns registered journal for a specific chain</p>
<pre><code class="language-solidity">function getLog(address user, OperationType opType, uint32 nonce)
    external
    view
    override
    returns (uint32 chainId, bytes memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
</tbody></table>
</div>
<h3 id="getlogforchain-1"><a class="header" href="#getlogforchain-1">getLogForChain</a></h3>
<p>returns registered journal for a specific chain</p>
<pre><code class="language-solidity">function getLogForChain(address user, OperationType opType, uint32 nonce, uint32 chainId)
    external
    view
    override
    returns (uint32, bytes memory);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
<tr><td><code>chainId</code></td><td><code>uint32</code></td><td>the source chain id type</td></tr>
</tbody></table>
</div>
<h3 id="registerlog-1"><a class="header" href="#registerlog-1">registerLog</a></h3>
<p>registers a journal data</p>
<pre><code class="language-solidity">function registerLog(
    address user,
    OperationType opType,
    uint32 srcChainId,
    uint32 dstChainId,
    uint32 nonce,
    bytes memory data
) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>user</code></td><td><code>address</code></td><td>the account address</td></tr>
<tr><td><code>opType</code></td><td><code>OperationType</code></td><td>the operation type</td></tr>
<tr><td><code>srcChainId</code></td><td><code>uint32</code></td><td>the source chain id type</td></tr>
<tr><td><code>dstChainId</code></td><td><code>uint32</code></td><td>the destination chain id type</td></tr>
<tr><td><code>nonce</code></td><td><code>uint32</code></td><td>the nonce value</td></tr>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>the encoded journal data</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="mtokenstorage"><a class="header" href="#mtokenstorage">mTokenStorage</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CmToken%5CmTokenStorage.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5CmToken%5CmTokenStorage.sol//src%5Cinterfaces%5CImToken.sol%5Cinterface.ImToken.html">ImToken</a>, <a href="src%5CmToken%5CmTokenStorage.sol//src%5Cutils%5CExponentialNoError.sol%5Cabstract.ExponentialNoError.html">ExponentialNoError</a></p>
<h2 id="state-variables-8"><a class="header" href="#state-variables-8">State Variables</a></h2>
<h3 id="admin-4"><a class="header" href="#admin-4">admin</a></h3>
<p>Administrator for this contract</p>
<pre><code class="language-solidity">address payable public admin;
</code></pre>
<h3 id="pendingadmin-4"><a class="header" href="#pendingadmin-4">pendingAdmin</a></h3>
<p>Pending administrator for this contract</p>
<pre><code class="language-solidity">address payable public pendingAdmin;
</code></pre>
<h3 id="operator-3"><a class="header" href="#operator-3">operator</a></h3>
<p>Contract which oversees inter-mToken operations</p>
<pre><code class="language-solidity">address public operator;
</code></pre>
<h3 id="rolesoperator-5"><a class="header" href="#rolesoperator-5">rolesOperator</a></h3>
<p>Roles manager</p>
<pre><code class="language-solidity">IRoles public rolesOperator;
</code></pre>
<h3 id="name-3"><a class="header" href="#name-3">name</a></h3>
<p>EIP-20 token name for this token</p>
<pre><code class="language-solidity">string public name;
</code></pre>
<h3 id="symbol-1"><a class="header" href="#symbol-1">symbol</a></h3>
<p>EIP-20 token symbol for this token</p>
<pre><code class="language-solidity">string public symbol;
</code></pre>
<h3 id="decimals-3"><a class="header" href="#decimals-3">decimals</a></h3>
<p>EIP-20 token decimals for this token</p>
<pre><code class="language-solidity">uint8 public decimals;
</code></pre>
<h3 id="interestratemodel-1"><a class="header" href="#interestratemodel-1">interestRateModel</a></h3>
<p>Model which tells what the current interest rate should be</p>
<pre><code class="language-solidity">address public interestRateModel;
</code></pre>
<h3 id="reservefactormantissa-1"><a class="header" href="#reservefactormantissa-1">reserveFactorMantissa</a></h3>
<p>Fraction of interest currently set aside for reserves</p>
<pre><code class="language-solidity">uint256 public reserveFactorMantissa;
</code></pre>
<h3 id="accrualblocknumber-1"><a class="header" href="#accrualblocknumber-1">accrualBlockNumber</a></h3>
<p>Block number that interest was last accrued at</p>
<pre><code class="language-solidity">uint256 public accrualBlockNumber;
</code></pre>
<h3 id="borrowindex-1"><a class="header" href="#borrowindex-1">borrowIndex</a></h3>
<p>Accumulator of the total earned interest rate since the opening of the market</p>
<pre><code class="language-solidity">uint256 public borrowIndex;
</code></pre>
<h3 id="totalborrows-1"><a class="header" href="#totalborrows-1">totalBorrows</a></h3>
<p>Total amount of outstanding borrows of the underlying in this market</p>
<pre><code class="language-solidity">uint256 public totalBorrows;
</code></pre>
<h3 id="totalreserves-1"><a class="header" href="#totalreserves-1">totalReserves</a></h3>
<p>Total amount of reserves of the underlying held in this market</p>
<pre><code class="language-solidity">uint256 public totalReserves;
</code></pre>
<h3 id="totalsupply-1"><a class="header" href="#totalsupply-1">totalSupply</a></h3>
<p>Returns the value of tokens in existence.</p>
<pre><code class="language-solidity">uint256 public totalSupply;
</code></pre>
<h3 id="accountborrows"><a class="header" href="#accountborrows">accountBorrows</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; BorrowSnapshot) internal accountBorrows;
</code></pre>
<h3 id="accounttokens"><a class="header" href="#accounttokens">accountTokens</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; uint256) internal accountTokens;
</code></pre>
<h3 id="transferallowances"><a class="header" href="#transferallowances">transferAllowances</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; uint256)) internal transferAllowances;
</code></pre>
<h3 id="initialexchangeratemantissa"><a class="header" href="#initialexchangeratemantissa">initialExchangeRateMantissa</a></h3>
<p>Initial exchange rate used when minting the first mTokens (used when totalSupply = 0)</p>
<pre><code class="language-solidity">uint256 internal initialExchangeRateMantissa;
</code></pre>
<h3 id="borrow_rate_max_mantissa"><a class="header" href="#borrow_rate_max_mantissa">BORROW_RATE_MAX_MANTISSA</a></h3>
<p>Maximum borrow rate that can ever be applied (.0005% / block)</p>
<pre><code class="language-solidity">uint256 internal constant BORROW_RATE_MAX_MANTISSA = 0.00004e16;
</code></pre>
<h3 id="reserve_factor_max_mantissa"><a class="header" href="#reserve_factor_max_mantissa">RESERVE_FACTOR_MAX_MANTISSA</a></h3>
<p>Maximum fraction of interest that can be set aside for reserves</p>
<pre><code class="language-solidity">uint256 internal constant RESERVE_FACTOR_MAX_MANTISSA = 1e18;
</code></pre>
<h3 id="protocol_seize_share_mantissa"><a class="header" href="#protocol_seize_share_mantissa">PROTOCOL_SEIZE_SHARE_MANTISSA</a></h3>
<p>Share of seized collateral that is added to reserves</p>
<pre><code class="language-solidity">uint256 internal constant PROTOCOL_SEIZE_SHARE_MANTISSA = 2.8e16;
</code></pre>
<h2 id="functions-35"><a class="header" href="#functions-35">Functions</a></h2>
<h3 id="accrueinterest-1"><a class="header" href="#accrueinterest-1">accrueInterest</a></h3>
<p>Accrues interest on the contract's outstanding loans</p>
<pre><code class="language-solidity">function accrueInterest() external virtual;
</code></pre>
<h3 id="_getblocknumber"><a class="header" href="#_getblocknumber">_getBlockNumber</a></h3>
<p><em>Function to simply retrieve block number
This exists mainly for inheriting test contracts to stub this result.</em></p>
<pre><code class="language-solidity">function _getBlockNumber() internal view virtual returns (uint256);
</code></pre>
<h3 id="_exchangeratestored"><a class="header" href="#_exchangeratestored">_exchangeRateStored</a></h3>
<p>Calculates the exchange rate from the underlying to the MToken</p>
<p><em>This function does not accrue interest before calculating the exchange rate</em></p>
<pre><code class="language-solidity">function _exchangeRateStored() internal view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>calculated exchange rate scaled by 1e18</td></tr>
</tbody></table>
</div>
<h3 id="_getcashprior-1"><a class="header" href="#_getcashprior-1">_getCashPrior</a></h3>
<p>Gets balance of this contract in terms of the underlying</p>
<p><em>This excludes the value of the current message, if any</em></p>
<pre><code class="language-solidity">function _getCashPrior() internal view virtual returns (uint256);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The quantity of underlying owned by this contract</td></tr>
</tbody></table>
</div>
<h3 id="_dotransferin-1"><a class="header" href="#_dotransferin-1">_doTransferIn</a></h3>
<p><em>Performs a transfer in, reverting upon failure. Returns the amount actually transferred to the protocol, in case of a fee.
This may revert due to insufficient balance or insufficient allowance.</em></p>
<pre><code class="language-solidity">function _doTransferIn(address from, uint256 amount) internal virtual returns (uint256);
</code></pre>
<h3 id="_dotransferout-1"><a class="header" href="#_dotransferout-1">_doTransferOut</a></h3>
<p><em>Performs a transfer out, ideally returning an explanatory error code upon failure rather than reverting.
If caller has not called checked protocol's balance, may revert due to insufficient cash held in the contract.
If caller has checked protocol's balance, and verified it is &gt;= amount, this should not revert in normal conditions.</em></p>
<pre><code class="language-solidity">function _doTransferOut(address payable to, uint256 amount) internal virtual;
</code></pre>
<h3 id="_accrueinterest"><a class="header" href="#_accrueinterest">_accrueInterest</a></h3>
<pre><code class="language-solidity">function _accrueInterest() internal;
</code></pre>
<h2 id="events-8"><a class="header" href="#events-8">Events</a></h2>
<h3 id="newrolesoperator-1"><a class="header" href="#newrolesoperator-1">NewRolesOperator</a></h3>
<p>Event emitted when rolesOperator is changed</p>
<pre><code class="language-solidity">event NewRolesOperator(address indexed oldRoles, address indexed newRoles);
</code></pre>
<h3 id="newpendingadmin-2"><a class="header" href="#newpendingadmin-2">NewPendingAdmin</a></h3>
<p>Event emitted when pendingAdmin is changed</p>
<pre><code class="language-solidity">event NewPendingAdmin(address indexed oldPendingAdmin, address indexed newPendingAdmin);
</code></pre>
<h3 id="newadmin-2"><a class="header" href="#newadmin-2">NewAdmin</a></h3>
<p>Event emitted when pendingAdmin is accepted, which means admin is updated</p>
<pre><code class="language-solidity">event NewAdmin(address indexed oldAdmin, address indexed newAdmin);
</code></pre>
<h3 id="newoperator"><a class="header" href="#newoperator">NewOperator</a></h3>
<p>Event emitted when Operator is changed</p>
<pre><code class="language-solidity">event NewOperator(address indexed oldOperator, address indexed newOperator);
</code></pre>
<h3 id="transfer-3"><a class="header" href="#transfer-3">Transfer</a></h3>
<p>EIP20 Transfer event</p>
<pre><code class="language-solidity">event Transfer(address indexed from, address indexed to, uint256 amount);
</code></pre>
<h3 id="approval"><a class="header" href="#approval">Approval</a></h3>
<p>EIP20 Approval event</p>
<pre><code class="language-solidity">event Approval(address indexed owner, address indexed spender, uint256 amount);
</code></pre>
<h3 id="accrueinterest-2"><a class="header" href="#accrueinterest-2">AccrueInterest</a></h3>
<p>Event emitted when interest is accrued</p>
<pre><code class="language-solidity">event AccrueInterest(uint256 cashPrior, uint256 interestAccumulated, uint256 borrowIndex, uint256 totalBorrows);
</code></pre>
<h3 id="mint-2"><a class="header" href="#mint-2">Mint</a></h3>
<p>Event emitted when tokens are minted</p>
<pre><code class="language-solidity">event Mint(address indexed minter, uint256 mintAmount, uint256 mintTokens);
</code></pre>
<h3 id="redeem-2"><a class="header" href="#redeem-2">Redeem</a></h3>
<p>Event emitted when tokens are redeemed</p>
<pre><code class="language-solidity">event Redeem(address indexed redeemer, uint256 redeemAmount, uint256 redeemTokens);
</code></pre>
<h3 id="borrow-2"><a class="header" href="#borrow-2">Borrow</a></h3>
<p>Event emitted when underlying is borrowed</p>
<pre><code class="language-solidity">event Borrow(address indexed borrower, uint256 borrowAmount, uint256 accountBorrows, uint256 totalBorrows);
</code></pre>
<h3 id="repayborrow"><a class="header" href="#repayborrow">RepayBorrow</a></h3>
<p>Event emitted when a borrow is repaid</p>
<pre><code class="language-solidity">event RepayBorrow(
    address indexed payer, address indexed borrower, uint256 repayAmount, uint256 accountBorrows, uint256 totalBorrows
);
</code></pre>
<h3 id="liquidateborrow"><a class="header" href="#liquidateborrow">LiquidateBorrow</a></h3>
<p>Event emitted when a borrow is liquidated</p>
<pre><code class="language-solidity">event LiquidateBorrow(
    address indexed liquidator,
    address indexed borrower,
    uint256 repayAmount,
    address indexed mTokenCollateral,
    uint256 seizeTokens
);
</code></pre>
<h3 id="newmarketinterestratemodel"><a class="header" href="#newmarketinterestratemodel">NewMarketInterestRateModel</a></h3>
<p>Event emitted when interestRateModel is changed</p>
<pre><code class="language-solidity">event NewMarketInterestRateModel(address indexed oldInterestRateModel, address indexed newInterestRateModel);
</code></pre>
<h3 id="newreservefactor"><a class="header" href="#newreservefactor">NewReserveFactor</a></h3>
<p>Event emitted when the reserve factor is changed</p>
<pre><code class="language-solidity">event NewReserveFactor(uint256 oldReserveFactorMantissa, uint256 newReserveFactorMantissa);
</code></pre>
<h3 id="reservesadded"><a class="header" href="#reservesadded">ReservesAdded</a></h3>
<p>Event emitted when the reserves are added</p>
<pre><code class="language-solidity">event ReservesAdded(address indexed benefactor, uint256 addAmount, uint256 newTotalReserves);
</code></pre>
<h3 id="reservesreduced"><a class="header" href="#reservesreduced">ReservesReduced</a></h3>
<p>Event emitted when the reserves are reduced</p>
<pre><code class="language-solidity">event ReservesReduced(address indexed admin, uint256 reduceAmount, uint256 newTotalReserves);
</code></pre>
<h2 id="errors-8"><a class="header" href="#errors-8">Errors</a></h2>
<h3 id="mtoken_onlyadmin"><a class="header" href="#mtoken_onlyadmin">mToken_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error mToken_OnlyAdmin();
</code></pre>
<h3 id="mtoken_redeemempty"><a class="header" href="#mtoken_redeemempty">mToken_RedeemEmpty</a></h3>
<pre><code class="language-solidity">error mToken_RedeemEmpty();
</code></pre>
<h3 id="mtoken_invalidinput"><a class="header" href="#mtoken_invalidinput">mToken_InvalidInput</a></h3>
<pre><code class="language-solidity">error mToken_InvalidInput();
</code></pre>
<h3 id="mtoken_onlyadminorrole"><a class="header" href="#mtoken_onlyadminorrole">mToken_OnlyAdminOrRole</a></h3>
<pre><code class="language-solidity">error mToken_OnlyAdminOrRole();
</code></pre>
<h3 id="mtoken_transfernotvalid"><a class="header" href="#mtoken_transfernotvalid">mToken_TransferNotValid</a></h3>
<pre><code class="language-solidity">error mToken_TransferNotValid();
</code></pre>
<h3 id="mtoken_borrowratetoohigh"><a class="header" href="#mtoken_borrowratetoohigh">mToken_BorrowRateTooHigh</a></h3>
<pre><code class="language-solidity">error mToken_BorrowRateTooHigh();
</code></pre>
<h3 id="mtoken_alreadyinitialized"><a class="header" href="#mtoken_alreadyinitialized">mToken_AlreadyInitialized</a></h3>
<pre><code class="language-solidity">error mToken_AlreadyInitialized();
</code></pre>
<h3 id="mtoken_reservefactortoohigh"><a class="header" href="#mtoken_reservefactortoohigh">mToken_ReserveFactorTooHigh</a></h3>
<pre><code class="language-solidity">error mToken_ReserveFactorTooHigh();
</code></pre>
<h3 id="mtoken_blocknumbernotvalid"><a class="header" href="#mtoken_blocknumbernotvalid">mToken_BlockNumberNotValid</a></h3>
<pre><code class="language-solidity">error mToken_BlockNumberNotValid();
</code></pre>
<h3 id="mtoken_exchangeratenotvalid"><a class="header" href="#mtoken_exchangeratenotvalid">mToken_ExchangeRateNotValid</a></h3>
<pre><code class="language-solidity">error mToken_ExchangeRateNotValid();
</code></pre>
<h3 id="mtoken_marketmethodnotvalid"><a class="header" href="#mtoken_marketmethodnotvalid">mToken_MarketMethodNotValid</a></h3>
<pre><code class="language-solidity">error mToken_MarketMethodNotValid();
</code></pre>
<h3 id="mtoken_liquidateseizetoomuch"><a class="header" href="#mtoken_liquidateseizetoomuch">mToken_LiquidateSeizeTooMuch</a></h3>
<pre><code class="language-solidity">error mToken_LiquidateSeizeTooMuch();
</code></pre>
<h3 id="mtoken_redeemcashnotavailable"><a class="header" href="#mtoken_redeemcashnotavailable">mToken_RedeemCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_RedeemCashNotAvailable();
</code></pre>
<h3 id="mtoken_borrowcashnotavailable"><a class="header" href="#mtoken_borrowcashnotavailable">mToken_BorrowCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_BorrowCashNotAvailable();
</code></pre>
<h3 id="mtoken_reservecashnotavailable"><a class="header" href="#mtoken_reservecashnotavailable">mToken_ReserveCashNotAvailable</a></h3>
<pre><code class="language-solidity">error mToken_ReserveCashNotAvailable();
</code></pre>
<h3 id="mtoken_redeemtransferoutnotpossible"><a class="header" href="#mtoken_redeemtransferoutnotpossible">mToken_RedeemTransferOutNotPossible</a></h3>
<pre><code class="language-solidity">error mToken_RedeemTransferOutNotPossible();
</code></pre>
<h3 id="mtoken_collateralblocknumbernotvalid"><a class="header" href="#mtoken_collateralblocknumbernotvalid">mToken_CollateralBlockNumberNotValid</a></h3>
<pre><code class="language-solidity">error mToken_CollateralBlockNumberNotValid();
</code></pre>
<h2 id="structs-6"><a class="header" href="#structs-6">Structs</a></h2>
<h3 id="borrowsnapshot"><a class="header" href="#borrowsnapshot">BorrowSnapshot</a></h3>
<p>Container for borrow balance information</p>
<pre><code class="language-solidity">struct BorrowSnapshot {
    uint256 principal;
    uint256 interestIndex;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-9"><a class="header" href="#contents-9">Contents</a></h1>
<ul>
<li><a href="src%5Coracles/ChainlinkOracle.sol%5Ccontract.ChainlinkOracle.html">ChainlinkOracle</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="chainlinkoracle"><a class="header" href="#chainlinkoracle">ChainlinkOracle</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Coracles%5CChainlinkOracle.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5Coracles%5CChainlinkOracle.sol//src%5Cinterfaces%5CIOracleOperator.sol%5Cinterface.IOracleOperator.html">IOracleOperator</a></p>
<h2 id="state-variables-9"><a class="header" href="#state-variables-9">State Variables</a></h2>
<h3 id="pricefeeds"><a class="header" href="#pricefeeds">priceFeeds</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; IAggregatorV3) public priceFeeds;
</code></pre>
<h3 id="baseunits"><a class="header" href="#baseunits">baseUnits</a></h3>
<pre><code class="language-solidity">mapping(string =&gt; uint256) public baseUnits;
</code></pre>
<h3 id="decimals-4"><a class="header" href="#decimals-4">DECIMALS</a></h3>
<pre><code class="language-solidity">uint8 public constant DECIMALS = 18;
</code></pre>
<h2 id="functions-36"><a class="header" href="#functions-36">Functions</a></h2>
<h3 id="constructor-7"><a class="header" href="#constructor-7">constructor</a></h3>
<pre><code class="language-solidity">constructor(string[] memory symbols_, IAggregatorV3[] memory feeds_, uint256[] memory baseUnits_);
</code></pre>
<h3 id="getprice-1"><a class="header" href="#getprice-1">getPrice</a></h3>
<p>Get the price of a mToken asset</p>
<pre><code class="language-solidity">function getPrice(address mToken) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="getunderlyingprice-1"><a class="header" href="#getunderlyingprice-1">getUnderlyingPrice</a></h3>
<p>Get the underlying price of a mToken asset</p>
<pre><code class="language-solidity">function getUnderlyingPrice(address mToken) external view override returns (uint256);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>mToken</code></td><td><code>address</code></td><td>The mToken to get the underlying price of</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>uint256</code></td><td>The underlying asset price mantissa (scaled by 1e18). Zero means the price is unavailable.</td></tr>
</tbody></table>
</div>
<h3 id="_getlatestprice"><a class="header" href="#_getlatestprice">_getLatestPrice</a></h3>
<pre><code class="language-solidity">function _getLatestPrice(string memory symbol) internal view returns (uint256, uint256);
</code></pre>
<h2 id="errors-9"><a class="header" href="#errors-9">Errors</a></h2>
<h3 id="chainlinkoracle_nopricefeed"><a class="header" href="#chainlinkoracle_nopricefeed">ChainlinkOracle_NoPriceFeed</a></h3>
<pre><code class="language-solidity">error ChainlinkOracle_NoPriceFeed();
</code></pre>
<h3 id="chainlinkoracle_zeroprice"><a class="header" href="#chainlinkoracle_zeroprice">ChainlinkOracle_ZeroPrice</a></h3>
<pre><code class="language-solidity">error ChainlinkOracle_ZeroPrice();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-10"><a class="header" href="#contents-10">Contents</a></h1>
<ul>
<li><a href="src%5Cpauser/Pauser.sol%5Ccontract.Pauser.html">Pauser</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="pauser"><a class="header" href="#pauser">Pauser</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cpauser%5CPauser.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src%5Cpauser%5CPauser.sol//src%5Cinterfaces%5CIPauser.sol%5Cinterface.IPauser.html">IPauser</a></p>
<h2 id="state-variables-10"><a class="header" href="#state-variables-10">State Variables</a></h2>
<h3 id="roles-1"><a class="header" href="#roles-1">roles</a></h3>
<pre><code class="language-solidity">IRoles public immutable roles;
</code></pre>
<h3 id="operator-4"><a class="header" href="#operator-4">operator</a></h3>
<pre><code class="language-solidity">IOperator public immutable operator;
</code></pre>
<h3 id="pausablecontracts"><a class="header" href="#pausablecontracts">pausableContracts</a></h3>
<pre><code class="language-solidity">PausableContract[] public pausableContracts;
</code></pre>
<h3 id="registeredcontracts"><a class="header" href="#registeredcontracts">registeredContracts</a></h3>
<pre><code class="language-solidity">mapping(address _contract =&gt; bool _registered) public registeredContracts;
</code></pre>
<h3 id="contracttypes"><a class="header" href="#contracttypes">contractTypes</a></h3>
<pre><code class="language-solidity">mapping(address _contract =&gt; PausableType _type) public contractTypes;
</code></pre>
<h2 id="functions-37"><a class="header" href="#functions-37">Functions</a></h2>
<h3 id="constructor-8"><a class="header" href="#constructor-8">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _roles, address _operator, address _owner) Ownable(_owner);
</code></pre>
<h3 id="addpausablemarket"><a class="header" href="#addpausablemarket">addPausableMarket</a></h3>
<p>add pauable contract</p>
<pre><code class="language-solidity">function addPausableMarket(address _contract, PausableType _contractType) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the pausable contract</td></tr>
<tr><td><code>_contractType</code></td><td><code>PausableType</code></td><td>the pausable contract type</td></tr>
</tbody></table>
</div>
<h3 id="removepausablemarket"><a class="header" href="#removepausablemarket">removePausableMarket</a></h3>
<p>removes pauable contract</p>
<pre><code class="language-solidity">function removePausableMarket(address _contract) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the pausable contract</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarket-1"><a class="header" href="#emergencypausemarket-1">emergencyPauseMarket</a></h3>
<p>pauses all operations for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarket(address _market) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
</tbody></table>
</div>
<h3 id="emergencypausemarketfor-1"><a class="header" href="#emergencypausemarketfor-1">emergencyPauseMarketFor</a></h3>
<p>pauses a specific operation for a market</p>
<pre><code class="language-solidity">function emergencyPauseMarketFor(address _market, ImTokenOperationTypes.OperationType _pauseType) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_market</code></td><td><code>address</code></td><td>the mToken address</td></tr>
<tr><td><code>_pauseType</code></td><td><code>ImTokenOperationTypes.OperationType</code></td><td>the operation type</td></tr>
</tbody></table>
</div>
<h3 id="emergencypauseall-1"><a class="header" href="#emergencypauseall-1">emergencyPauseAll</a></h3>
<p>pauses all operations for all registered markets</p>
<pre><code class="language-solidity">function emergencyPauseAll() external;
</code></pre>
<h3 id="_pauseallmarketoperations"><a class="header" href="#_pauseallmarketoperations">_pauseAllMarketOperations</a></h3>
<pre><code class="language-solidity">function _pauseAllMarketOperations(address _market) private;
</code></pre>
<h3 id="_pausemarketoperation"><a class="header" href="#_pausemarketoperation">_pauseMarketOperation</a></h3>
<pre><code class="language-solidity">function _pauseMarketOperation(address _market, ImTokenOperationTypes.OperationType _pauseType) private;
</code></pre>
<h3 id="_pause"><a class="header" href="#_pause">_pause</a></h3>
<pre><code class="language-solidity">function _pause(address _market, ImTokenOperationTypes.OperationType _pauseType) private;
</code></pre>
<h3 id="_findindex"><a class="header" href="#_findindex">_findIndex</a></h3>
<pre><code class="language-solidity">function _findIndex(address _address) private view returns (uint256);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-11"><a class="header" href="#contents-11">Contents</a></h1>
<ul>
<li><a href="src%5Crewards/RewardDistributor.sol%5Ccontract.RewardDistributor.html">RewardDistributor</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="rewarddistributor-2"><a class="header" href="#rewarddistributor-2">RewardDistributor</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Crewards%5CRewardDistributor.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="src%5Crewards%5CRewardDistributor.sol//src%5Cinterfaces%5CIRewardDistributor.sol%5Cinterface.IRewardDistributor.html">IRewardDistributor</a>, <a href="src%5Crewards%5CRewardDistributor.sol//src%5Cutils%5CExponentialNoError.sol%5Cabstract.ExponentialNoError.html">ExponentialNoError</a>, Initializable, OwnableUpgradeable</p>
<h2 id="state-variables-11"><a class="header" href="#state-variables-11">State Variables</a></h2>
<h3 id="reward_initial_index"><a class="header" href="#reward_initial_index">REWARD_INITIAL_INDEX</a></h3>
<pre><code class="language-solidity">uint224 public constant REWARD_INITIAL_INDEX = 1e36;
</code></pre>
<h3 id="operator-5"><a class="header" href="#operator-5">operator</a></h3>
<p>The operator that rewards are distributed to</p>
<pre><code class="language-solidity">address public operator;
</code></pre>
<h3 id="rewardmarketstate-1"><a class="header" href="#rewardmarketstate-1">rewardMarketState</a></h3>
<p>The Reward state for each reward token for each market</p>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; IRewardDistributorData.RewardMarketState)) public rewardMarketState;
</code></pre>
<h3 id="rewardaccountstate-1"><a class="header" href="#rewardaccountstate-1">rewardAccountState</a></h3>
<p>The Reward state for each reward token for each account</p>
<pre><code class="language-solidity">mapping(address =&gt; mapping(address =&gt; IRewardDistributorData.RewardAccountState)) public rewardAccountState;
</code></pre>
<h3 id="rewardtokens"><a class="header" href="#rewardtokens">rewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">address[] public rewardTokens;
</code></pre>
<h3 id="isrewardtoken-1"><a class="header" href="#isrewardtoken-1">isRewardToken</a></h3>
<p>Flag to check if reward token added before</p>
<pre><code class="language-solidity">mapping(address =&gt; bool) public isRewardToken;
</code></pre>
<h2 id="functions-38"><a class="header" href="#functions-38">Functions</a></h2>
<h3 id="onlyoperator"><a class="header" href="#onlyoperator">onlyOperator</a></h3>
<pre><code class="language-solidity">modifier onlyOperator();
</code></pre>
<h3 id="claim-1"><a class="header" href="#claim-1">claim</a></h3>
<pre><code class="language-solidity">function claim(address[] memory holders) public override;
</code></pre>
<h3 id="getblocknumber-1"><a class="header" href="#getblocknumber-1">getBlockNumber</a></h3>
<p>Get block number</p>
<pre><code class="language-solidity">function getBlockNumber() public view override returns (uint32);
</code></pre>
<h3 id="getrewardtokens-1"><a class="header" href="#getrewardtokens-1">getRewardTokens</a></h3>
<p>Added reward tokens</p>
<pre><code class="language-solidity">function getRewardTokens() public view override returns (address[] memory);
</code></pre>
<h3 id="initialize-2"><a class="header" href="#initialize-2">initialize</a></h3>
<pre><code class="language-solidity">function initialize(address _owner) public initializer;
</code></pre>
<h3 id="setoperator-1"><a class="header" href="#setoperator-1">setOperator</a></h3>
<pre><code class="language-solidity">function setOperator(address _operator) external onlyOwner;
</code></pre>
<h3 id="whitelisttoken"><a class="header" href="#whitelisttoken">whitelistToken</a></h3>
<pre><code class="language-solidity">function whitelistToken(address rewardToken_) public onlyOwner;
</code></pre>
<h3 id="updaterewardspeeds"><a class="header" href="#updaterewardspeeds">updateRewardSpeeds</a></h3>
<pre><code class="language-solidity">function updateRewardSpeeds(
    address rewardToken_,
    address[] memory mTokens,
    uint256[] memory supplySpeeds,
    uint256[] memory borrowSpeeds
) public onlyOwner;
</code></pre>
<h3 id="grantreward"><a class="header" href="#grantreward">grantReward</a></h3>
<pre><code class="language-solidity">function grantReward(address token, address user, uint256 amount) public onlyOwner;
</code></pre>
<h3 id="notifysupplyindex-1"><a class="header" href="#notifysupplyindex-1">notifySupplyIndex</a></h3>
<p>Notifies supply index</p>
<pre><code class="language-solidity">function notifySupplyIndex(address mToken) external override onlyOperator;
</code></pre>
<h3 id="notifyborrowindex-1"><a class="header" href="#notifyborrowindex-1">notifyBorrowIndex</a></h3>
<p>Notifies borrow index</p>
<pre><code class="language-solidity">function notifyBorrowIndex(address mToken) external override onlyOperator;
</code></pre>
<h3 id="notifysupplier-1"><a class="header" href="#notifysupplier-1">notifySupplier</a></h3>
<p>Notifies supplier</p>
<pre><code class="language-solidity">function notifySupplier(address mToken, address supplier) external override onlyOperator;
</code></pre>
<h3 id="notifyborrower-1"><a class="header" href="#notifyborrower-1">notifyBorrower</a></h3>
<p>Notifies borrower</p>
<pre><code class="language-solidity">function notifyBorrower(address mToken, address borrower) external override onlyOperator;
</code></pre>
<h3 id="_updaterewardspeed"><a class="header" href="#_updaterewardspeed">_updateRewardSpeed</a></h3>
<pre><code class="language-solidity">function _updateRewardSpeed(address rewardToken, address mToken, uint256 supplySpeed, uint256 borrowSpeed) private;
</code></pre>
<h3 id="_notifysupplyindex"><a class="header" href="#_notifysupplyindex">_notifySupplyIndex</a></h3>
<pre><code class="language-solidity">function _notifySupplyIndex(address rewardToken, address mToken) private;
</code></pre>
<h3 id="_notifyborrowindex"><a class="header" href="#_notifyborrowindex">_notifyBorrowIndex</a></h3>
<pre><code class="language-solidity">function _notifyBorrowIndex(address rewardToken, address mToken) private;
</code></pre>
<h3 id="_notifysupplier"><a class="header" href="#_notifysupplier">_notifySupplier</a></h3>
<pre><code class="language-solidity">function _notifySupplier(address rewardToken, address mToken, address supplier) private;
</code></pre>
<h3 id="_notifyborrower"><a class="header" href="#_notifyborrower">_notifyBorrower</a></h3>
<pre><code class="language-solidity">function _notifyBorrower(address rewardToken, address mToken, address borrower) private;
</code></pre>
<h3 id="_claim-1"><a class="header" href="#_claim-1">_claim</a></h3>
<pre><code class="language-solidity">function _claim(address rewardToken, address[] memory holders) internal;
</code></pre>
<h3 id="_grantreward"><a class="header" href="#_grantreward">_grantReward</a></h3>
<pre><code class="language-solidity">function _grantReward(address token, address user, uint256 amount) internal returns (uint256);
</code></pre>
<h2 id="errors-10"><a class="header" href="#errors-10">Errors</a></h2>
<h3 id="rewarddistributor_onlyoperator"><a class="header" href="#rewarddistributor_onlyoperator">RewardDistributor_OnlyOperator</a></h3>
<pre><code class="language-solidity">error RewardDistributor_OnlyOperator();
</code></pre>
<h3 id="rewarddistributor_addressnotvalid"><a class="header" href="#rewarddistributor_addressnotvalid">RewardDistributor_AddressNotValid</a></h3>
<pre><code class="language-solidity">error RewardDistributor_AddressNotValid();
</code></pre>
<h3 id="rewarddistributor_addressalreadyregistered"><a class="header" href="#rewarddistributor_addressalreadyregistered">RewardDistributor_AddressAlreadyRegistered</a></h3>
<pre><code class="language-solidity">error RewardDistributor_AddressAlreadyRegistered();
</code></pre>
<h3 id="rewarddistributor_rewardnotvalid"><a class="header" href="#rewarddistributor_rewardnotvalid">RewardDistributor_RewardNotValid</a></h3>
<pre><code class="language-solidity">error RewardDistributor_RewardNotValid();
</code></pre>
<h3 id="rewarddistributor_supplyspeedarraylengthmismatch"><a class="header" href="#rewarddistributor_supplyspeedarraylengthmismatch">RewardDistributor_SupplySpeedArrayLengthMismatch</a></h3>
<pre><code class="language-solidity">error RewardDistributor_SupplySpeedArrayLengthMismatch();
</code></pre>
<h3 id="rewarddistributor_borrowspeedarraylengthmismatch"><a class="header" href="#rewarddistributor_borrowspeedarraylengthmismatch">RewardDistributor_BorrowSpeedArrayLengthMismatch</a></h3>
<pre><code class="language-solidity">error RewardDistributor_BorrowSpeedArrayLengthMismatch();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-12"><a class="header" href="#contents-12">Contents</a></h1>
<ul>
<li><a href="src%5Cutils/Deployer.sol%5Ccontract.Deployer.html">Deployer</a></li>
<li><a href="src%5Cutils/ExponentialNoError.sol%5Cabstract.ExponentialNoError.html">ExponentialNoError</a></li>
<li><a href="src%5Cutils/ReentrancyGuardTransient.sol%5Cabstract.ReentrancyGuardTransient.html">ReentrancyGuardTransient</a></li>
<li><a href="src%5Cutils/StorageSlot.sol%5Clibrary.StorageSlot.html">StorageSlot</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="deployer"><a class="header" href="#deployer">Deployer</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cutils%5CDeployer.sol">Git Source</a></p>
<h2 id="state-variables-12"><a class="header" href="#state-variables-12">State Variables</a></h2>
<h3 id="admin-5"><a class="header" href="#admin-5">admin</a></h3>
<pre><code class="language-solidity">address public admin;
</code></pre>
<h2 id="functions-39"><a class="header" href="#functions-39">Functions</a></h2>
<h3 id="constructor-9"><a class="header" href="#constructor-9">constructor</a></h3>
<pre><code class="language-solidity">constructor();
</code></pre>
<h3 id="receive-1"><a class="header" href="#receive-1">receive</a></h3>
<pre><code class="language-solidity">receive() external payable;
</code></pre>
<h3 id="saveeth"><a class="header" href="#saveeth">saveEth</a></h3>
<pre><code class="language-solidity">function saveEth() external;
</code></pre>
<h3 id="precompute"><a class="header" href="#precompute">precompute</a></h3>
<pre><code class="language-solidity">function precompute(bytes32 salt) external view returns (address);
</code></pre>
<h3 id="create"><a class="header" href="#create">create</a></h3>
<pre><code class="language-solidity">function create(bytes32 salt, bytes memory code) external payable returns (address);
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="exponentialnoerror"><a class="header" href="#exponentialnoerror">ExponentialNoError</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cutils%5CExponentialNoError.sol">Git Source</a></p>
<p><strong>Author:</strong>
Compound</p>
<p>Exp is a struct which stores decimals with a fixed precision of 18 decimal places.
Thus, if we wanted to store the 5.1, mantissa would store 5.1e18. That is:
<code>Exp({mantissa: 5100000000000000000})</code>.</p>
<h2 id="state-variables-13"><a class="header" href="#state-variables-13">State Variables</a></h2>
<h3 id="expscale"><a class="header" href="#expscale">expScale</a></h3>
<pre><code class="language-solidity">uint256 constant expScale = 1e18;
</code></pre>
<h3 id="doublescale"><a class="header" href="#doublescale">doubleScale</a></h3>
<pre><code class="language-solidity">uint256 constant doubleScale = 1e36;
</code></pre>
<h3 id="halfexpscale"><a class="header" href="#halfexpscale">halfExpScale</a></h3>
<pre><code class="language-solidity">uint256 constant halfExpScale = expScale / 2;
</code></pre>
<h3 id="mantissaone"><a class="header" href="#mantissaone">mantissaOne</a></h3>
<pre><code class="language-solidity">uint256 constant mantissaOne = expScale;
</code></pre>
<h2 id="functions-40"><a class="header" href="#functions-40">Functions</a></h2>
<h3 id="truncate"><a class="header" href="#truncate">truncate</a></h3>
<p><em>Truncates the given exp to a whole number value.
For example, truncate(Exp{mantissa: 15 * expScale}) = 15</em></p>
<pre><code class="language-solidity">function truncate(Exp memory exp) internal pure returns (uint256);
</code></pre>
<h3 id="mul_scalartruncate"><a class="header" href="#mul_scalartruncate">mul_ScalarTruncate</a></h3>
<p><em>Multiply an Exp by a scalar, then truncate to return an unsigned integer.</em></p>
<pre><code class="language-solidity">function mul_ScalarTruncate(Exp memory a, uint256 scalar) internal pure returns (uint256);
</code></pre>
<h3 id="mul_scalartruncateadduint"><a class="header" href="#mul_scalartruncateadduint">mul_ScalarTruncateAddUInt</a></h3>
<p><em>Multiply an Exp by a scalar, truncate, then add an to an unsigned integer, returning an unsigned integer.</em></p>
<pre><code class="language-solidity">function mul_ScalarTruncateAddUInt(Exp memory a, uint256 scalar, uint256 addend) internal pure returns (uint256);
</code></pre>
<h3 id="lessthanexp"><a class="header" href="#lessthanexp">lessThanExp</a></h3>
<p><em>Checks if first Exp is less than second Exp.</em></p>
<pre><code class="language-solidity">function lessThanExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="lessthanorequalexp"><a class="header" href="#lessthanorequalexp">lessThanOrEqualExp</a></h3>
<p><em>Checks if left Exp &lt;= right Exp.</em></p>
<pre><code class="language-solidity">function lessThanOrEqualExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="greaterthanexp"><a class="header" href="#greaterthanexp">greaterThanExp</a></h3>
<p><em>Checks if left Exp &gt; right Exp.</em></p>
<pre><code class="language-solidity">function greaterThanExp(Exp memory left, Exp memory right) internal pure returns (bool);
</code></pre>
<h3 id="iszeroexp"><a class="header" href="#iszeroexp">isZeroExp</a></h3>
<p><em>returns true if Exp is exactly zero</em></p>
<pre><code class="language-solidity">function isZeroExp(Exp memory value) internal pure returns (bool);
</code></pre>
<h3 id="safe224"><a class="header" href="#safe224">safe224</a></h3>
<pre><code class="language-solidity">function safe224(uint256 n, string memory errorMessage) internal pure returns (uint224);
</code></pre>
<h3 id="safe32"><a class="header" href="#safe32">safe32</a></h3>
<pre><code class="language-solidity">function safe32(uint256 n, string memory errorMessage) internal pure returns (uint32);
</code></pre>
<h3 id="add_"><a class="header" href="#add_">add_</a></h3>
<pre><code class="language-solidity">function add_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="add_-1"><a class="header" href="#add_-1">add_</a></h3>
<pre><code class="language-solidity">function add_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="add_-2"><a class="header" href="#add_-2">add_</a></h3>
<pre><code class="language-solidity">function add_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="sub_"><a class="header" href="#sub_">sub_</a></h3>
<pre><code class="language-solidity">function sub_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="sub_-1"><a class="header" href="#sub_-1">sub_</a></h3>
<pre><code class="language-solidity">function sub_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="sub_-2"><a class="header" href="#sub_-2">sub_</a></h3>
<pre><code class="language-solidity">function sub_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_"><a class="header" href="#mul_">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="mul_-1"><a class="header" href="#mul_-1">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Exp memory a, uint256 b) internal pure returns (Exp memory);
</code></pre>
<h3 id="mul_-2"><a class="header" href="#mul_-2">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, Exp memory b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_-3"><a class="header" href="#mul_-3">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="mul_-4"><a class="header" href="#mul_-4">mul_</a></h3>
<pre><code class="language-solidity">function mul_(Double memory a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h3 id="mul_-5"><a class="header" href="#mul_-5">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, Double memory b) internal pure returns (uint256);
</code></pre>
<h3 id="mul_-6"><a class="header" href="#mul_-6">mul_</a></h3>
<pre><code class="language-solidity">function mul_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="div_"><a class="header" href="#div_">div_</a></h3>
<pre><code class="language-solidity">function div_(Exp memory a, Exp memory b) internal pure returns (Exp memory);
</code></pre>
<h3 id="div_-1"><a class="header" href="#div_-1">div_</a></h3>
<pre><code class="language-solidity">function div_(Exp memory a, uint256 b) internal pure returns (Exp memory);
</code></pre>
<h3 id="div_-2"><a class="header" href="#div_-2">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, Exp memory b) internal pure returns (uint256);
</code></pre>
<h3 id="div_-3"><a class="header" href="#div_-3">div_</a></h3>
<pre><code class="language-solidity">function div_(Double memory a, Double memory b) internal pure returns (Double memory);
</code></pre>
<h3 id="div_-4"><a class="header" href="#div_-4">div_</a></h3>
<pre><code class="language-solidity">function div_(Double memory a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h3 id="div_-5"><a class="header" href="#div_-5">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, Double memory b) internal pure returns (uint256);
</code></pre>
<h3 id="div_-6"><a class="header" href="#div_-6">div_</a></h3>
<pre><code class="language-solidity">function div_(uint256 a, uint256 b) internal pure returns (uint256);
</code></pre>
<h3 id="fraction"><a class="header" href="#fraction">fraction</a></h3>
<pre><code class="language-solidity">function fraction(uint256 a, uint256 b) internal pure returns (Double memory);
</code></pre>
<h2 id="structs-7"><a class="header" href="#structs-7">Structs</a></h2>
<h3 id="exp"><a class="header" href="#exp">Exp</a></h3>
<pre><code class="language-solidity">struct Exp {
    uint256 mantissa;
}
</code></pre>
<h3 id="double"><a class="header" href="#double">Double</a></h3>
<pre><code class="language-solidity">struct Double {
    uint256 mantissa;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reentrancyguardtransient"><a class="header" href="#reentrancyguardtransient">ReentrancyGuardTransient</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cutils%5CReentrancyGuardTransient.sol">Git Source</a></p>
<p><em>Variant of {ReentrancyGuard} that uses transient storage.
NOTE: This variant only works on networks where EIP-1153 is available.
<em>Available since v5.1.</em></em></p>
<h2 id="state-variables-14"><a class="header" href="#state-variables-14">State Variables</a></h2>
<h3 id="reentrancy_guard_storage"><a class="header" href="#reentrancy_guard_storage">REENTRANCY_GUARD_STORAGE</a></h3>
<pre><code class="language-solidity">bytes32 private constant REENTRANCY_GUARD_STORAGE = 0x9b779b17422d0df92223018b32b4d1fa46e071723d6817e2486d003becc55f00;
</code></pre>
<h2 id="functions-41"><a class="header" href="#functions-41">Functions</a></h2>
<h3 id="nonreentrant"><a class="header" href="#nonreentrant">nonReentrant</a></h3>
<p><em>Prevents a contract from calling itself, directly or indirectly.
Calling a <code>nonReentrant</code> function from another <code>nonReentrant</code>
function is not supported. It is possible to prevent this from happening
by making the <code>nonReentrant</code> function external, and making it call a
<code>private</code> function that does the actual work.</em></p>
<pre><code class="language-solidity">modifier nonReentrant();
</code></pre>
<h3 id="_nonreentrantbefore"><a class="header" href="#_nonreentrantbefore">_nonReentrantBefore</a></h3>
<pre><code class="language-solidity">function _nonReentrantBefore() private;
</code></pre>
<h3 id="_nonreentrantafter"><a class="header" href="#_nonreentrantafter">_nonReentrantAfter</a></h3>
<pre><code class="language-solidity">function _nonReentrantAfter() private;
</code></pre>
<h3 id="_reentrancyguardentered"><a class="header" href="#_reentrancyguardentered">_reentrancyGuardEntered</a></h3>
<p><em>Returns true if the reentrancy guard is currently set to "entered", which indicates there is a
<code>nonReentrant</code> function in the call stack.</em></p>
<pre><code class="language-solidity">function _reentrancyGuardEntered() internal view returns (bool);
</code></pre>
<h2 id="errors-11"><a class="header" href="#errors-11">Errors</a></h2>
<h3 id="reentrancyguardreentrantcall"><a class="header" href="#reentrancyguardreentrantcall">ReentrancyGuardReentrantCall</a></h3>
<p><em>Unauthorized reentrant call.</em></p>
<pre><code class="language-solidity">error ReentrancyGuardReentrantCall();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="storageslot"><a class="header" href="#storageslot">StorageSlot</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cutils%5CStorageSlot.sol">Git Source</a></p>
<p>*Library for reading and writing primitive types to specific storage slots.
Storage slots are often used to avoid storage conflict when dealing with upgradeable contracts.
This library helps with reading and writing to such slots without the need for inline assembly.
The functions in this library return Slot structs that contain a <code>value</code> member that can be used to read or write.
Example usage to set ERC-1967 implementation slot:</p>
<pre><code class="language-solidity">contract ERC1967 {
// Define the slot. Alternatively, use the SlotDerivation library to derive the slot.
bytes32 internal constant _IMPLEMENTATION_SLOT = 0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc;
function _getImplementation() internal view returns (address) {
return StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value;
}
function _setImplementation(address newImplementation) internal {
require(newImplementation.code.length &gt; 0);
StorageSlot.getAddressSlot(_IMPLEMENTATION_SLOT).value = newImplementation;
}
}
</code></pre>
<p>Since version 5.1, this library also support writing and reading value types to and from transient storage.
Example using transient storage:</p>
<pre><code class="language-solidity">contract Lock {
// Define the slot. Alternatively, use the SlotDerivation library to derive the slot.
bytes32 internal constant _LOCK_SLOT = 0xf4678858b2b588224636b8522b729e7722d32fc491da849ed75b3fdf3c84f542;
modifier locked() {
require(!_LOCK_SLOT.asBoolean().tload());
_LOCK_SLOT.asBoolean().tstore(true);
_;
_LOCK_SLOT.asBoolean().tstore(false);
}
}
</code></pre>
<p>TIP: Consider using this library along with {SlotDerivation}.*</p>
<h2 id="functions-42"><a class="header" href="#functions-42">Functions</a></h2>
<h3 id="getaddressslot"><a class="header" href="#getaddressslot">getAddressSlot</a></h3>
<p><em>Returns an <code>AddressSlot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getAddressSlot(bytes32 slot) internal pure returns (AddressSlot storage r);
</code></pre>
<h3 id="getbooleanslot"><a class="header" href="#getbooleanslot">getBooleanSlot</a></h3>
<p><em>Returns a <code>BooleanSlot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getBooleanSlot(bytes32 slot) internal pure returns (BooleanSlot storage r);
</code></pre>
<h3 id="getbytes32slot"><a class="header" href="#getbytes32slot">getBytes32Slot</a></h3>
<p><em>Returns a <code>Bytes32Slot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getBytes32Slot(bytes32 slot) internal pure returns (Bytes32Slot storage r);
</code></pre>
<h3 id="getuint256slot"><a class="header" href="#getuint256slot">getUint256Slot</a></h3>
<p><em>Returns a <code>Uint256Slot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getUint256Slot(bytes32 slot) internal pure returns (Uint256Slot storage r);
</code></pre>
<h3 id="getint256slot"><a class="header" href="#getint256slot">getInt256Slot</a></h3>
<p><em>Returns a <code>Int256Slot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getInt256Slot(bytes32 slot) internal pure returns (Int256Slot storage r);
</code></pre>
<h3 id="getstringslot"><a class="header" href="#getstringslot">getStringSlot</a></h3>
<p><em>Returns a <code>StringSlot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getStringSlot(bytes32 slot) internal pure returns (StringSlot storage r);
</code></pre>
<h3 id="getstringslot-1"><a class="header" href="#getstringslot-1">getStringSlot</a></h3>
<p><em>Returns an <code>StringSlot</code> representation of the string storage pointer <code>store</code>.</em></p>
<pre><code class="language-solidity">function getStringSlot(string storage store) internal pure returns (StringSlot storage r);
</code></pre>
<h3 id="getbytesslot"><a class="header" href="#getbytesslot">getBytesSlot</a></h3>
<p><em>Returns a <code>BytesSlot</code> with member <code>value</code> located at <code>slot</code>.</em></p>
<pre><code class="language-solidity">function getBytesSlot(bytes32 slot) internal pure returns (BytesSlot storage r);
</code></pre>
<h3 id="getbytesslot-1"><a class="header" href="#getbytesslot-1">getBytesSlot</a></h3>
<p><em>Returns an <code>BytesSlot</code> representation of the bytes storage pointer <code>store</code>.</em></p>
<pre><code class="language-solidity">function getBytesSlot(bytes storage store) internal pure returns (BytesSlot storage r);
</code></pre>
<h3 id="asaddress"><a class="header" href="#asaddress">asAddress</a></h3>
<p><em>Cast an arbitrary slot to a AddressSlotType.</em></p>
<pre><code class="language-solidity">function asAddress(bytes32 slot) internal pure returns (AddressSlotType);
</code></pre>
<h3 id="asboolean"><a class="header" href="#asboolean">asBoolean</a></h3>
<p><em>Cast an arbitrary slot to a BooleanSlotType.</em></p>
<pre><code class="language-solidity">function asBoolean(bytes32 slot) internal pure returns (BooleanSlotType);
</code></pre>
<h3 id="asbytes32"><a class="header" href="#asbytes32">asBytes32</a></h3>
<p><em>Cast an arbitrary slot to a Bytes32SlotType.</em></p>
<pre><code class="language-solidity">function asBytes32(bytes32 slot) internal pure returns (Bytes32SlotType);
</code></pre>
<h3 id="asuint256"><a class="header" href="#asuint256">asUint256</a></h3>
<p><em>Cast an arbitrary slot to a Uint256SlotType.</em></p>
<pre><code class="language-solidity">function asUint256(bytes32 slot) internal pure returns (Uint256SlotType);
</code></pre>
<h3 id="asint256"><a class="header" href="#asint256">asInt256</a></h3>
<p><em>Cast an arbitrary slot to a Int256SlotType.</em></p>
<pre><code class="language-solidity">function asInt256(bytes32 slot) internal pure returns (Int256SlotType);
</code></pre>
<h3 id="tload"><a class="header" href="#tload">tload</a></h3>
<p><em>Load the value held at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tload(AddressSlotType slot) internal view returns (address value);
</code></pre>
<h3 id="tstore"><a class="header" href="#tstore">tstore</a></h3>
<p><em>Store <code>value</code> at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tstore(AddressSlotType slot, address value) internal;
</code></pre>
<h3 id="tload-1"><a class="header" href="#tload-1">tload</a></h3>
<p><em>Load the value held at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tload(BooleanSlotType slot) internal view returns (bool value);
</code></pre>
<h3 id="tstore-1"><a class="header" href="#tstore-1">tstore</a></h3>
<p><em>Store <code>value</code> at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tstore(BooleanSlotType slot, bool value) internal;
</code></pre>
<h3 id="tload-2"><a class="header" href="#tload-2">tload</a></h3>
<p><em>Load the value held at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tload(Bytes32SlotType slot) internal view returns (bytes32 value);
</code></pre>
<h3 id="tstore-2"><a class="header" href="#tstore-2">tstore</a></h3>
<p><em>Store <code>value</code> at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tstore(Bytes32SlotType slot, bytes32 value) internal;
</code></pre>
<h3 id="tload-3"><a class="header" href="#tload-3">tload</a></h3>
<p><em>Load the value held at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tload(Uint256SlotType slot) internal view returns (uint256 value);
</code></pre>
<h3 id="tstore-3"><a class="header" href="#tstore-3">tstore</a></h3>
<p><em>Store <code>value</code> at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tstore(Uint256SlotType slot, uint256 value) internal;
</code></pre>
<h3 id="tload-4"><a class="header" href="#tload-4">tload</a></h3>
<p><em>Load the value held at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tload(Int256SlotType slot) internal view returns (int256 value);
</code></pre>
<h3 id="tstore-4"><a class="header" href="#tstore-4">tstore</a></h3>
<p><em>Store <code>value</code> at location <code>slot</code> in transient storage.</em></p>
<pre><code class="language-solidity">function tstore(Int256SlotType slot, int256 value) internal;
</code></pre>
<h2 id="structs-8"><a class="header" href="#structs-8">Structs</a></h2>
<h3 id="addressslot"><a class="header" href="#addressslot">AddressSlot</a></h3>
<pre><code class="language-solidity">struct AddressSlot {
    address value;
}
</code></pre>
<h3 id="booleanslot"><a class="header" href="#booleanslot">BooleanSlot</a></h3>
<pre><code class="language-solidity">struct BooleanSlot {
    bool value;
}
</code></pre>
<h3 id="bytes32slot"><a class="header" href="#bytes32slot">Bytes32Slot</a></h3>
<pre><code class="language-solidity">struct Bytes32Slot {
    bytes32 value;
}
</code></pre>
<h3 id="uint256slot"><a class="header" href="#uint256slot">Uint256Slot</a></h3>
<pre><code class="language-solidity">struct Uint256Slot {
    uint256 value;
}
</code></pre>
<h3 id="int256slot"><a class="header" href="#int256slot">Int256Slot</a></h3>
<pre><code class="language-solidity">struct Int256Slot {
    int256 value;
}
</code></pre>
<h3 id="stringslot"><a class="header" href="#stringslot">StringSlot</a></h3>
<pre><code class="language-solidity">struct StringSlot {
    string value;
}
</code></pre>
<h3 id="bytesslot"><a class="header" href="#bytesslot">BytesSlot</a></h3>
<pre><code class="language-solidity">struct BytesSlot {
    bytes value;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contents-13"><a class="header" href="#contents-13">Contents</a></h1>
<ul>
<li><a href="src%5Cverifier/ZkVerifier.sol%5Cabstract.ZkVerifier.html">ZkVerifier</a></li>
<li><a href="src%5Cverifier/ZkVerifierImageRegistry.sol%5Ccontract.ZkVerifierImageRegistry.html">ZkVerifierImageRegistry</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zkverifier"><a class="header" href="#zkverifier">ZkVerifier</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cverifier%5CZkVerifier.sol">Git Source</a></p>
<h2 id="state-variables-15"><a class="header" href="#state-variables-15">State Variables</a></h2>
<h3 id="verifier"><a class="header" href="#verifier">verifier</a></h3>
<pre><code class="language-solidity">IRiscZeroVerifier public verifier;
</code></pre>
<h3 id="verifierimageregistry"><a class="header" href="#verifierimageregistry">verifierImageRegistry</a></h3>
<pre><code class="language-solidity">IZkVerifierImageRegistry public verifierImageRegistry;
</code></pre>
<h3 id="_verifierinitialized"><a class="header" href="#_verifierinitialized">_verifierInitialized</a></h3>
<pre><code class="language-solidity">bool private _verifierInitialized;
</code></pre>
<h2 id="functions-43"><a class="header" href="#functions-43">Functions</a></h2>
<h3 id="initialize-3"><a class="header" href="#initialize-3">initialize</a></h3>
<p>Initializes a new ZkVerifier contract</p>
<pre><code class="language-solidity">function initialize(address _verifier, address _verifierImageRegistry) public;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_verifier</code></td><td><code>address</code></td><td>IRiscZeroVerifier contract implementation</td></tr>
<tr><td><code>_verifierImageRegistry</code></td><td><code>address</code></td><td></td></tr>
</tbody></table>
</div>
<h3 id="_setverifier"><a class="header" href="#_setverifier">_setVerifier</a></h3>
<p>Sets the _risc0Verifier address</p>
<p><em>Admin check is needed on the external method</em></p>
<pre><code class="language-solidity">function _setVerifier(address _risc0Verifier) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_risc0Verifier</code></td><td><code>address</code></td><td>the new IRiscZeroVerifier address</td></tr>
</tbody></table>
</div>
<h3 id="_setverifierimageregistry"><a class="header" href="#_setverifierimageregistry">_setVerifierImageRegistry</a></h3>
<p>Sets the IZkVerifierImageRegistry</p>
<p><em>Admin check is needed on the external method</em></p>
<pre><code class="language-solidity">function _setVerifierImageRegistry(address _imageRegistry) internal;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageRegistry</code></td><td><code>address</code></td><td>the new image registry address</td></tr>
</tbody></table>
</div>
<h3 id="_verifyinput"><a class="header" href="#_verifyinput">_verifyInput</a></h3>
<p>Verifies an input</p>
<pre><code class="language-solidity">function _verifyInput(bytes calldata journalEntry, bytes calldata seal, uint256 imageIdIndex) internal virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalEntry</code></td><td><code>bytes</code></td><td>the risc0 journal entry</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>the risc0 seal</td></tr>
<tr><td><code>imageIdIndex</code></td><td><code>uint256</code></td><td>the risc0 imageId index available in the registry</td></tr>
</tbody></table>
</div>
<h3 id="_verifyinput-1"><a class="header" href="#_verifyinput-1">_verifyInput</a></h3>
<p>Verifies an input</p>
<pre><code class="language-solidity">function _verifyInput(bytes calldata journalEntry, bytes calldata seal, bytes32 imageId) internal virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>journalEntry</code></td><td><code>bytes</code></td><td>the risc0 journal entry</td></tr>
<tr><td><code>seal</code></td><td><code>bytes</code></td><td>the risc0 seal</td></tr>
<tr><td><code>imageId</code></td><td><code>bytes32</code></td><td>the risc0 imageId</td></tr>
</tbody></table>
</div>
<h3 id="_verifybatchinput"><a class="header" href="#_verifybatchinput">_verifyBatchInput</a></h3>
<p>Batch verifies inputs</p>
<pre><code class="language-solidity">function _verifyBatchInput(VerifierBatchData calldata list) internal virtual;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>list</code></td><td><code>VerifierBatchData</code></td><td>the batch entry for risc0 parameters</td></tr>
</tbody></table>
</div>
<h3 id="_checkimage"><a class="header" href="#_checkimage">_checkImage</a></h3>
<pre><code class="language-solidity">function _checkImage(bytes32 imageId, uint256 _imageIndex) private view returns (bytes32);
</code></pre>
<h3 id="_checkaddresses"><a class="header" href="#_checkaddresses">_checkAddresses</a></h3>
<p><em>if imageId was provided, check it directly; otherwise get it by index</em></p>
<pre><code class="language-solidity">function _checkAddresses() private view;
</code></pre>
<h3 id="__verify"><a class="header" href="#__verify">__verify</a></h3>
<pre><code class="language-solidity">function __verify(bytes calldata journalEntry, bytes calldata seal, bytes32 imageId) private view;
</code></pre>
<h2 id="events-9"><a class="header" href="#events-9">Events</a></h2>
<h3 id="verifierset"><a class="header" href="#verifierset">VerifierSet</a></h3>
<pre><code class="language-solidity">event VerifierSet(address indexed oldVerifier, address indexed newVerifier);
</code></pre>
<h3 id="verifierimageregistryset"><a class="header" href="#verifierimageregistryset">VerifierImageRegistrySet</a></h3>
<pre><code class="language-solidity">event VerifierImageRegistrySet(address indexed oldRegistry, address indexed newRegistry);
</code></pre>
<h2 id="errors-12"><a class="header" href="#errors-12">Errors</a></h2>
<h3 id="zkverifier_onlyadmin"><a class="header" href="#zkverifier_onlyadmin">ZkVerifier_OnlyAdmin</a></h3>
<pre><code class="language-solidity">error ZkVerifier_OnlyAdmin();
</code></pre>
<h3 id="zkverifier_imagenotvalid"><a class="header" href="#zkverifier_imagenotvalid">ZkVerifier_ImageNotValid</a></h3>
<pre><code class="language-solidity">error ZkVerifier_ImageNotValid();
</code></pre>
<h3 id="zkverifier_inputnotvalid"><a class="header" href="#zkverifier_inputnotvalid">ZkVerifier_InputNotValid</a></h3>
<pre><code class="language-solidity">error ZkVerifier_InputNotValid();
</code></pre>
<h3 id="zkverifier_verifiernotset"><a class="header" href="#zkverifier_verifiernotset">ZkVerifier_VerifierNotSet</a></h3>
<pre><code class="language-solidity">error ZkVerifier_VerifierNotSet();
</code></pre>
<h3 id="zkverifier_alreadyinitialized"><a class="header" href="#zkverifier_alreadyinitialized">ZkVerifier_AlreadyInitialized</a></h3>
<pre><code class="language-solidity">error ZkVerifier_AlreadyInitialized();
</code></pre>
<h3 id="zkverifier_verifierimageregistrynotset"><a class="header" href="#zkverifier_verifierimageregistrynotset">ZkVerifier_VerifierImageRegistryNotSet</a></h3>
<pre><code class="language-solidity">error ZkVerifier_VerifierImageRegistryNotSet();
</code></pre>
<h2 id="structs-9"><a class="header" href="#structs-9">Structs</a></h2>
<h3 id="verifierbatchdata"><a class="header" href="#verifierbatchdata">VerifierBatchData</a></h3>
<pre><code class="language-solidity">struct VerifierBatchData {
    bytes[] journalEntries;
    bytes[] seals;
    bytes32[] imageIds;
    uint256[] imageIdIndexes;
}
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="zkverifierimageregistry"><a class="header" href="#zkverifierimageregistry">ZkVerifierImageRegistry</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5Cverifier%5CZkVerifierImageRegistry.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src%5Cverifier%5CZkVerifierImageRegistry.sol//src%5Cinterfaces%5CIZkVerifierImageRegistry.sol%5Cinterface.IZkVerifierImageRegistry.html">IZkVerifierImageRegistry</a></p>
<h2 id="state-variables-16"><a class="header" href="#state-variables-16">State Variables</a></h2>
<h3 id="isactive-1"><a class="header" href="#isactive-1">isActive</a></h3>
<p>Returns whitelist state for an image id</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; bool) public override isActive;
</code></pre>
<h3 id="imageindex-1"><a class="header" href="#imageindex-1">imageIndex</a></h3>
<p>Returns index array for image id</p>
<pre><code class="language-solidity">mapping(bytes32 =&gt; uint256) public override imageIndex;
</code></pre>
<h3 id="imageids"><a class="header" href="#imageids">imageIds</a></h3>
<p>Array for registered image ids</p>
<pre><code class="language-solidity">bytes32[] public imageIds;
</code></pre>
<h2 id="functions-44"><a class="header" href="#functions-44">Functions</a></h2>
<h3 id="constructor-10"><a class="header" href="#constructor-10">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner) Ownable(_owner);
</code></pre>
<h3 id="getimageforindex-1"><a class="header" href="#getimageforindex-1">getImageForIndex</a></h3>
<p>Returns bytes32 image by index</p>
<pre><code class="language-solidity">function getImageForIndex(uint256 _index) external view override returns (bytes32);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_index</code></td><td><code>uint256</code></td><td>the array index</td></tr>
</tbody></table>
</div>
<h3 id="addimageid"><a class="header" href="#addimageid">addImageId</a></h3>
<p>Registers a new image id</p>
<pre><code class="language-solidity">function addImageId(bytes32 _newImageId) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_newImageId</code></td><td><code>bytes32</code></td><td>the new bytes32 verification image id</td></tr>
</tbody></table>
</div>
<h3 id="disableimageid"><a class="header" href="#disableimageid">disableImageId</a></h3>
<p>Disables existing image id</p>
<pre><code class="language-solidity">function disableImageId(bytes32 _imageId) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_imageId</code></td><td><code>bytes32</code></td><td>the existing bytes32 verification image id</td></tr>
</tbody></table>
</div>
<h2 id="events-10"><a class="header" href="#events-10">Events</a></h2>
<h3 id="imageadded"><a class="header" href="#imageadded">ImageAdded</a></h3>
<pre><code class="language-solidity">event ImageAdded(bytes32 imageId, uint256 index);
</code></pre>
<h2 id="errors-13"><a class="header" href="#errors-13">Errors</a></h2>
<h3 id="zkverifierimagesregistry_alredyregistered"><a class="header" href="#zkverifierimagesregistry_alredyregistered">ZkVerifierImagesRegistry_AlredyRegistered</a></h3>
<pre><code class="language-solidity">error ZkVerifierImagesRegistry_AlredyRegistered();
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="counter"><a class="header" href="#counter">Counter</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CCounter.sol">Git Source</a></p>
<h2 id="state-variables-17"><a class="header" href="#state-variables-17">State Variables</a></h2>
<h3 id="number"><a class="header" href="#number">number</a></h3>
<pre><code class="language-solidity">uint256 public number;
</code></pre>
<h2 id="functions-45"><a class="header" href="#functions-45">Functions</a></h2>
<h3 id="setnumber"><a class="header" href="#setnumber">setNumber</a></h3>
<pre><code class="language-solidity">function setNumber(uint256 newNumber) public;
</code></pre>
<h3 id="increment"><a class="header" href="#increment">increment</a></h3>
<pre><code class="language-solidity">function increment() public;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="roles-2"><a class="header" href="#roles-2">Roles</a></h1>
<p><a href="https://github.com/https://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@malda-protocol/malda-lending/blob/22e38d89bfe9c3bbd0459495952fb3409b4b0c16/src%5CRoles.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
Ownable, <a href="src%5CRoles.sol//src%5Cinterfaces%5CIRoles.sol%5Cinterface.IRoles.html">IRoles</a></p>
<h2 id="state-variables-18"><a class="header" href="#state-variables-18">State Variables</a></h2>
<h3 id="_roles"><a class="header" href="#_roles">_roles</a></h3>
<pre><code class="language-solidity">mapping(address =&gt; mapping(bytes32 =&gt; bool)) private _roles;
</code></pre>
<h3 id="logs_add-1"><a class="header" href="#logs_add-1">LOGS_ADD</a></h3>
<pre><code class="language-solidity">bytes32 public constant LOGS_ADD = keccak256("LOGS_ADD");
</code></pre>
<h3 id="pause_manager-1"><a class="header" href="#pause_manager-1">PAUSE_MANAGER</a></h3>
<pre><code class="language-solidity">bytes32 public constant PAUSE_MANAGER = keccak256("PAUSE_MANAGER");
</code></pre>
<h3 id="guardian_mint-1"><a class="header" href="#guardian_mint-1">GUARDIAN_MINT</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_MINT = keccak256("GUARDIAN_MINT");
</code></pre>
<h3 id="guardian_pause-1"><a class="header" href="#guardian_pause-1">GUARDIAN_PAUSE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_PAUSE = keccak256("GUARDIAN_PAUSE");
</code></pre>
<h3 id="guardian_seize-1"><a class="header" href="#guardian_seize-1">GUARDIAN_SEIZE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_SEIZE = keccak256("GUARDIAN_SEIZE");
</code></pre>
<h3 id="proof_forwarder-1"><a class="header" href="#proof_forwarder-1">PROOF_FORWARDER</a></h3>
<pre><code class="language-solidity">bytes32 public constant PROOF_FORWARDER = keccak256("PROOF_FORWARDER");
</code></pre>
<h3 id="guardian_borrow-1"><a class="header" href="#guardian_borrow-1">GUARDIAN_BORROW</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_BORROW = keccak256("GUARDIAN_BORROW");
</code></pre>
<h3 id="guardian_reserve-1"><a class="header" href="#guardian_reserve-1">GUARDIAN_RESERVE</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_RESERVE = keccak256("GUARDIAN_RESERVE");
</code></pre>
<h3 id="guardian_transfer-1"><a class="header" href="#guardian_transfer-1">GUARDIAN_TRANSFER</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_TRANSFER = keccak256("GUARDIAN_TRANSFER");
</code></pre>
<h3 id="guardian_borrow_cap-1"><a class="header" href="#guardian_borrow_cap-1">GUARDIAN_BORROW_CAP</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_BORROW_CAP = keccak256("GUARDIAN_BORROW_CAP");
</code></pre>
<h3 id="guardian_supply_cap-1"><a class="header" href="#guardian_supply_cap-1">GUARDIAN_SUPPLY_CAP</a></h3>
<pre><code class="language-solidity">bytes32 public constant GUARDIAN_SUPPLY_CAP = keccak256("GUARDIAN_SUPPLY_CAP");
</code></pre>
<h2 id="functions-46"><a class="header" href="#functions-46">Functions</a></h2>
<h3 id="constructor-11"><a class="header" href="#constructor-11">constructor</a></h3>
<pre><code class="language-solidity">constructor(address _owner) Ownable(_owner);
</code></pre>
<h3 id="isallowedfor-1"><a class="header" href="#isallowedfor-1">isAllowedFor</a></h3>
<pre><code class="language-solidity">function isAllowedFor(address _contract, bytes32 _role) external view override returns (bool);
</code></pre>
<h3 id="allowfor"><a class="header" href="#allowfor">allowFor</a></h3>
<p>Abiltity to allow a contract for a role or not</p>
<pre><code class="language-solidity">function allowFor(address _contract, bytes32 _role, bool _allowed) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>_contract</code></td><td><code>address</code></td><td>the contract's address.</td></tr>
<tr><td><code>_role</code></td><td><code>bytes32</code></td><td>the bytes32 role.</td></tr>
<tr><td><code>_allowed</code></td><td><code>bool</code></td><td>the new status.</td></tr>
</tbody></table>
</div>
<h2 id="events-11"><a class="header" href="#events-11">Events</a></h2>
<h3 id="allowed"><a class="header" href="#allowed">Allowed</a></h3>
<p>emitted when role is set</p>
<pre><code class="language-solidity">event Allowed(address indexed _contract, bytes32 indexed _role, bool _allowed);
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->
        <script src="solidity.min.js"></script>

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
